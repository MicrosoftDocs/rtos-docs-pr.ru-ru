---
title: Глава 1. Введение в PPPoE-сервер NetX для ОСРВ Azure
description: В этом документе рассматриваются сведения о модуле PPPoE NetX в ОСРВ Azure.
author: philmea
ms.author: philmea
ms.date: 06/04/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 2f79cba35991555f7f8d10e589aa251387ce25c48c3b729da371b548f13321bd
ms.sourcegitcommit: 93d716cf7e3d735b18246d659ec9ec7f82c336de
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2021
ms.locfileid: "116798331"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-pppoe-server"></a>Глава 1. Введение в PPPoE-сервер NetX для ОСРВ Azure

PPP через Ethernet (PPPoE) позволяет узлам подключаться к PPP-серверу через Ethernet, а не по стандартному каналу связи на основе символов. Технические сведения о протоколе PPPoE описаны в документе RFC 2516, "Метод передачи PPP через Ethernet (PPPoE)". В этом документе рассматриваются сведения о модуле PPPoE NetX в ОСРВ Azure.

Чтобы обеспечить подключение типа "точка — точка" через Ethernet, каждый сеанс PPP должен знать адрес Ethernet удаленного кэширующего узла, а также установить уникальный идентификатор сеанса.

Согласно стандарту RFC 2516, PPPoE состоит из двух этапов: этапа обнаружения и этапа сеанса PPPoE. Когда узлу (клиенту) нужно начать сеанс PPP, он должен сначала выполнить обнаружение для поиска сервера PPPoE. Этот шаг также позволяет серверу и клиенту определить MAC-адрес Ethernet и SESSION_ID друг друга, которые будут использоваться в оставшейся части сеанса PPP.

Кадр Ethernet выглядит следующим образом.

![Схема кадра Ethernet.](media/netx-pppoe-server-01.png)

Полезные данные Ethernet для протокола PPPoE

![Схема полезных данных Ethernet для PPPoE](media/netx-pppoe-server-02.png)

## <a name="pppoe-discovery-stage"></a>Этап обнаружения PPPoE

На этапе обнаружения PPPoE клиенты могут выбрать сервер из всех доступных серверов в сети, чтобы создать сеанс до обмена кадрами PPP. В конце этапа обнаружения клиент и сервер должны согласовать подключение с помощью уникального ИД сеанса и обеим сторонам необходимо знать MAC-адреса друг друга.

| Сообщение обнаружения                                  | Код | Направление                                     |
| -------------------------------------------------- | ---- | --------------------------------------------- |
| Инициация активного обнаружения PPPoE (PADI)           | 0x09 | От клиента к широковещательной рассылке                      |
| Предложение активного обнаружения PPPoE (PADO)                | 0x07 | От сервера к клиенту                         |
| Запрос на активное обнаружение PPPoE (PADR)              | 0x19 | От клиента к серверу                         |
| Подтверждение сеанса активного обнаружения PPPOE (PADS) | 0x65 | От сервера к клиенту                         |
| Завершение активного обнаружения PPPoE (PADT)            | 0xa7 | Может быть инициировано как с сервера, так и с клиента |

Во всех кадрах обнаружения Ethernet в поле ETHER_TYPE указано значение 0x8863.

## <a name="pppoe-session-message"></a>Сообщение сеанса PPPoE

После того как клиент и сервер создали сеанс, кадры PPP могут передаваться как сообщения сеанса PPPoE. Во время сеанса SESSION_ID не должен изменяться и должен быть значением, назначенным сервером на этапе обнаружения.

Для всех кадров Ethernet сеанса PPPoE для поля ETHER_TYPE задано значение 0x8864.