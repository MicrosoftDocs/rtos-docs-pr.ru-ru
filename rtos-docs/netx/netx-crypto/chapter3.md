---
title: Глава 3. Функциональное описание NetX Crypto для ОСРВ Azure
description: Эта глава содержит функциональное описание NetX Crypto.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 4ecdbfe99daa000d109908f834b139dcaf321491
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104814448"
---
# <a name="chapter-3---functional-description-of-azure-rtos-netx-crypto"></a><span data-ttu-id="f7bca-103">Глава 3. Функциональное описание NetX Crypto для ОСРВ Azure</span><span class="sxs-lookup"><span data-stu-id="f7bca-103">Chapter 3 - Functional description of Azure RTOS NetX Crypto</span></span>

## <a name="execution-overview"></a><span data-ttu-id="f7bca-104">Общие сведения о выполнении</span><span class="sxs-lookup"><span data-stu-id="f7bca-104">Execution Overview</span></span>

<span data-ttu-id="f7bca-105">Эта глава содержит функциональное описание NetX Crypto для ОСРВ Azure.</span><span class="sxs-lookup"><span data-stu-id="f7bca-105">This chapter contains a functional description of Azure RTOS NetX Crypto.</span></span> <span data-ttu-id="f7bca-106">В приложении NetX Crypto используются два основных типа выполнения программ: инициализация и вызовы интерфейса приложения.</span><span class="sxs-lookup"><span data-stu-id="f7bca-106">There are two primary types of program execution in a NetX Crypto application: initialization and application interface calls.</span></span>

<span data-ttu-id="f7bca-107">*NetX Crypto можно использовать как автономную библиотеку для шифрования или в сочетании с ThreadX, NetX и (или) NetX Secure.*</span><span class="sxs-lookup"><span data-stu-id="f7bca-107">*NetX Crypto can be used as a standalone cryptographic library, or can be used with ThreadX, NetX, and/or NetX Secure.*</span></span>

## <a name="aes"></a><span data-ttu-id="f7bca-108">AES</span><span class="sxs-lookup"><span data-stu-id="f7bca-108">AES</span></span>

- <span data-ttu-id="f7bca-109">**Стандарт алгоритма:** : NetX Crypto реализует AES по стандарту NIST FIPS 197, с которым можно ознакомиться здесь: [http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.197.pdf](http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.197.pdf)</span><span class="sxs-lookup"><span data-stu-id="f7bca-109">**Algorithm Standard:**:  NetX Crypto implements AES according to NIST FIPS 197, which can be found at: [http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.197.pdf](http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.197.pdf)</span></span>
- <span data-ttu-id="f7bca-110">**Поддерживаемые значения длины ключа**: 128, 192, 256.</span><span class="sxs-lookup"><span data-stu-id="f7bca-110">**Key Lengths Supported**: 128, 192, 256</span></span>
- <span data-ttu-id="f7bca-111">**Поддерживаемые режимы**:</span><span class="sxs-lookup"><span data-stu-id="f7bca-111">**Modes Supported**:</span></span>
  - <span data-ttu-id="f7bca-112">CBC, CTR (с длиной ключа 128, 192 и 256 бит);</span><span class="sxs-lookup"><span data-stu-id="f7bca-112">CBC, CTR, (Key length 128-, 192-, 256-bit)</span></span>
  - <span data-ttu-id="f7bca-113">XCBC (только с длиной ключа 128 бит);</span><span class="sxs-lookup"><span data-stu-id="f7bca-113">XCBC (key length 128-bit only),</span></span>
  - <span data-ttu-id="f7bca-114">CCM8 (только с длиной ключа 128 бит).</span><span class="sxs-lookup"><span data-stu-id="f7bca-114">CCM8 (key length 128-bit only)</span></span>
- <span data-ttu-id="f7bca-115">**Требования к памяти**: приложение описывает буфер для входных данных, буфер для выходных данных и структуру управления AES.</span><span class="sxs-lookup"><span data-stu-id="f7bca-115">**Memory Requirements**: Application specifies input buffer and output buffer and an AES control structure.</span></span> <span data-ttu-id="f7bca-116">Структура управления AES поддерживает состояние алгоритма AES между вызовами API.</span><span class="sxs-lookup"><span data-stu-id="f7bca-116">The AES control structure maintains AES algorithm state between calls to the API.</span></span> <span data-ttu-id="f7bca-117">Буфер входных данных предназначен для хранения данных, подлежащих шифрованию или расшифровке, и может иметь любой размер.</span><span class="sxs-lookup"><span data-stu-id="f7bca-117">The input buffer contains data to be encrypted or decrypted, and can be arbitrary size.</span></span> <span data-ttu-id="f7bca-118">Буфер выходных данных используется службой AES для хранения обрабатываемых данных.</span><span class="sxs-lookup"><span data-stu-id="f7bca-118">The output buffer is used by AES to store data being processed by AES.</span></span> <span data-ttu-id="f7bca-119">Размер буфера выходных данных должен быть не меньше, чем у буфера входных данных, и кратным 16 байтам (размер блока AES).</span><span class="sxs-lookup"><span data-stu-id="f7bca-119">The output buffer size must be no smaller than the input buffer size, and must be a multiple of 16 bytes, the AES block size.</span></span> <span data-ttu-id="f7bca-120">Буферы входных и выходных данных должны выделяться непрерывным блоком памяти и не могут перекрываться, за исключением особого сценария "шифрование на месте", при котором для входных и выходных данных используется один буфер.</span><span class="sxs-lookup"><span data-stu-id="f7bca-120">The input and output buffers must be contiguous memory and may not overlap, except in the special case of encrypting in-place (using the same memory for input and output).</span></span> <span data-ttu-id="f7bca-121">При шифровании на месте у буфера выходных данных начальная позиция совпадает с началом буфера входных данных, а размер должен быть таким же или больше.</span><span class="sxs-lookup"><span data-stu-id="f7bca-121">When encrypting in-place, the output buffer starts at exactly the same location as the input buffer, and must be no smaller than the input buffer.</span></span> <span data-ttu-id="f7bca-122">Если шифрование AES выполняется на месте, вспомогательная память не требуется.</span><span class="sxs-lookup"><span data-stu-id="f7bca-122">When AES encryption operates in-place no extra scratch memory is required.</span></span>

## <a name="3des"></a><span data-ttu-id="f7bca-123">3DES</span><span class="sxs-lookup"><span data-stu-id="f7bca-123">3DES</span></span>

- <span data-ttu-id="f7bca-124">**Стандарт алгоритма**: NetX Crypto реализует Tripple DES (TDES, или 3DES) по стандарту, описанному в специальной публикации NIST 800-67 (издание 2): *"Рекомендации для блочного шифра с алгоритмом тройного шифрования данных (TDES)"* , с которым можно ознакомиться здесь: [https://csrc.nist.gov/publications/detail/sp/800-67/rev-2/final](https://csrc.nist.gov/publications/detail/sp/800-67/rev-2/final)</span><span class="sxs-lookup"><span data-stu-id="f7bca-124">**Algorithm Standard**: NetX Crypto implements Tripple DES(TDES, also known as 3DES) according to NIST Special Publication 800-67 rev 2: *"Recommendataion for the Triple Data Encryption Algorithm (TDES) Block Cipher"*, which can be found at: [https://csrc.nist.gov/publications/detail/sp/800-67/rev-2/final](https://csrc.nist.gov/publications/detail/sp/800-67/rev-2/final)</span></span>
- <span data-ttu-id="f7bca-125">**Поддерживаемая длина ключа**: 64×3=192.</span><span class="sxs-lookup"><span data-stu-id="f7bca-125">**Key Length Supported**: 64 \* 3 = 192</span></span>
- <span data-ttu-id="f7bca-126">**Требования к памяти:** : нет.</span><span class="sxs-lookup"><span data-stu-id="f7bca-126">**Memory Requreiment:**: None</span></span>

<span data-ttu-id="f7bca-127">В NetX Crypto термин "3DES" используется как синоним для "TDES".</span><span class="sxs-lookup"><span data-stu-id="f7bca-127">In NetX Crypto, the term "3DES" is used interchangeably with "TDES".</span></span>

## <a name="md5"></a><span data-ttu-id="f7bca-128">MD5</span><span class="sxs-lookup"><span data-stu-id="f7bca-128">MD5</span></span>

- <span data-ttu-id="f7bca-129">**Стандарт алгоритма**: NetX Crypto реализует MD5 по стандарту RFC 1321: *"Алгоритм хэша MD5"* .</span><span class="sxs-lookup"><span data-stu-id="f7bca-129">**Algorithm Standard**: NetX Crypto implements MD5 according to RFC 1321: *"The MD5 Message-Digest Algorithm"*</span></span>
- <span data-ttu-id="f7bca-130">**Требования к памяти**: приложение должно предоставить структуру блока управления MD5, которая используется для сохранения состояния между операциями MD5.</span><span class="sxs-lookup"><span data-stu-id="f7bca-130">**Memory Requirement**: The application must supply an MD5 control block structure, used to maintain state between MD5 operations.</span></span>

## <a name="sha1-sha256512"></a><span data-ttu-id="f7bca-131">SHA1, SHA256/512</span><span class="sxs-lookup"><span data-stu-id="f7bca-131">SHA1, SHA256/512</span></span>

- <span data-ttu-id="f7bca-132">**Стандарт алгоритма:** NetX Crypto реализует SHA1/256/512 по стандарту, описанному в публикации NIST FIPS 180-4: "*Стандарт безопасного хэш-кода*", с которым можно ознакомиться здесь: [http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf](http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf)</span><span class="sxs-lookup"><span data-stu-id="f7bca-132">**Algorithm Standard:** NetX Crypto implements SHA1/256/512 according to NIST FIPS publication 180-4: "*Secure Hash Standard*", which can be found at: [http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf](http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf)</span></span>
- <span data-ttu-id="f7bca-133">**Размер блока хэша**:</span><span class="sxs-lookup"><span data-stu-id="f7bca-133">**Hash block size:**:</span></span>
  - <span data-ttu-id="f7bca-134">SHA1: 160-битное значение хэша;</span><span class="sxs-lookup"><span data-stu-id="f7bca-134">SHA1: 160 bits hash value</span></span>
  - <span data-ttu-id="f7bca-135">SHA 224: 224-битное значение хэша;</span><span class="sxs-lookup"><span data-stu-id="f7bca-135">SHA 224: 224 bits hash value</span></span>
  - <span data-ttu-id="f7bca-136">SHA 256: 256-битное значение хэша;</span><span class="sxs-lookup"><span data-stu-id="f7bca-136">SHA 256: 256 bits hash value</span></span>
  - <span data-ttu-id="f7bca-137">SHA 384: 384-битное значение хэша;</span><span class="sxs-lookup"><span data-stu-id="f7bca-137">SHA 384: 384 bits hash value</span></span>
  - <span data-ttu-id="f7bca-138">SHA 512: 512-битное значение хэша;</span><span class="sxs-lookup"><span data-stu-id="f7bca-138">SHA 512: 512 bits hash value</span></span>
  - <span data-ttu-id="f7bca-139">SHA 512/224: 224-битное значение хэша;</span><span class="sxs-lookup"><span data-stu-id="f7bca-139">SHA 512/224: 224 bits hash value</span></span>
  - <span data-ttu-id="f7bca-140">SHA 512/256: 256-битное значение хэша.</span><span class="sxs-lookup"><span data-stu-id="f7bca-140">SHA 512/256: 256 bits hash value</span></span>

  <span data-ttu-id="f7bca-141">В NetX Crypto для SHA256 и SHA224 используются подпрограммы SHA256.</span><span class="sxs-lookup"><span data-stu-id="f7bca-141">In NetX Crypto, SHA256 routines are used to hadn SHA256 and SHA224.</span></span> <span data-ttu-id="f7bca-142">Для SHA512, SHA384, SHA512/224 и SHA512/256 используются подпрограммы SHA512.</span><span class="sxs-lookup"><span data-stu-id="f7bca-142">SHA512 routines are used to hand SHA512, SHA384, SHA512/224 and SHA512/256.</span></span>
- <span data-ttu-id="f7bca-143">**Требования к памяти:** приложение должно предоставить структуру блока управления SHA для поддержания состояния между операциями.</span><span class="sxs-lookup"><span data-stu-id="f7bca-143">**Memory Requirement:** The application must provide a SHA control block structure for maintaining state between operations.</span></span>

## <a name="rsa"></a><span data-ttu-id="f7bca-144">RSA</span><span class="sxs-lookup"><span data-stu-id="f7bca-144">RSA</span></span>

- <span data-ttu-id="f7bca-145">**Стандарт:** NetX Crypto реализует RSA по стандарту "*PKCS № 1 версии 2.2: стандарт шифрования RSA*", который опубликован как документ RFC 8017 и размещается здесь: [https://www.emc.com/collateral/white-papers/h11300-pkcs-1v2-2-rsa-cryptography-standard-wp.pdf](https://www.emc.com/collateral/white-papers/h11300-pkcs-1v2-2-rsa-cryptography-standard-wp.pdf)</span><span class="sxs-lookup"><span data-stu-id="f7bca-145">**Standard:** NetX Crypto implements RSA according to the standard "*PKCS #1 v2.2: RSA Cryptography Standard*", which is published as RFC 8017 and can also be found at: [https://www.emc.com/collateral/white-papers/h11300-pkcs-1v2-2-rsa-cryptography-standard-wp.pdf](https://www.emc.com/collateral/white-papers/h11300-pkcs-1v2-2-rsa-cryptography-standard-wp.pdf)</span></span>
- <span data-ttu-id="f7bca-146">**Требования к памяти:** приложение должно предоставить структуру блока управления RSA для поддержания состояния между операциями, а также достаточное пространство "вспомогательного" буфера для промежуточных вычислений.</span><span class="sxs-lookup"><span data-stu-id="f7bca-146">**Memory Requirement:** The application must provide an RSA control block structure for maintaining state between operations and to provide necessary "scratch" buffer space for intermediate calculations.</span></span>

## <a name="hmac"></a><span data-ttu-id="f7bca-147">Код проверки подлинности сообщений с помощью хэш-функций</span><span class="sxs-lookup"><span data-stu-id="f7bca-147">HMAC</span></span>

- <span data-ttu-id="f7bca-148">**Стандарт:** NetX Crypto реализует HMAC по стандарту FIPS PUB 198-1 "*Код проверки подлинности сообщений с помощью хэш-функций (HMAC)* ", с которым можно ознакомиться здесь: [https://csrc.nist.gov/csrc/media/publications/fips/198/1/final/documents/fips-198-1_final.pdf](https://csrc.nist.gov/csrc/media/publications/fips/198/1/final/documents/fips-198-1_final.pdf)</span><span class="sxs-lookup"><span data-stu-id="f7bca-148">**Standard:** NetX Crypto implements HMAC according to FIPS PUB 198-1: "*The Keyed-Hash Message Authentication Code (HMAC)*", which can be found at: [https://csrc.nist.gov/csrc/media/publications/fips/198/1/final/documents/fips-198-1_final.pdf](https://csrc.nist.gov/csrc/media/publications/fips/198/1/final/documents/fips-198-1_final.pdf)</span></span>
- <span data-ttu-id="f7bca-149">**Требования к памяти:** приложение должно предоставить структуру блока управления HMAC для поддержания состояния между операциями.</span><span class="sxs-lookup"><span data-stu-id="f7bca-149">**Memory Requirement:** The application must provide an HMAC control block structure for maintaining state between operations.</span></span> <span data-ttu-id="f7bca-150">Требования к выделению блока управления будут разными в зависимости от требуемых операций хэширования (например, SHA1 или MD5).</span><span class="sxs-lookup"><span data-stu-id="f7bca-150">The actual control block supplied depends on the desired underlying hash operation (e.g. SHA1, MD5).</span></span>

## <a name="elliptic-curve"></a><span data-ttu-id="f7bca-151">эллиптическая кривая;</span><span class="sxs-lookup"><span data-stu-id="f7bca-151">Elliptic Curve</span></span>

- <span data-ttu-id="f7bca-152">**Стандарт:** NetX Crypto реализует эллиптические кривые.</span><span class="sxs-lookup"><span data-stu-id="f7bca-152">**Standard:** NetX Crypto implements Elliptic Curve.</span></span> <span data-ttu-id="f7bca-153">Ниже перечислены поддерживаемые именованные кривые (только в основном поле):</span><span class="sxs-lookup"><span data-stu-id="f7bca-153">The supported named curves are (prime field only):</span></span>
  - <span data-ttu-id="f7bca-154">P-192;</span><span class="sxs-lookup"><span data-stu-id="f7bca-154">P-192</span></span>
  - <span data-ttu-id="f7bca-155">P-224;</span><span class="sxs-lookup"><span data-stu-id="f7bca-155">P-224</span></span>
  - <span data-ttu-id="f7bca-156">P-256</span><span class="sxs-lookup"><span data-stu-id="f7bca-156">P-256</span></span>
  - <span data-ttu-id="f7bca-157">P-384</span><span class="sxs-lookup"><span data-stu-id="f7bca-157">P-384</span></span>
  - <span data-ttu-id="f7bca-158">P-521</span><span class="sxs-lookup"><span data-stu-id="f7bca-158">P-521</span></span>

   > [!TIP]
   > <span data-ttu-id="f7bca-159">Поддерживается несжатый формат.</span><span class="sxs-lookup"><span data-stu-id="f7bca-159">Uncompressed format is supported.</span></span> <span data-ttu-id="f7bca-160">См. разделы 2.3.3 и 2.3.4 документа SEC1-v1: [http://www.secg.org/sec1-v2.pdf](http://www.secg.org/sec1-v2.pdf)</span><span class="sxs-lookup"><span data-stu-id="f7bca-160">See section 2.3.3 and 2.3.4 of SEC1-v1: [http://www.secg.org/sec1-v2.pdf](http://www.secg.org/sec1-v2.pdf)</span></span>

- <span data-ttu-id="f7bca-161">**Требования к памяти**: Нет.</span><span class="sxs-lookup"><span data-stu-id="f7bca-161">**Memory Requirement:** None</span></span>

## <a name="ecdsa"></a><span data-ttu-id="f7bca-162">ECDSA</span><span class="sxs-lookup"><span data-stu-id="f7bca-162">ECDSA</span></span>

- <span data-ttu-id="f7bca-163">**Стандарт:** NetX Crypto реализует ECDSA по стандарту FIPS PUB 186-4 "*Стандарт цифровой подписи (DSS)* ", с которым можно ознакомиться здесь: [https://nvlpubs.nist.gov/nistpubs/fips/nist.fips.186-4.pdf](https://nvlpubs.nist.gov/nistpubs/fips/nist.fips.186-4.pdf)</span><span class="sxs-lookup"><span data-stu-id="f7bca-163">**Standard:** NetX Crypto implements ECDSA according to FIPS PUB 186-4: "*Digital Signature Standard (DSS)*", which can be found at: [https://nvlpubs.nist.gov/nistpubs/fips/nist.fips.186-4.pdf](https://nvlpubs.nist.gov/nistpubs/fips/nist.fips.186-4.pdf)</span></span>
- <span data-ttu-id="f7bca-164">**Требования к памяти:** приложение должно предоставить структуру блока управления ECDSA для поддержания состояния между операциями.</span><span class="sxs-lookup"><span data-stu-id="f7bca-164">**Memory Requirement:** The application must provide an ECDSA control block structure for maintaining state between operations.</span></span>

## <a name="ecdh"></a><span data-ttu-id="f7bca-165">ECDH</span><span class="sxs-lookup"><span data-stu-id="f7bca-165">ECDH</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f7bca-166">В ОСРВ Azure 6.0 подпрограммы ECDH следует использовать только для шифрования ECDHE, так как для надежного применения ECDH со статическим закрытым ключом требуется проверка точки входа.</span><span class="sxs-lookup"><span data-stu-id="f7bca-166">In Azure RTOS 6.0, ECDH routines should only be used for ECDHE cryptography as ECDH with a static private key requires input point validation to be secure.</span></span>

- <span data-ttu-id="f7bca-167">**Стандарт:** NetX Crypto реализует ECDH по стандарту FIPS PUB 800-56Ar2 "Рекомендации по схемам попарной организации ключей с использованием дискретного логарифмического шифрования", с которым можно ознакомиться здесь: [https://nvlpubs.nist.gov/nistpubs/specialpublications/nist.sp.800-56ar2.pdf](https://nvlpubs.nist.gov/nistpubs/specialpublications/nist.sp.800-56ar2.pdf)</span><span class="sxs-lookup"><span data-stu-id="f7bca-167">**Standard:** NetX Crypto implements ECDH according to FIPS PUB 800-56Ar2: "Recommendation for Pair-Wise Key Establishment Schemes Using Discrete Logarithm Cryptography", which can be found at: [https://nvlpubs.nist.gov/nistpubs/specialpublications/nist.sp.800-56ar2.pdf](https://nvlpubs.nist.gov/nistpubs/specialpublications/nist.sp.800-56ar2.pdf)</span></span>
- <span data-ttu-id="f7bca-168">**Требования к памяти:** приложение должно предоставить структуру блока управления ECDH для поддержания состояния между операциями.</span><span class="sxs-lookup"><span data-stu-id="f7bca-168">**Memory Requirement:** The application must provide an ECDH control block structure for maintaining state between operations.</span></span>

## <a name="drbg"></a><span data-ttu-id="f7bca-169">DRBG</span><span class="sxs-lookup"><span data-stu-id="f7bca-169">DRBG</span></span>

- <span data-ttu-id="f7bca-170">**Стандарт:** NetX Crypto реализует DRBG по стандарту FIPS PUB 800-90Ar1 "Рекомендации по генерации случайных чисел с использованием детерминированных генераторов случайного бита", с которым можно ознакомиться здесь: [https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-90Ar1.pdf](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-90Ar1.pdf)</span><span class="sxs-lookup"><span data-stu-id="f7bca-170">**Standard:** NetX Crypto implements DRBG according to FIPS PUB 800-90Ar1: "Recommendation for Random Number Generation Using Deterministic Random Bit Generators", which can be found at: [https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-90Ar1.pdf](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-90Ar1.pdf)</span></span>
- <span data-ttu-id="f7bca-171">**Требования к памяти:** приложение должно предоставить структуру блока управления DRBG для поддержания состояния между операциями.</span><span class="sxs-lookup"><span data-stu-id="f7bca-171">**Memory Requirement:** The application must provide an DRBG control block structure for maintaining state between operations.</span></span>

## <a name="fips-compliant"></a><span data-ttu-id="f7bca-172">Соответствие требованиям FIPS</span><span class="sxs-lookup"><span data-stu-id="f7bca-172">FIPS-Compliant</span></span>

<span data-ttu-id="f7bca-173">NetX Crypto FIPS 140-2.</span><span class="sxs-lookup"><span data-stu-id="f7bca-173">NetX Crypto FIPS 140-2</span></span>