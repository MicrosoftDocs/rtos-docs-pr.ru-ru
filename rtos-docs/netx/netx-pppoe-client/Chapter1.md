---
title: Глава 1. Введение в PPPoE-клиент NetX для ОСРВ Azure
description: В этой главе содержатся сведения о модуле NetX PPPoE для ОСРВ Azure.
author: philmea
ms.author: philmea
ms.date: 07/13/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: bbf1e064bb38754bd67b279a0fd60d46d3d6d557
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104815148"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-pppoe-client"></a>Глава 1. Введение в PPPoE-клиент NetX для ОСРВ Azure

PPP через Ethernet (PPPoE) позволяет узлам подключаться к PPP-серверу через Ethernet, а не по стандартному каналу связи на основе символов.  Технические сведения о протоколе PPPoE описаны в документе RFC 2516, "Метод передачи PPP через Ethernet (PPPoE)". В этом документе рассматриваются сведения о модуле NetX PPPoE в ОСРВ Azure.

Чтобы обеспечить подключение типа "точка — точка" через Ethernet, каждый сеанс PPP должен знать адрес Ethernet удаленного кэширующего узла, а также установить уникальный идентификатор сеанса.

Согласно стандарту RFC 2516, PPPoE состоит из двух этапов: этапа обнаружения и этапа сеанса PPPoE. Когда узлу (клиенту) нужно начать сеанс PPP, он должен сначала выполнить обнаружение для поиска сервера PPPoE. Этот шаг также позволяет серверу и клиенту определить MAC-адрес Ethernet и SESSION_ID друг друга, которые будут использоваться в оставшейся части сеанса PPP.

Кадр Ethernet выглядит следующим образом.

![Кадр Ethernet](media/ethernet-frame.png)

Полезные данные Ethernet для протокола PPPoE

![Полезные данные Ethernet](media/ethernet-payload.png)

## <a name="pppoe-discovery-stage"></a>Этап обнаружения PPPoE

На этапе обнаружения PPPoE клиенты могут выбрать сервер из всех доступных серверов в сети, чтобы создать сеанс до обмена кадрами PPP.  В конце этапа обнаружения клиент и сервер должны согласовать подключение с помощью уникального ИД сеанса и обеим сторонам необходимо знать MAC-адреса друг друга.

| Сообщение обнаружения | Код | Направление |
| ----------------- | ---- | --------- |
| Инициация активного обнаружения PPPoE (PADI) | 0x09 | От клиента к широковещательной рассылке |
| Предложение активного обнаружения PPPoE (PADO) | 0x07 | От сервера к клиенту |
| Запрос на активное обнаружение PPPoE (PADR) | 0x19 | От клиента к серверу |
| Подтверждение сеанса активного обнаружения PPPOE (PADS) | 0x65 | От сервера к клиенту |
| Завершение активного обнаружения PPPoE (PADT) | 0xa7 | Может быть инициировано как с сервера, так и с клиента |

Во всех кадрах обнаружения Ethernet в поле ETHER_TYPE указано значение 0x8863.

## <a name="pppoe-session-message"></a>Сообщение сеанса PPPoE

После того как клиент и сервер создали сеанс, кадры PPP могут передаваться как сообщения сеанса PPPoE.  Во время сеанса SESSION_ID не должен изменяться и должен быть значением, назначенным сервером на этапе обнаружения.

Для всех кадров Ethernet сеанса PPPoE для поля ETHER_TYPE задано значение 0x8864.
