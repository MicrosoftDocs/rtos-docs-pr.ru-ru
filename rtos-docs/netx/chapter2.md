---
title: Глава 2. Установка и использование NetX для ОСРВ Azure
description: В этой главе описаны различные проблемы, связанные с установкой, настройкой и использованием высокопроизводительного сетевого стека NetX для ОСРВ Azure.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 942250cf864fca3c35b97ae731549c070ac2f2f2ef3ef8897e5cbf1e705e7c6a
ms.sourcegitcommit: 93d716cf7e3d735b18246d659ec9ec7f82c336de
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2021
ms.locfileid: "116801811"
---
# <a name="chapter-2---installation-and-use-of-azure-rtos-netx"></a>Глава 2. Установка и использование NetX для ОСРВ Azure

В этой главе описаны различные проблемы, связанные с установкой, настройкой и использованием высокопроизводительного сетевого стека NetX для ОСРВ Azure.

## <a name="host-considerations"></a>Рекомендации по размещению

Разработка внедряемых решений обычно выполняется на главных компьютерах Windows или Linux (Unix). После компиляции приложения, его связывания и создания исполняемого файла на узле приложение загружается на целевое оборудование для выполнения.

Как правило, загрузка на целевой объект запускается из отладчика инструмента для разработки. После скачивания отладчик отвечает за управление выполнением на целевом объекте (запуск, остановка, точка останова и т. д.), а также за доступ к памяти и регистрам процессора.

Большинство отладчиков инструментов разработки обмениваются данными с целевым оборудованием через подключения OCD (отладка на микросхеме), например JTAG (IEEE 1149.1) и BDM (режим фоновой отладки). Кроме того, отладчики взаимодействуют с целевым оборудованием через подключения ICE (внутрисхемная эмуляция). Подключения OCD и ICE обеспечивают надежную передачу данных с минимальным влиянием на резидентное ПО на целевом объекте.

Как и в случае с ресурсами, используемыми на узле, исходный код для NetX предоставляется в формате ASCII и требует около 1 МБ свободного пространства на жестком диске компьютера узла.

## <a name="target-considerations"></a>Рекомендации по целевому оборудованию

NetX требует 5–45 КБ доступной только для чтения памяти на целевом объекте. Еще 1–5 КБ ОЗУ целевого объекта необходимо для стека потока NetX и других глобальных структур данных.

Кроме того, NetX требует использования двух объектов таймера ThreadX и одного объекта мьютекса ThreadX. Эти средства используются для периодической обработки и защиты потоков в стеке протоколов NetX.

## <a name="product-distribution"></a>Распространение продукта

NetX для ОСРВ Azure можно получить из нашего репозитория общедоступного исходного кода по адресу <https://github.com/azure-rtos/netx/>.

Ниже приведен список важных файлов в этом репозитории.

- ***nx_api.h***: файл заголовка на C включает все системные равенства, структуры данных и прототипы служб.
- ***nx_port.h***: файл заголовка на C включает все определения и структуры данных для средств разработки и целевой системы.  
- ***demo_netx.c***: файл на C содержит небольшое демонстрационное приложение.
- ***nx.a (or nx.lib)** _: двоичная версия библиотеки NetX для C, распространяемая со _стандартным* пакетом.             |

## <a name="netx-installation"></a>Установка NetX

NetX можно установить путем клонирования репозитория GitHub на локальный компьютер. Ниже приведен типичный синтаксис для создания клона репозитория NetX на вашем компьютере.

```c
    git clone https://github.com/azure-rtos/netx
```

Скачать копию репозитория можно также с помощью кнопки **Download** (Скачать) на главной странице GitHub.

Кроме того, вы можете найти инструкции по созданию библиотеки NetX на главной странице веб-репозитория.

> [!IMPORTANT]
> Программному обеспечению требуется доступ к файлу библиотеки NetX (обычно это ***nx.a** _ или _*_nx.lib_*_) и к файлам заголовков на C _*_nx_api.h и nx_port.h_**. Для этого задайте путь к файлам в средствах разработки или скопируйте файлы в область разработки приложения.

## <a name="using-netx"></a>Использование NetX

Чтобы использовать NetX, код приложения должен включать ***nx_api.h** _ во время компиляции и связываться с библиотекой NetX _*_nx.a_*_ (или _ *_nx.lib_*)*.

Ниже приведены четыре необходимых шага для создания приложения NetX.

1. Включите файл ***nx_api.h*** во все файлы приложения, которые используют службы или структуры данных NetX.
1. Инициализируйте систему NetX, вызвав ***nx_system_initialize** _ из функции _ *_tx_application_define_** или потока приложения.  
1. Создайте экземпляр IP, включите протокол ARP (при необходимости) и все необходимые сокеты после вызова ***nx_system_initialize***.  
1. Выполните компиляцию исходного кода и свяжите его с библиотекой среды выполнения NetX ***nx.a** _ (или _*_nx.lib_**). Полученный образ можно скачать в целевую систему и запустить.

## <a name="troubleshooting"></a>Устранение неполадок

Каждый порт NetX поставляется с одним или несколькими примерами, которые выполняются в реальной сети или через смоделированный сетевой драйвер. Рекомендуется первым запускать именно пример системы.

Если пример системы не работает надлежащим образом, выполните следующие операции, чтобы определить проблему.

1. Определите, какая часть примера работает.
2. Увеличьте размеры стека во всех новых потоках приложения.
3. Повторно выполните компиляцию библиотеки NetX с соответствующими параметрами отладки, которые приведены в разделе параметров конфигурации.
4. Изучите структуру **NX_IP**, чтобы узнать, отправляются или принимаются пакеты.
5. Проверьте пул пакетов по умолчанию, чтобы проверить наличие доступных пакетов.
6. Убедитесь, что сетевой драйвер предоставляет пакеты ARP и IP с заголовками на 4-байтовых границах для приложений, которым требуются IP-подключения.
7. Временно отключите все недавно внесенные изменения и проверьте, сохраняется ли проблема и изменяется ли ее проявление. Такая информация будет полезной нашим специалистам поддержки.

Выполните инструкции, приведенные в разделе [Центр поддержки клиентов](about-this-guide.md), чтобы отправить сведения, собранные на этапах устранения неполадок.

## <a name="configuration-options"></a>Параметры конфигурации

При сборке библиотеки NetX и приложения, использующего NetX, доступно несколько параметров конфигурации. Параметры конфигурации можно определить в исходном коде приложения, в командной строке или во включаемом файле ***nx_user.h***, если не заданы другие варианты.

> [!IMPORTANT]
> * Параметры, определенные в файле **nx_user.h** _, применяются только в случае сборки приложения и библиотеки NetX с определенным параметром _ *NX_INCLUDE_USER_DEFINE_FILE**.

В следующих разделах приведены параметры конфигурации, доступные в NetX.

### <a name="system-configuration-options"></a>Параметры конфигурации системы  

| Параметр  | Описание  |
|---|---|
| X_DEBUG | Определено. Включает печать дополнительных отладочных данных, доступных из драйвера сети RAM Ethernet. |
| NX_DISABLE_ERROR_CHECKING | Определено. Удаляет базовый API проверки ошибок NetX и повышает производительность. Коды возврата API, которые не затрагиваются при отключении проверки ошибок, выделены жирным шрифтом в определении API. Этот параметр обычно используется после завершения отладки приложения. Его использование повышает производительность и уменьшает размер кода. |
| NX_DRIVER_DEFERRED_PROCESSING | Определено. Включает отложенную обработку пакетов драйвера сети. Это позволяет сетевому драйверу разместить пакет в экземпляре IP и вызвать реальную подпрограмму обработки, вызываемую из внутреннего вспомогательного потока IP NetX. |
| NX_ENABLE_EXTENDED_NOTIFY_SUPPORT | Включает дополнительные обработчики обратного вызова в стеке. Эти функции обратного вызова используются на уровне оболочки BSD. По умолчанию этот параметр не определен. |
| NX_ENABLE_SOURCE_ADDRESS_CHECK | Если определен, этот параметр включает проверку адреса источника входящего пакета. Этот параметр по умолчанию отключен. |
| NX_LITTLE_ENDIAN | Если определен, этот параметр выполняет необходимую перестановку байтов в средах с прямым порядком байтов, чтобы гарантировать, что для заголовков протокола будет задан правильный формат с прямым порядком байтов. Обратите внимание, что значение по умолчанию обычно устанавливается в ***nx_port.h***. |
| NX_MAX_PHYSICAL_INTERFACES | Указывает общее число физических сетевых интерфейсов на устройстве. Значение по умолчанию равно 1 и определено в ***nx_api.h***. Устройство должно иметь по крайней мере один физический интерфейс. Обратите внимание, что в это число не включается интерфейс замыкания на себя (loopback). |
| NX_PHYSICAL_HEADER | Задает размер физического заголовка кадра в байтах. Значение по умолчанию равно 16 (на основе типичного 14-байтового кадра Ethernet, выравниваемого по 32-битной границе) и определяется в ***nx_api.h** _. Приложение может переопределить значение по умолчанию путем определения значения до включения _*_nx_api.h_*_, например в _ *_nx_user.h_**. |

### <a name="arp-configuration-options"></a>Параметры конфигурации ARP  

| Параметр  | Описание  |
|---|---|
| NX_ARP_DEFEND_BY_REPLY | Определено. Позволяет NetX защитить свой IP-адрес путем отправки ответа ARP. |
| NX_ARP_DEFEND_INTERVAL | Определяет интервал (в секундах), в течение которого модуль ARP отправляет следующий пакет защиты в ответ на входящее сообщение ARP, которое указывает на конфликт адреса. |
| NX_ARP_DISABLE_AUTO_ARP_ENTRY | Переименовано в **NX_DISABLE_ARP_AUTO_ENTRY**. Хотя этот параметр по-прежнему поддерживается, в новых проектах рекомендуется использовать **NX_DISABLE_ARP_AUTO_ENTRY**.
| NX_ARP_EXPIRATION_RATE | Указывает время в секундах, в течение которого записи ARP остаются действительными. Нулевое значение по умолчанию отключает срок действия или устаревания записей ARP и задается в ***nx_api.h** _. Приложение может переопределить значение по умолчанию путем определения значения до включения _ *_nx_api.h_**.
| NX_ARP_MAC_CHANGE_NOTIFICATION_ENABLE | Переименовано в **NX_ENABLE_ARP_MAC_CHANGE_NOTIFICATION**. Хотя этот параметр по-прежнему поддерживается, в новых проектах рекомендуется использовать **NX_ENABLE_ARP_MAC_CHANGE_NOTIFICATION**. |
| NX_ARP_MAX_QUEUE_DEPTH | Указывает максимальное количество пакетов, которые можно поставить в очередь во время ожидания ответа ARP. Значение по умолчанию равно 4 и определено в ***nx_api.h***. |
| NX_ARP_MAXIMUM_RETRIES | Указывает максимальное количество повторных попыток ARP без ответа ARP. Значение по умолчанию равно 18 и определено в **nx_api.h** _. Приложение может переопределить значение по умолчанию, определив его до включения _*_nx_api.h_**. |
| NX_ARP_UPDATE_RATE | Указывает время в секундах между повторными попытками ARP. Значение по умолчанию равно 10 секундам и определяется в ***nx_api.h** _. Приложение может переопределить значение по умолчанию, определив его до включения _*_nx_api.h_**. |
| NX_DISABLE_ARP_AUTO_ENTRY | Если определен, этот параметр отключает ввод данных запроса ARP в кэш ARP. |
| NX_DISABLE_ARP_INFO | Если определен, этот параметр отключает сбор данных ARP. |
| NX_ENABLE_ARP_MAC_CHANGE_NOTIFICATION | Если определен, этот параметр разрешает ARP вызывать функцию уведомления обратного вызова при обнаружении изменения MAC-адреса. |

### <a name="icmp-configuration-options"></a>Параметры конфигурации ICMP  

| Параметр  | Описание  |
|---|---|
| NX_DISABLE_ICMP_INFO | Если определен, этот параметр отключает сбор данных ICMP. |
| NX_DISABLE_ICMP_RX_CHECKSUM | Отключает вычисление контрольной суммы ICMP для полученных пакетов ICMP. Этот параметр полезен, если драйвер сетевого интерфейса способен проверить контрольную сумму ICMP и приложение не использует функцию фрагментации IP. По умолчанию этот параметр не определен. |
| NX_DISABLE_ICMP_TX_CHECKSUM | Отключает вычисление контрольной суммы ICMP для передаваемых пакетов ICMP. Этот параметр полезен, если драйвер сетевого интерфейса способен вычислять контрольную сумму ICMP и приложение не использует функцию фрагментации IP. По умолчанию этот параметр не определен. |

### <a name="igmp-configuration-options"></a>Параметры конфигурации IGMP  

| Параметр  | Описание  |
|---|---| 
| NX_DISABLE_IGMP_INFO | Если определен, этот параметр отключает сбор данных IGMP. |
| NX_DISABLE_IGMPV2 | Определено. Отключает поддержку IGMPv2, и NetX будет поддерживать только IGMPv1. По умолчанию этот параметр не задан и определяется в ***nx_api.h***. |
| NX_MAX_MULTICAST_GROUPS | Указывает максимальное число групп многоадресной рассылки, которые можно объединить. Значение по умолчанию равно 7 и определено в ***nx_api.h** _. Приложение может переопределить значение по умолчанию путем определения значения до включения _ *_nx_api.h_**. |

### <a name="ip-configuration-options"></a>Параметры конфигурации IP

| Параметр  | Описание  |
|---|---|
| NX_DISABLE_FRAGMENTATION | Определено. Отключает фрагментацию IP и логику пересборки. |
| NX_DISABLE_IP_INFO | Если определен, этот параметр отключает сбор данных IP. |
| NX_DISABLE_IP_RX_CHECKSUM | Определено. Отключает логику вычисления контрольной суммы для полученных IP-пакетов. Это полезно, если сетевое устройство может проверять контрольную сумму заголовка IP, и приложение не использует фрагментацию IP. |
| NX_DISABLE_IP_TX_CHECKSUM | Определено. Отключает логику вычисления контрольной суммы для отправленных IP-пакетов. Это полезно в ситуациях, когда базовое сетевое устройство может создавать контрольную сумму заголовка IP, и приложение не использует фрагментацию IP. |
| NX_DISABLE_LOOPBACK_INTERFACE | Определено. Отключает поддержку NetX для интерфейса замыкания на себя. |
| NX_DISABLE_RX_SIZE_CHECKING | Определено. Отключает проверку размера полученных пакетов. |
| NX_ENABLE_IP_STATIC_ROUTING | Определено. Включает статическую маршрутизацию IP, в которой адресу назначения можно назначить определенный адрес следующего прыжка. По умолчанию статическая маршрутизация IP отключена. |
| NX_IP_PERIODIC_RATE | Определено. Задает количество тактов таймера ThreadX за одну секунду. Значение по умолчанию является производным от символа ThreadX **TX_TIMER_TICKS_PER_SECOND**, который по умолчанию имеет значение 100 (таймер 10 мс). При изменении этого значения в приложении необходимо соблюдать осторожность, так как остальные модули NetX наследуют сведения о времени из **NX_IP_PERIODIC_RATE*** . |
| NX_IP_ROUTING_TABLE_SIZE | Определено. Задает максимальное число записей в таблице статической IP-маршрутизации, которая представляет собой список исходящих интерфейсов и адреса следующего прыжка
для заданного адреса назначения. Значение по умолчанию равно 8 и определено в ***nx_api.h.** _ Этот символ используется только в том случае, если определен параметр _ *NX_ENABLE_IP_STATIC_ROUTING**. |

### <a name="packet-configuration-options"></a>Параметры конфигурации пакетов  

| Параметр  | Описание  |
|---|---|
| NX_DISABLE_PACKET_INFO | Определено. Отключает сбор сведений о пуле пакетов. | 
| NX_PACKET_HEADER_PAD | Определено. Включает заполнение до конца блока управления NX_PACKET. Число слов **ULONG** для заполнения определяется параметром **NX_PACKET_HEADER_PAD_SIZE**. |
| NX_PACKET_HEADER_PAD_SIZE | Задает число слов **ULONG**, которые должны быть заполнены структурой NX_PACKET, позволяя области полезных данных пакета начинаться в нужном
месте. Эта функция полезна, когда дескрипторы приема буферов указывают непосредственно на область полезных данных NX_PACKET, а логика приема сетевого интерфейса или логика операций кэша ожидает, что начальный адрес буфера будет соответствовать определенным требованиям к выравниванию. Это значение допустимо, только если определен параметр **NX_PACKET_HEADER_PAD**. |

### <a name="rarp-configuration-options"></a>Параметры конфигурации RARP  

| Параметр  | Описание  |
|---|---|
| NX_DISABLE_RARP_INFO | Если определен, этот параметр отключает сбор данных RARP. |

### <a name="tcp-configuration-options"></a>Параметры конфигурации TCP

| Параметр  | Описание  |
|---|---|
| NX_DISABLE_RESET_DISCONNECT | Если определен, этот параметр отключает обработку сброса во время отключения, если предоставленное значение времени ожидания указано как **NX_NO_WAIT**. |
| NX_DISABLE_TCP_INFO | Если определен, этот параметр отключает сбор данных TCP. |
| NX_DISABLE_TCP_RX_CHECKSUM | Определено. Отключает логику обработки контрольных сумм для полученных TCP-пакетов. Это полезно только в ситуациях, когда канальный уровень имеет надежную обработку контрольных сумм или CRC либо драйвер интерфейса может проверить контрольную сумму TCP на оборудовании. |
| NX_DISABLE_TCP_TX_CHECKSUM | Определено. Отключает логику обработки контрольных сумм для отправленных TCP-пакетов. Это полезно только в ситуациях, когда принимающий узел сети имеет отключенную логику обработки контрольных сумм TCP или базовый драйвер сети способен создавать контрольную сумму TCP. |
| NX_ENABLE_TCP_KEEPALIVE | Если определен, этот параметр включает дополнительный таймер проверки активности TCP. Параметры по умолчанию не включены. |
| NX_ENABLE_TCP_MSS_CHECKING | Определено. Включает проверку минимального значения MSS у узла сети перед принятием TCP-подключения. Чтобы использовать эту возможность, необходимо определить символ **NX_ENABLE_TCP_MSS_MINIMUM**. По умолчанию этот параметр отключен. |
NX_ENABLE_TCP_WINDOW_SCALING | Включает параметр масштабирования окна для приложений TCP. Если определено, параметр масштабирования окна согласовывается на этапе TCP-подключения, и приложение может указать размер окна, превышающий 64 КБ. По умолчанию не включено (не определено). |
| NX_MAX_LISTEN_REQUESTS | Указывает максимальное число запросов на прослушивание сервера. Значение по умолчанию равно 10 и определено в ***nx_api.h** _. Приложение может переопределить значение по умолчанию путем определения значения до включения _ *_nx_api.h_**. |
| NX_TCP_ACK_EVERY_N_PACKETS | Указывает количество TCP-пакетов, которые должны быть получены перед отправкой подтверждения ACK. Обратите внимание, что если параметр **NX_TCP_IMMEDIATE_ACK** включен, а **NX_TCP_ACK_EVERY_N_PACKETS** — нет, автоматически устанавливается значение 1 для обратной совместимости. |
| NX_TCP_ACK_TIMER_RATE | Определяет, как делится количество системных тактов (NX_IP_PERIODIC_RATE) для расчета частоты таймера для обработки отложенных подтверждений ACK TCP. Значение по умолчанию равно 5, что соответствует 200 мс, и определяется в ***nx_api.h** _. Приложение может переопределить значение по умолчанию, определив его до включения _*_nx_api.h_**. |
| NX_TCP_ENABLE_KEEPALIVE | Переименовано в **NX_ENABLE_TCP_KEEPALIVE**. Хотя этот параметр по-прежнему поддерживается, в новых проектах рекомендуется использовать **NX_ENABLE_TCP_KEEPALIVE**. |
| NX_TCP_ENABLE_WINDOW_SCALING | Переименовано в **NX_ENABLE_TCP_WINDOW_SCALING**. Хотя этот параметр по-прежнему поддерживается, в новых проектах рекомендуется использовать **NX_ENABLE_TCP_WINDOW_SCALING**. |
| NX_TCP_FAST_TIMER_RATE | Указывает, как число внутренних тактов NetX (NX_IP_PERIODIC_RATE) делится для вычисления скорости быстрого таймера TCP. Быстрый таймер TCP используется для управления различными таймерами TCP, включая таймер отложенного подтверждения ACK. Значение по умолчанию равно 10, что соответствует 100 мс, при условии, что таймер ThreadX работает на 10 мс. Это значение определяется в ***nx_tcp.h** _. Приложение может переопределить значение по умолчанию, определив его до включения _*_nx_api.h_**. |
| NX_TCP_IMMEDIATE_ACK | Определено. Включает необязательную немедленную обработку ответа ACK TCP. Определение этого символа эквивалентно определению **NX_TCP_ACK_EVERY_N_PACKETS** в значение 1. |
| NX_TCP_KEEPALIVE_INITIAL | Указывает число секунд бездействия до активации таймера проверки активности. Значение по умолчанию равно 7200, что соответствует 2 часам, и определяется в ***nx_tcp.h** _. Приложение может переопределить значение по умолчанию, определив его до включения _*_nx_api.h_**. |
| NX_TCP_KEEPALIVE_RETRIES | Указывает, сколько попыток проверки активности разрешено, прежде чем соединение будет считаться неработающим. Значение по умолчанию равно 10, что соответствует 10 попыткам, и определяется в ***nx_api.h** _. Приложение может переопределить значение по умолчанию путем определения значения до включения _ *_nx_api.h_**. |
| NX_TCP_KEEPALIVE_RETRY | Указывает время в секундах между повторными попытками таймера проверки активности в случае, если другая сторона соединения не отвечает. Значение по умолчанию равно 75, что соответствует 75 секундам, и определяется в ***nx_tcp.h** _. Приложение может переопределить значение по умолчанию путем определения значения до включения _ *_nx_api.h_**. |
| NX_TCP_MAX_OUT_OF_ORDER_PACKETS | Символ, который определяет максимальное число неупорядоченных пакетов TCP, которые могут храниться в очереди приема сокета TCP. Этот символ можно использовать для ограничения количества пакетов, помещенных в очередь сокета приема TCP, предотвращая невозможность использования пула пакетов. По умолчанию этот символ не определен, поэтому количество неупорядоченных пакетов, помещенных в очередь сокета TCP, не ограничено. |
| NX_TCP_MAXIMUM_RETRIES | Указывает, сколько попыток передачи данных разрешено, прежде чем соединение будет считаться неработающим. Значение по умолчанию равно 10, что соответствует 10 попыткам, и определяется в ***nx_api.h** _. Приложение может переопределить значение по умолчанию, определив его до включения _*_nx_api.h_**. |
| NX_TCP_MAXIMUM_TX_QUEUE | Указывает максимальную длину очереди передачи TCP до приостановки или отклонения запросов на отправку TCP. Значение по умолчанию равно 20. Это означает, что в любой конкретный момент времени в очереди передачи может быть не более 20 пакетов. Обратите внимание, что пакеты остаются в очереди передачи до тех пор, пока не будет получено подтверждение ACK о получении некоторых или всех данных пакетов от другой стороны соединения. Эта константа определена в ***nx_tcp.h** _. Приложение может переопределить значение по умолчанию, определив его до включения _*_nx_api.h_**. |
| X_TCP_MSS_CHECKING_ENABLED | Переименовано в **NX_ENABLE_TCP_MSS_CHECKING**. Хотя этот параметр по-прежнему поддерживается, в новых проектах рекомендуется использовать **NX_ENABLE_TCP_MSS_CHECKING**. |
| NX_TCP_MSS_MINIMUM | Символ, который определяет минимальное значение MSS, принимаемое модулем TCP NetX. Эта функция включается параметром **NX_ENABLE_TCP_MSS_CHECK** |
| NX_TCP_RETRY_SHIFT | Указывает, как изменяется период ожидания повторной передачи между повторными попытками. Если это значение равно 0, начальное время ожидания повторной передачи будет таким же, как и последующие периоды ожидания повторных отправлений. Если это значение равно 1, каждое последующее ожидание повторной передачи будет вдвое дольше. Если это значение равно 2, время ожидания каждой последующей повторной передачи будет в четыре раза больше. Значение по умолчанию равно 0 и определено в **nx_tcp.h** _. Приложение может переопределить значение по умолчанию, определив его до включения _*_nx_api.h_**. |
| NX_TCP_TRANSMIT_TIMER_RATE| Определяет, как делится количество системных тактов **NX_IP_PERIODIC_RATE** для расчета частоты таймера для обработки повторных попыток передачи TCP. Значение по умолчанию равно 1, что соответствует 1 секунде, и определено в **_nx_tcp.h_ *_. Приложение может переопределить значение по умолчанию, определив его перед включением _* _nx_api.h_**. |

### <a name="udp-configuration-options"></a>Параметры конфигурации UDP
| Параметр  | Описание  |
|---|---|
| NX_DISABLE_UDP_INFO | Если определен, этот параметр отключает сбор данных UDP. |
| NX_DISABLE_UDP_RX_CHECKSUM | Определено. Отключает вычисление контрольной суммы UDP для входящих пакетов UDP. Это полезно, если драйвер сетевого интерфейса способен проверить контрольную сумму заголовка UDP в оборудовании, а приложение не включает логику фрагментации IP. |
| NX_DISABLE_UDP_TX_CHECKSUM | Определено. Отключает вычисление контрольной суммы UDP для исходящих пакетов UDP. Это полезно, если драйвер сетевого интерфейса может вычислять контрольную сумму заголовка UDP и вставлять значение в заголовок IP перед передачей данных, а приложение не включает логику фрагментации IP. |

## <a name="netx-version-id"></a>Идентификатор версии NetX

Сведения о текущей версия NetX доступны во время выполнения как пользователю, так и ПО приложения. Программист может получить версию NetX из файла **nx_port.h**. Кроме того, этот файл содержит журнал версий для соответствующей платформы. Программное обеспечение приложения может получить сведения о версии NetX из глобальной строки **_nx_version_id** в файле **_nx_port.h_**.  

Программное обеспечение приложения также может получать сведения о выпуске из приведенных ниже констант, которые определены в ***nx_api.h***.

Эти константы определяют выпуск текущего продукта по имени, а также основную и дополнительную версии продукта.

```c
#define EL_PRODUCT_NETX

#define NETX_MAJOR_VERSION

#define NETX_MINOR_VERSION
```