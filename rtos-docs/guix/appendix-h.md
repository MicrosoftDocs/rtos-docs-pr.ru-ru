---
title: Приложение H. Флаги конфигурации времени сборки GUIX
description: Сведения о флагах конфигурации времени сборки GUIX.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 2b48491e3c601aeb68ecef00fd0f25d93cda6e64
ms.sourcegitcommit: 62cfdf02628530807f4d9c390d6ab623e2973fee
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115177768"
---
# <a name="appendix-h---guix-build-time-configuration-flags"></a>Приложение H. Флаги конфигурации времени сборки GUIX

GUIX поддерживает несколько параметров условной компиляции и значений конфигурации. Значения по умолчанию для этих условий и параметров конфигурации можно переопределить, предварительно задав значения в файле заголовка gx_user.h или в командной строке компилятора.

**GX_DISABLE_THREADX_BINDING**
- По умолчанию: не определено
- Описание. Это условие можно использовать для отключения привязки ОСРВ ThreadX по умолчанию. Если вы хотите запустить GUIX в ОСРВ, отличной от ThreadX, следует использовать #define GX_DISABLE_THREADX_BINDING и предоставить собственные службы привязки ОСРВ.

GX_SYSTEM_TIMER_MS
- По умолчанию: 20
- Описание. Это значение определяет требуемый интервал или точность таймера GUIX.

TX_TIMER_TICKS_PER_SECOND
- Значение по умолчанию: 100
- Описание. Это значение определяет частоту прерываний таймера TX. Так как интервал таймера ThreadX по умолчанию равен 10 мс, по умолчанию используется частота 100 Гц.

GX_DISABLE_MULTITHREAD_SUPPORT
- По умолчанию: не определено
- Описание. Это условие времени компиляции можно использовать с целью отключения поддержки API GUIX для нескольких потоков, одновременно вызывающих API GUIX. Если только один поток приложения будет использовать интерфейс API GUIX, следует установить этот флаг, чтобы снизить системные издержки, связанные с защитой критически важных разделов кода.

GX_DISABLE_UTF8_SUPPORT
- По умолчанию: не определено
- Описание. Это условие времени компиляции можно использовать для отключения внутренней поддержки кодировки строк в формате UTF8 в GUIX. Если в приложении используются только символьные значения M–0xff, включение этого условия #define уменьшит размер кода и накладные расходы, связанные с поддержкой кодировки строк в формате UTF8.

GX_DISABLE_ARC_DRAWING_SUPPORT
- По умолчанию: не определено
- Описание. Это условие можно использовать для уменьшения размера кода библиотеки GUIX и структуры GX_DISPLAY за счет отключения поддержки функций для рисования окружности, круга, дуги и эллипса. Эти функции не требуются для набора мини-приложений GUIX по умолчанию.

GX_DISABLE_SOFTWARE_DECODER_SUPPORT
- По умолчанию: не определено
- Описание. Определив это условие, можно отключить поддержку программного декодера JPEG и PNG в библиотеке среды выполнения GUIX. Если приложению не требуется декодировать файлы JPG или PNG во время выполнения, то есть оно не использует карты отображения пикселей в необработанном формате, создаваемые средой Studio, и не считывает файлы изображений из внешней файловой системы, можно включить это условие #define, чтобы уменьшить объем памяти, занимаемый библиотекой GUIX.

GX_DISABLE_BINARY_RESOURCE_SUPPORT
- По умолчанию: не определено
- Описание. С помощью этого условия можно отключить поддержку загрузки двоичных данных ресурсов в библиотеке GUIX. Двоичные ресурсы можно использовать для привязки данных ресурсов к приложению GUIX во время выполнения. Если вы используете только файлы ресурсов в формате исходного кода на языке C, с помощью этого условия можно сократить объем памяти, занимаемый библиотекой GUIX.

GX_DISABLE_BRUSH_ALPHA_SUPPORT
- По умолчанию: не определено
- Описание. При использовании глубины цвета 16 бит/пкс и больше GUIX при необходимости поддерживает отрисовку графических элементов, не состоящих из дуг, а также карт отображения пикселей и шрифтов с альфа-фактором, определяемым кистью контекста рисования. Поддержка этого режима рисования приводит к увеличению накладных расходов во время выполнения и увеличению объема памяти, занимаемой библиотекой. Если поддержка альфа-смешения не требуется, этого можно избежать, установив данный флаг. Обратите внимание, что карты отображения пикселей с альфа-каналом, сглаженными шрифтами и другими режимами рисования со сглаживанием поддерживаются независимо от этого условного параметра.

GX_DISABLE_THREADX_TIMER_SOURCE
- По умолчанию: не определено
- Описание. С помощью этого условия можно отключить источник таймера ThreadX. Если необходимо использовать другой источник таймера, следует определить параметр GX_DISABLE_THREADX_TIMER_SOURCE.

GX_REPEAT_BUTTON_INITIAL_TICS
- Значение по умолчанию — 10.
- Описание. Если кнопка имеет стиль GX_STYLE_BUTTON_REPEAT, это значение определяет, как долго кнопка ожидает, прежде чем начинать отправку повторяющихся событий GX_EVENT_CLICKED.

GX_MAX_QUEUE_EVENTS
- По умолчанию: 48
- Описание. Определяет размер очереди событий GUIX в единицах записей структуры событий. Если очередь событий переполняется, помещаемые в нее события отбрасываются, а функция gx_system_event_send() возвращает GX_SYSTEM_ERROR.

GX_MAX_DIRTY_AREAS
- По умолчанию: 64
- Описание. Определяет максимальное количество уникальных записей в "грязном" списке, поддерживаемое одним холстом. Когда "грязный" список переполняется, GUIX по умолчанию помечает корневое окно холста как грязное, что менее эффективно, чем рисование отдельных дочерних мини-приложений.

GX_MAX_CONTEXT_NESTING
- По умолчанию: 8
- Описание. Определяет максимальный уровень вложения для стека контекста рисования. Это эквивалентно максимальному уровню вложения мини-приложений "родительское/дочернее/дочернее/дочернее" в определении пользовательского интерфейса.

GX_MAX_INPUT_CAPTURE_NESTING
- По умолчанию: 4
- Описание. Определяет размер стека, используемого для ведения списка мини-приложений, которые принимают пользовательский ввод (мышь и клавиатура).

GX_SYSTEM_THREAD_PRIORITY
- По умолчанию: 16
- Описание. Определяет приоритет потока GUIX, созданного при выполнении функции gx_system_initialize().

GX_SYSTEM_THREAD_TIMESLICE
- Значение по умолчанию — 10.
- Описание. Определяет квант времени потока GUIX в форме тактов таймера ОСРВ. Если другие потоки имеют тот же приоритет, что и поток GUIX, это значение определяет, как часто эти конкурирующие потоки получают контроль над ЦП.

GX_CURSOR_BLINK_INTERVAL
- Значение по умолчанию: 20.
- Описание. Определяет скорость мигания курсора ввода в мини-приложениях ввода текста. Это значение выражается в тактах таймера GUIX, которые по умолчанию равны 50 мс. Поэтому значение 20 указывает на то, что входной курсор мигает один раз в секунду.

GX_MULTI_LINE_INDEX_CACHE_SIZE
- По умолчанию: 32
- Описание. Определяет размер кэша индексов начала списка, используемого многострочным текстовым представлением и мини-приложениями многострочного ввода текста. Этот кэш применяется для быстрой вертикальной прокрутки многострочных мини-приложений. Для максимальной производительности размер кэша должен быть больше числа видимых строк в самом крупном многострочном мини-приложении, определенном в приложении. Например, если максимальное число видимых строк текстовых мини-приложений равно 20, в приложении можно определить размер кэша 32 (по умолчанию), что позволит GUIX выполнять вертикальную прокрутку без повторного вычисления всех индексов начала строки.

GX_MULTI_LINE_TEXT_BUTTON_MAX_LINES
- По умолчанию: 4
- Описание. Блок управления многострочной текстовой кнопкой хранит указатель на каждую строку текста, отображаемую на кнопке. Это значение определяет максимальное количество указателей на строки, которое может потребоваться многострочной текстовой кнопке.

GX_POLYGON_MAX_EDGE_NUM
- Значение по умолчанию — 10.
- Описание. Это значение определяет наиболее сложный многоугольник, который может нарисовать GUIX. Алгоритм рисования многоугольников определяет линии, необходимые для определения границ многоугольника, а данное значение определяет максимальное поддерживаемое количество границ.

GX_NUMERIC_SCROLL_WHEEL_STRING_BUFFER_SIZE
- По умолчанию: 16
- Описание. Для числового колеса прокрутки мини-приложение колеса прокрутки преобразует целочисленные значения в строки ASCII. Это значение определяет максимальную длину строки, необходимую для отображения присвоенных целочисленных значений.

GX_DEFAULT_CIRCULAR_GAUGE_ANIMATION_DELAY
- По умолчанию: 5
- Описание. Определяет количество тактов таймера GUIX (50 мс) между обновлениями кругового датчика, настроенного для анимации движения стрелки между последней и текущей угловой позицией.

GX_NUMERIC_PROMPT_BUFFER_SIZE
- По умолчанию: 16
- Описание. Числовой запрос выделяет буфер для преобразования целочисленного значения, присвоенного запросу, в строку ASCII. Это значение определяет размер символьного буфера.

GX_ANIMATION_POOL_SIZE
- По умолчанию: 6
- Описание. GUIX определяет пул анимации, из которого можно динамически выделять структуры данных анимации и возвращать в него такие структуры с помощью интерфейсов API gx_system_animation_get и gx_system_animation_free(). Это значение определяет размер пула блока управления анимацией.

GX_MOUSE_SUPPORT
- По умолчанию: не определено
- Описание. Это значение настраивает поддержку ввода с помощью мыши. Для работы программной мыши требуется, чтобы видеодрайвер отрисовывал и отслеживал курсор мыши, что создает дополнительную нагрузку на видеодрайвер. Это значение следует определять, только если требуется поддержка мыши (не сенсорный экран).

GX_HARDWARE_MOUSE_SUPPORT
- По умолчанию: не определено
- Описание. Если это значение определено, драйвер дисплея GUIX использует аппаратную поддержку рисования курсора мыши. Таким образом сокращается объем памяти, необходимый для хранения области холста под курсором мыши, и повышается производительность системы на устройствах, которые поддерживают графический слой наложения мыши.

GX_FONT_KERNING_SUPPORT
- По умолчанию: не определено
- Описание. С помощью этого параметра можно включить поддержку кернинга шрифта. Кернинг шрифта оптимизирует интервалы между глифами для определенных сочетаний глифов. Эта поддержка немного увеличивает нагрузку на функции рисования строк во время выполнения, а также размер структур данных шрифтов.

GX_WIDGET_USER_DATA
- По умолчанию: не определено
- Описание. Если этот параметр задан, в блок управления GX_WIDGET добавляется определяемое пользователем поле данных. Его можно назначить с помощью представления свойств в GUIX Studio. Это поле данных игнорируется внутри GUIX, но может использоваться программным обеспечением приложения в различных целях.

GUIX_5_4_0_COMPATIBILITY
- По умолчанию: не определено
- Описание. Некоторые интерфейсы API GUI были изменены после выпуска версии 5.4.0 с целью добавления поддержки отключенных цветов текста и повышения точности некоторых математических функций за счет параметров соответствия с фиксированной запятой. Из-за этого выпуски библиотеки GUIX после версии 5.4.0 несовместимы с предыдущими выпусками. Однако, включив это условие #define, можно выполнить сборку библиотеки так, чтобы интерфейсы API были полностью совместимы с выпусками до 5.4.0. Это означает, что в существующие приложения не потребуется вносить изменения для компиляции с последней версией библиотеки GUIX.

GX_MAX_STRING_LENGTH
- По умолчанию: 102400
- Описание. Определяет максимальную длину строки, которая используется для проверки недопустимых строк. Если длина входной строки превышает максимальную, строка будет считаться недопустимой.