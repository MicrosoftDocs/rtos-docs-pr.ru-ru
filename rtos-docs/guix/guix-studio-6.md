---
title: Сгенерированный код GUIX Studio
description: После того как вы завершите редактирование экранов и ресурсов, GUIX Studio создаст набор выходных файлов, которые можно включить во встраиваемое приложение.
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: article
ms.openlocfilehash: f8868ec770aa8f7f35d2866b99e3eb8f501281a8
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104815472"
---
# <a name="chapter-6-guix-studio-generated-code"></a><span data-ttu-id="72dec-103">Глава 6. Сгенерированный код GUIX Studio</span><span class="sxs-lookup"><span data-stu-id="72dec-103">Chapter 6: GUIX Studio Generated Code</span></span>

<span data-ttu-id="72dec-104">После того как вы завершите редактирование экранов и ресурсов, GUIX Studio создаст набор выходных файлов, которые можно включить во встраиваемое приложение.</span><span class="sxs-lookup"><span data-stu-id="72dec-104">When you are done editing your screens and resources, GUIX Studio produces a set of output files that can be incorporated into your embedded application.</span></span> <span data-ttu-id="72dec-105">Чтобы создать выходные файлы, выберите ***Создать файлы ресурсов** _ и _ *_Создать спецификации_** в меню "Проект".</span><span class="sxs-lookup"><span data-stu-id="72dec-105">The output files are generated by selecting ***Generate Resource Files** _ and _ *_Generate Specifications_** from the Project menu item.</span></span> <span data-ttu-id="72dec-106">Создаваемые GUIX Studio файлы исходного кода языка C предназначены для компиляции и связывания с исходным кодом встраиваемого приложения.</span><span class="sxs-lookup"><span data-stu-id="72dec-106">The 'c' language source code files generated by GUIX Studio are intended to be compiled and linked with the embedded application source code.</span></span> <span data-ttu-id="72dec-107">Если создается файл ресурсов в двоичном формате, его следует запрограммировать в области хранения в энергонезависимой памяти на целевом объекте, а для установки двоичных ресурсов во время выполнения следует использовать функцию gx_binres_theme_install в API GUIX.</span><span class="sxs-lookup"><span data-stu-id="72dec-107">If a binary format resource file is produced, this file should be programmed to a non-volatile storage area on the target and the GUIX API function gx_binres_theme_install should be used to install the binary resources at runtime.</span></span>

<span data-ttu-id="72dec-108">Код встраиваемого приложения пользователя использует ссылки на код, созданный в GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="72dec-108">The user's embedded application code makes references to the code generated by GUIX Studio.</span></span> <span data-ttu-id="72dec-109">Кроме того, созданный в GUIX Studio код ожидает, что все функции отрисовки, обработки событий и выделения памяти пользовательского мини-приложения, заданные в проекте, будут определены в коде встраиваемого приложения пользователя.</span><span class="sxs-lookup"><span data-stu-id="72dec-109">Furthermore, the GUIX Studio generated code expects all custom widget drawing, event handling, and memory allocation functions specified in the project to be defined in the user's embedded application code.</span></span> <span data-ttu-id="72dec-110">Если это не так, при сборке приложения будут отображаться ошибки компоновки.</span><span class="sxs-lookup"><span data-stu-id="72dec-110">If they are not, link errors will be present when building the application.</span></span>

> [!NOTE]
> <span data-ttu-id="72dec-111">Пользователь не должен изменять код, созданный в GUIX Studio, или способствовать этому.</span><span class="sxs-lookup"><span data-stu-id="72dec-111">The user should never have to modify the code generated by GUIX Studio and should resist doing so.</span></span> <span data-ttu-id="72dec-112">Все изменения пользовательского интерфейса должны выполняться в соответствующем проекте GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="72dec-112">All UI modifications should be made in the associated GUIX Studio project.</span></span> <span data-ttu-id="72dec-113">Это позволит обеспечить синхронизацию проекта со встраиваемым приложением.</span><span class="sxs-lookup"><span data-stu-id="72dec-113">This will keep the project synchronized with the embedded application.</span></span>

## <a name="generating-resource-files"></a><span data-ttu-id="72dec-114">Создание файлов ресурсов</span><span class="sxs-lookup"><span data-stu-id="72dec-114">Generating Resource Files</span></span>

<span data-ttu-id="72dec-115">Создаваемые GUIX Studio файлы ресурсов содержат предварительно заданные структуры данных, которые определяют все ресурсы GUIX Studio (цвета, шрифты, карты отображения пикселей и строки), то есть фактически все ресурсы, определенные в ***представление ресурсов*** проекта.</span><span class="sxs-lookup"><span data-stu-id="72dec-115">Resource files generated by GUIX Studio contain preset data structures that define all of the GUIX Studio resources (colors, fonts, pixelmaps, and strings), which is effectively all the resources defined in the ***Resource View*** of the project.</span></span> <span data-ttu-id="72dec-116">Эти файлы ресурсов могут создаваться в виде исходного кода или в двоичном формате.</span><span class="sxs-lookup"><span data-stu-id="72dec-116">These resource files can be generated in source code or binary forms.</span></span>

<span data-ttu-id="72dec-117">По умолчанию создаются два файла: один из них представляет собой стандартный файл исходного кода C, а другой — файл заголовка C, в котором предоставляются внешние ссылки и константы, используемые в коде приложения для доступа к ресурсам GUIX, определенным в проекте.</span><span class="sxs-lookup"><span data-stu-id="72dec-117">By default, there are two files generated, one file is a standard C source code file and the other is a C header file that provides external references and constants that are necessary for the application code to access the GUIX resources defined in the project.</span></span> <span data-ttu-id="72dec-118">Эти файлы имеют имена следующего вида:</span><span class="sxs-lookup"><span data-stu-id="72dec-118">The file names are of the form:</span></span>

<span data-ttu-id="72dec-119">**{*project-name*}_resources.h**</span><span class="sxs-lookup"><span data-stu-id="72dec-119">**{*project-name*}_resources.h**</span></span>

<span data-ttu-id="72dec-120">**{*project-name*}_resources.c**</span><span class="sxs-lookup"><span data-stu-id="72dec-120">**{*project-name*}_resources.c**</span></span>

<span data-ttu-id="72dec-121">Ниже приводятся примеры файлов ресурсов, созданных для ***простого*** проекта GUIX Studio:</span><span class="sxs-lookup"><span data-stu-id="72dec-121">For example, the Resource files created for the "***simple***" GUIX Studio project are:</span></span>

<span data-ttu-id="72dec-122">**simple_resources.h**</span><span class="sxs-lookup"><span data-stu-id="72dec-122">**simple_resources.h**</span></span>

<span data-ttu-id="72dec-123">**simple_resources.c**</span><span class="sxs-lookup"><span data-stu-id="72dec-123">**simple_resources.c**</span></span>

<span data-ttu-id="72dec-124">Чтобы создать файлы ресурсов, необходимо выбрать пункт ***Создать файлы ресурсов** _ в меню _*_Проект_\*_.</span><span class="sxs-lookup"><span data-stu-id="72dec-124">Generating the Resource files is accomplished by selecting ***Generate Resource Files** _ option in the _*_Project_\*_ menu option.</span></span> <span data-ttu-id="72dec-125">Место назначения файлов ресурсов задается в диалоговом окне _\*_Настройка проекта_\*_, доступ к которому можно получить с помощью параметра _\*_Настройка проекта/отображения_\*_ в пункте меню _ \*_Настройка_\*\*.</span><span class="sxs-lookup"><span data-stu-id="72dec-125">The destination of the resource files is specified in the _*_Configure Project_*_ dialog, which is accessible via the _*_Configure Project/Displays_*_ option in the _ *_Configure_*\* menu item.</span></span>

<span data-ttu-id="72dec-126">Для ресурса карты отображения пикселей или шрифта можно указать пользовательское имя выходного файла для каждой карты и каждого шрифта в связанных диалоговых окнах редактирования ресурсов.</span><span class="sxs-lookup"><span data-stu-id="72dec-126">For Pixelmap and Font resources, you can specify a custom output filename for each pixelmap and font in the associated resource editing dialogs.</span></span> <span data-ttu-id="72dec-127">Это позволяет размещать очень большие ресурсы в отдельных файлах вместо общего выходного файла для всех ресурсов.</span><span class="sxs-lookup"><span data-stu-id="72dec-127">This feature allows you to put very large resources in distinct files, rather than putting all resources in one common output file.</span></span> <span data-ttu-id="72dec-128">Если для ресурса шрифта или карты отображения пикселей не указано пользовательское имя файла, он записывается в общий файл ресурсов.</span><span class="sxs-lookup"><span data-stu-id="72dec-128">If you do not specify an overridden filename for a font or pixelmap resource, those resources are written into the common resource file.</span></span>

<span data-ttu-id="72dec-129">Если вы предпочитаете использовать двоичные ресурсы, можно указать вывод данных в необработанном виде или в формате S-Record.</span><span class="sxs-lookup"><span data-stu-id="72dec-129">If you prefer to use binary resources, you can specify either raw or standard s-record output format.</span></span> <span data-ttu-id="72dec-130">Двоичные ресурсы не компилируются и не связываются с кодом приложения, а загружаются во время выполнения с помощью API gx_binres_them_load().</span><span class="sxs-lookup"><span data-stu-id="72dec-130">Binary resources are not compiled or linked with the application code, but are instead loaded at runtime using the gx_binres_them_load() API.</span></span> <span data-ttu-id="72dec-131">Эта служба API создает таблицы ресурсов, которые указывают на ресурсы, хранящиеся в энергонезависимой памяти.</span><span class="sxs-lookup"><span data-stu-id="72dec-131">This API service builds resource tables that point to your resources stored in non-volatile memory.</span></span> <span data-ttu-id="72dec-132">После этого можно установить такие ресурсы с определенными параметрами отображения с помощью функции gx_display_theme_install().</span><span class="sxs-lookup"><span data-stu-id="72dec-132">You can then install these resources with a particular display using gx_display_theme_install();</span></span>

## <a name="generating-specification-code"></a><span data-ttu-id="72dec-133">Создание кода спецификации</span><span class="sxs-lookup"><span data-stu-id="72dec-133">Generating Specification Code</span></span>

<span data-ttu-id="72dec-134">Создаваемые GUIX Studio файлы спецификаций, содержат весь код C для создания пользовательского интерфейса, разработанного в GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="72dec-134">The Specification files generated by GUIX Studio contain all the C code to create the UI designed in GUIX Studio.</span></span> <span data-ttu-id="72dec-135">В этом коде также используются ссылки на файлы ресурсов, созданные для этого проекта.</span><span class="sxs-lookup"><span data-stu-id="72dec-135">This code also references the Resource files generated for this project.</span></span> <span data-ttu-id="72dec-136">Код приложения пользователя будет вызывать этот код для фактического создания объектов пользовательского интерфейса, определенных в проекте.</span><span class="sxs-lookup"><span data-stu-id="72dec-136">The user's application code will make calls to this code to actually create the UI objects defined in the project.</span></span> <span data-ttu-id="72dec-137">Кроме того, код приложения пользователя содержит все функции отрисовки, обработки событий и выделения памяти пользовательского мини-приложения, заданные в проекте.</span><span class="sxs-lookup"><span data-stu-id="72dec-137">Furthermore, the user's application code contains all custom widget drawing, event handling, and memory allocation functions specified in the project.</span></span> <span data-ttu-id="72dec-138">По умолчанию создаются два файла: один из них представляет собой стандартный файл исходного кода C, а другой — файл заголовка C, в котором предоставляются внешние ссылки и константы, используемые в коде приложения для доступа к спецификациям GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="72dec-138">By default, there are two files generated, one file is a standard C source code file and the other is a C header file that provides external references and constants that are necessary for the application code to access the GUIX Studio Specifications.</span></span> <span data-ttu-id="72dec-139">Эти файлы имеют имена следующего вида:</span><span class="sxs-lookup"><span data-stu-id="72dec-139">The file names are of the form:</span></span>

<span data-ttu-id="72dec-140">**{*project-name*}_specifications.h**</span><span class="sxs-lookup"><span data-stu-id="72dec-140">**{*project-name*}_specifications.h**</span></span>

<span data-ttu-id="72dec-141">**{*project-name*}_specifications.c**</span><span class="sxs-lookup"><span data-stu-id="72dec-141">**{*project-name*}_specifications.c**</span></span>

<span data-ttu-id="72dec-142">Ниже приводятся примеры файлов спецификаций, созданных для ***простого*** проекта GUIX Studio:</span><span class="sxs-lookup"><span data-stu-id="72dec-142">For example, the Specification files created for the "***simple***" GUIX Studio project are:</span></span>

<span data-ttu-id="72dec-143">**simple_specifications.h**</span><span class="sxs-lookup"><span data-stu-id="72dec-143">**simple_specifications.h**</span></span>

<span data-ttu-id="72dec-144">**simple_specifications.c**</span><span class="sxs-lookup"><span data-stu-id="72dec-144">**simple_specifications.c**</span></span>

<span data-ttu-id="72dec-145">Чтобы создать файлы спецификаций, выберите пункт ***Создать файлы спецификации** _ в меню _*_Проект_\*_.</span><span class="sxs-lookup"><span data-stu-id="72dec-145">Generating the Specification files is accomplished by selecting ***Generate Specification Files** _ option in the _*_Project_\*_ menu option.</span></span> <span data-ttu-id="72dec-146">Место назначения файлов спецификаций задается в диалоговом окне _\*_Настройка проекта_\*_, доступ к которому можно получить с помощью параметра _\*_Настройка проекта/отображения_\*_ в пункте меню _ \*_Настройка_\*\*.</span><span class="sxs-lookup"><span data-stu-id="72dec-146">The destination of the Specification files is specified in the _*_Configure Project_*_ dialog, which is accessible via the _*_Configure Project/Displays_*_ option in the _ *_Configure_*\* menu item.</span></span>

## <a name="integrating-with-user-code"></a><span data-ttu-id="72dec-147">Интеграция с пользовательским кодом</span><span class="sxs-lookup"><span data-stu-id="72dec-147">Integrating with User Code</span></span>

<span data-ttu-id="72dec-148">Интеграция созданных GUIX Studio файлов ресурсов и спецификаций выполняется просто. Для этого достаточно выполнить следующие действия:</span><span class="sxs-lookup"><span data-stu-id="72dec-148">Integrating the Resource and Specification files generated by GUIX Studio is straightforward, simply follow these steps:</span></span>

1. <span data-ttu-id="72dec-149">Скопируйте файлы ресурсов и спецификаций во внедренную среду сборки или предоставьте доступ к ним в этой среде с помощью параметров пути.</span><span class="sxs-lookup"><span data-stu-id="72dec-149">Either copy or make the Resource and Specification files accessible via path settings to the embedded build environment</span></span>
2. <span data-ttu-id="72dec-150">Добавьте все файлы ресурсов и спецификаций во внедренный проект интегрированной среды разработки или файл makefile.</span><span class="sxs-lookup"><span data-stu-id="72dec-150">Add all Resource and Specification files to embedded IDE project or makefile</span></span>
3. <span data-ttu-id="72dec-151">Убедитесь, что код встраиваемого приложения вызывает необходимые функции для инициализации и создания пользовательского интерфейса, содержащиеся в файлах ресурсов и спецификаций.</span><span class="sxs-lookup"><span data-stu-id="72dec-151">Ensure the application embedded code calls the necessary functions to initialize and create the UI contained in the Resource and Specification files</span></span>
4. <span data-ttu-id="72dec-152">Убедитесь, что код встраиваемого приложения содержит все необходимые функции отрисовки, обработки событий и выделения памяти пользовательского мини-приложения.</span><span class="sxs-lookup"><span data-stu-id="72dec-152">Ensure the application embedded code contains all necessary custom widget drawing, event handling, and memory allocation functions</span></span>
5. <span data-ttu-id="72dec-153">Выполните сборку приложения (компиляция и компоновка).</span><span class="sxs-lookup"><span data-stu-id="72dec-153">Build the application (compile and link)</span></span>
6. <span data-ttu-id="72dec-154">Запустите приложение!</span><span class="sxs-lookup"><span data-stu-id="72dec-154">Execute the application!</span></span>