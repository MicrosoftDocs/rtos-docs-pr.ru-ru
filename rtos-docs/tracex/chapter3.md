---
title: Глава 3. Описание ОСРВ Azure TraceX
description: В этой главе описываются общие функциональные возможности средства анализа систем ОСРВ Azure TraceX, включая общие функциональные возможности графического пользовательского интерфейса.
author: philmea
ms.service: rtos
ms.topic: article
ms.date: 5/19/2020
ms.author: philmea
ms.openlocfilehash: 1c974b353c92e0a3cf51c92818794197cf999582
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104815803"
---
# <a name="chapter-3---description-of-azure-rtos-tracex"></a><span data-ttu-id="107bb-103">Глава 3. Описание ОСРВ Azure TraceX</span><span class="sxs-lookup"><span data-stu-id="107bb-103">Chapter 3 - Description of Azure RTOS TraceX</span></span>

<span data-ttu-id="107bb-104">В этой главе описываются общие функциональные возможности средства анализа систем ОСРВ Azure TraceX, включая общие функциональные возможности графического пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="107bb-104">This chapter describes the overall functionality of the Azure RTOS TraceX system analysis tool, including the overall functionality of its GUI.</span></span> 

## <a name="display-overview"></a><span data-ttu-id="107bb-105">Обзор окна</span><span class="sxs-lookup"><span data-stu-id="107bb-105">Display Overview</span></span>

<span data-ttu-id="107bb-106">На **рисунке 4** показано основное окно средства анализа систем TraceX.</span><span class="sxs-lookup"><span data-stu-id="107bb-106">**Figure 4** shows the main display window of the TraceX system analysis tool.</span></span> <span data-ttu-id="107bb-107">Его структура проста — контексты выполнения представлены вертикальными элементами слева. Например, инициализация, прерывание, простой и различные записи потока.</span><span class="sxs-lookup"><span data-stu-id="107bb-107">The layout is straightforward—the execution contexts are represented by the vertical elements on the left side; e.g., initialization, interrupt, idle, and the various thread entries.</span></span> <span data-ttu-id="107bb-108">События, происходящие в каждом контексте, отображаются горизонтально на линии этого контекста.</span><span class="sxs-lookup"><span data-stu-id="107bb-108">The events that take place in each context are displayed horizontally on the same context line.</span></span> <span data-ttu-id="107bb-109">Например, события **QR**, показанные ниже, показывают, что поток **_thread 2_*_ выполняет последовательные вызовы _*_tx_queue_receive_**.</span><span class="sxs-lookup"><span data-stu-id="107bb-109">For example, the **QR** events shown below show that **_thread 2_*_ is making successive calls to _*_tx_queue_receive_**.</span></span>

![Снимок экрана: основное окно средства анализа систем TraceX.](./media/user-guide/screen_shot_10.png)


<span data-ttu-id="107bb-111">**Рисунок 5**</span><span class="sxs-lookup"><span data-stu-id="107bb-111">**FIGURE 5**</span></span>

<span data-ttu-id="107bb-112">Изменения контекста представлены вертикальными черными линиями, соединяющими линии контекста.</span><span class="sxs-lookup"><span data-stu-id="107bb-112">Context changes are represented by the vertical black lines that connect the context lines.</span></span> <span data-ttu-id="107bb-113">Текущее выбранное событие представлено вертикальной сплошной красной линией.</span><span class="sxs-lookup"><span data-stu-id="107bb-113">The currently selected event is represented by a solid red vertical line.</span></span> <span data-ttu-id="107bb-114">В этом примере выбрано событие 494.</span><span class="sxs-lookup"><span data-stu-id="107bb-114">In this example, event 494 is selected.</span></span>

## <a name="title-bar"></a><span data-ttu-id="107bb-115">Title Bar</span><span class="sxs-lookup"><span data-stu-id="107bb-115">Title Bar</span></span>

<span data-ttu-id="107bb-116">Строка заголовка TraceX содержит несколько элементов с полезными сведениями.</span><span class="sxs-lookup"><span data-stu-id="107bb-116">The TraceX title bar provides several pieces of useful information.</span></span> <span data-ttu-id="107bb-117">Первый — это текущая версия TraceX.</span><span class="sxs-lookup"><span data-stu-id="107bb-117">First is the current version of TraceX.</span></span> <span data-ttu-id="107bb-118">Второй — это полный путь к текущему открытому файлу трассировки.</span><span class="sxs-lookup"><span data-stu-id="107bb-118">Second is the full path of the currently opened trace file.</span></span> <span data-ttu-id="107bb-119">В примере на **рисунке 6** показано окно **_TraceX_*_ версии _*_6.0.0_*_, в котором отображен файл трассировки _*_demo_threadx.trx_**.</span><span class="sxs-lookup"><span data-stu-id="107bb-119">The example in **Figure 6** shows **_TraceX_*_ version _*_6.0.0_*_ is displaying the _*_demo_threadx.trx_** trace file.</span></span>

![Снимок экрана: строка заголовка TraceX.](./media/user-guide/screen_shot_11.png)

<span data-ttu-id="107bb-121">**Рисунок 6**</span><span class="sxs-lookup"><span data-stu-id="107bb-121">**FIGURE 6**</span></span>

## <a name="tool-bar"></a><span data-ttu-id="107bb-122">Tool Bar</span><span class="sxs-lookup"><span data-stu-id="107bb-122">Tool Bar</span></span>

<span data-ttu-id="107bb-123">Панель инструментов TraceX содержит несколько кнопок и других элементов управления, служащих для открытия файлов трассировки и управления их отображением.</span><span class="sxs-lookup"><span data-stu-id="107bb-123">The TraceX tool bar provides several buttons to open trace files and control elements of their display.</span></span>

![Снимок экрана: панель инструментов TraceX.](./media/user-guide/screen_shot_12.png)


<span data-ttu-id="107bb-125">**Рисунок 7**</span><span class="sxs-lookup"><span data-stu-id="107bb-125">**FIGURE 7**</span></span>

<span data-ttu-id="107bb-126">Кнопки панели инструментов TraceX (слева направо) описаны ниже.</span><span class="sxs-lookup"><span data-stu-id="107bb-126">The TraceX tool bar buttons—from left to right—are defined as follows:</span></span>
                                             
| <span data-ttu-id="107bb-127">**Кнопка**</span><span class="sxs-lookup"><span data-stu-id="107bb-127">**Button**</span></span>                         | <span data-ttu-id="107bb-128">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="107bb-128">**Function**</span></span> |
| ---------------------------------- | ----------------------------------------------------------------------------------------------- |
| ![Кнопка открытия файла трассировки](./media/user-guide/screen_shot_13.png)      | <span data-ttu-id="107bb-130">Открытие файла трассировки.</span><span class="sxs-lookup"><span data-stu-id="107bb-130">Open a trace file</span></span> |
| ![Кнопка открытия руководства пользователя](./media/user-guide/screen_shot_14.png)      | <span data-ttu-id="107bb-132">Открытие этого руководства пользователя.</span><span class="sxs-lookup"><span data-stu-id="107bb-132">Open this User Guide</span></span> |
| ![Кнопка создания отчета о профиле выполнения](./media/user-guide/screen_shot_15.png)       | <span data-ttu-id="107bb-134">Создание отчета о профиле выполнения.</span><span class="sxs-lookup"><span data-stu-id="107bb-134">Generate execution profile</span></span> |
| ![ <span data-ttu-id="107bb-135">Кнопка создания отчета о статистике производительности</span><span class="sxs-lookup"><span data-stu-id="107bb-135">Generate performance statistics button</span></span>](./media/user-guide/screen_shot_16.png)       | <span data-ttu-id="107bb-136">Создание отчета о статистике производительности.</span><span class="sxs-lookup"><span data-stu-id="107bb-136">Generate performance statistics</span></span> |
| ![Кнопка создания отчета об использовании стека потоков](./media/user-guide/screen_shot_17.png)       | <span data-ttu-id="107bb-138">Создание отчета об использовании стека потоков.</span><span class="sxs-lookup"><span data-stu-id="107bb-138">Generate Thread Stack usage</span></span> |
| ![Кнопка отображения выбранного события](./media/user-guide/screen_shot_18.png)       | <span data-ttu-id="107bb-140">Отображение текущего выбранного события.</span><span class="sxs-lookup"><span data-stu-id="107bb-140">Display currently selected event</span></span> |
| ![Кнопка поиска](./media/user-guide/screen_shot_19.png)      | <span data-ttu-id="107bb-142">Поиск событий.</span><span class="sxs-lookup"><span data-stu-id="107bb-142">Search for events</span></span> |
| ![Кнопка увеличения масштаба](./media/user-guide/screen_shot_20.png)      | <span data-ttu-id="107bb-144">Увеличить масштаб</span><span class="sxs-lookup"><span data-stu-id="107bb-144">Zoom in.</span></span> |
| ![Кнопка масштабирования](./media/user-guide/screen_shot_21.png)      | <span data-ttu-id="107bb-146">Позволяет выбрать процентное значение масштаба отображения, где 100 % означает, что весь файл трассировки отображается в текущем представлении.</span><span class="sxs-lookup"><span data-stu-id="107bb-146">Select percentage of display zoom, where 100% means the entire trace file is displayed within the current view.</span></span> |
| ![Кнопка уменьшения масштаба](./media/user-guide/screen_shot_22.png)      | <span data-ttu-id="107bb-148">Уменьшить масштаб</span><span class="sxs-lookup"><span data-stu-id="107bb-148">Zoom out.</span></span> |
| ![Кнопка выбора первого события](./media/user-guide/screen_shot_23.png)      | <span data-ttu-id="107bb-150">Выбор первого события.</span><span class="sxs-lookup"><span data-stu-id="107bb-150">Select first event.</span></span> |
| ![Кнопка отображения предыдущей страницы событий](./media/user-guide/screen_shot_24.png)      | <span data-ttu-id="107bb-152">Отображение предыдущей страницы событий.</span><span class="sxs-lookup"><span data-stu-id="107bb-152">Display previous event page.</span></span> |
| ![Кнопка отображения предыдущего события](./media/user-guide/screen_shot_25.png)      | <span data-ttu-id="107bb-154">Отображение предыдущего события.</span><span class="sxs-lookup"><span data-stu-id="107bb-154">Display previous event.</span></span> |
| ![Кнопка перехода вперед или назад](./media/user-guide/screen_shot_26.png)      | <span data-ttu-id="107bb-156">Позволяет определить, как работают кнопки перехода перед и назад.</span><span class="sxs-lookup"><span data-stu-id="107bb-156">Determine how the next/previous navigation buttons operate.</span></span> <span data-ttu-id="107bb-157">Если выбран режим **Event** _ (Событие), происходит переход к предыдущему или следующему событию.</span><span class="sxs-lookup"><span data-stu-id="107bb-157">If \***Event** _ is selected, navigation is done on the next/previous event.</span></span> <span data-ttu-id="107bb-158">Если выбран режим _*_Context_*_ (Контекст), происходит переход к предыдущему или следующему событию в указанном контексте.</span><span class="sxs-lookup"><span data-stu-id="107bb-158">If _*_Context_*_ is selected, navigation is done on the next/previous event on the specified context.</span></span> <span data-ttu-id="107bb-159">Если выбран режим _*_Object_*_ (Объект), происходит переход к предыдущему или следующему событию в указанном объекте, например в определенной очереди.</span><span class="sxs-lookup"><span data-stu-id="107bb-159">If _*_Object_*_ is selected, navigation is done on the next/previous event of the specified object; e.g., events associated with a specific queue.</span></span> <span data-ttu-id="107bb-160">Если выбран режим _*_Switches_*_ (Переключения), происходит переход к предыдущему или следующему изменению контекста.</span><span class="sxs-lookup"><span data-stu-id="107bb-160">If _*_Switches_*_ is selected, navigation is done on the next/previous change in context.</span></span> <span data-ttu-id="107bb-161">Если выбран режим _ *_ID_* (Идентификатор), происходит переход к предыдущему или следующему событию с указанным идентификатором события.</span><span class="sxs-lookup"><span data-stu-id="107bb-161">If _ *_ID_*\* is selected, navigation is done on the next/previous event of the specified event ID.</span></span> |
| ![Кнопка отображения следующего события](./media/user-guide/screen_shot_27.png)      | <span data-ttu-id="107bb-163">Отображение следующего события.</span><span class="sxs-lookup"><span data-stu-id="107bb-163">Display next event.</span></span> |
| ![Кнопка отображения следующей страницы событий](./media/user-guide/screen_shot_28.png)      | <span data-ttu-id="107bb-165">Отображение следующей страницы событий.</span><span class="sxs-lookup"><span data-stu-id="107bb-165">Display next event page.</span></span> |
| ![Кнопка выбора последнего события](./media/user-guide/screen_shot_29.png)      | <span data-ttu-id="107bb-167">Выбор последнего события.</span><span class="sxs-lookup"><span data-stu-id="107bb-167">Select last event.</span></span> |

## <a name="display-mode-tabs"></a><span data-ttu-id="107bb-168">Вкладки режима отображения</span><span class="sxs-lookup"><span data-stu-id="107bb-168">Display Mode Tabs</span></span>

<span data-ttu-id="107bb-169">TraceX отображает системные события двумя разными способами: *последовательно* и *по времени*.</span><span class="sxs-lookup"><span data-stu-id="107bb-169">TraceX displays system events in two different ways: *sequential* and *time relative*.</span></span> <span data-ttu-id="107bb-170">По умолчанию используется последовательный режим, который показан на **рисунке 8**.</span><span class="sxs-lookup"><span data-stu-id="107bb-170">The default mode is sequential and that is the mode shown in **Figure 8**.</span></span>

<span data-ttu-id="107bb-171">Для изменения режима достаточно выбрать вкладку ***Sequential View** _ (Последовательное представление) или _*_Time View_\*_ (Временное представление) в окне TraceX.</span><span class="sxs-lookup"><span data-stu-id="107bb-171">Changing the mode is as simple as selecting the ***Sequential View** _ or _*_Time View_\*_ tabs in the TraceX window.</span></span> <span data-ttu-id="107bb-172">_*На рисунке 8*\* показаны вкладки \**_Sequential View_*_ (Последовательное представление) и _ *_Time View_*\*\* (Временное представление).</span><span class="sxs-lookup"><span data-stu-id="107bb-172">_*Figure 8*\* shows the \**_Sequential View_*_ and _ *_Time View_*\* tabs.</span></span>

![Снимок экрана: вкладки "Sequential View" (Последовательное представление) и "Time View" (Временное представление).](./media/user-guide/screen_shot_30.png)

<span data-ttu-id="107bb-174">**Рисунок 8**</span><span class="sxs-lookup"><span data-stu-id="107bb-174">**FIGURE 8**</span></span>

## <a name="sequential-view-mode"></a><span data-ttu-id="107bb-175">Режим последовательного просмотра</span><span class="sxs-lookup"><span data-stu-id="107bb-175">Sequential View Mode</span></span>

<span data-ttu-id="107bb-176">Режим последовательного просмотра можно выбрать с помощью вкладки ***Sequential View** _ (Последовательное представление), показанной на _*рисунке 8\*\*.</span><span class="sxs-lookup"><span data-stu-id="107bb-176">The sequential view mode is selected by the ***Sequential View** _ tab shown in _*Figure 8\*\*.</span></span> <span data-ttu-id="107bb-177">Это режим по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="107bb-177">This is the default mode.</span></span> <span data-ttu-id="107bb-178">В нем все события следуют непосредственно друг за другом, независимо от прошедшего между ними времени.</span><span class="sxs-lookup"><span data-stu-id="107bb-178">In this mode, events are shown im../mediately following each other, regardless of the elapsed time between them.</span></span> <span data-ttu-id="107bb-179">Обратите внимание также на линейку над областью просмотра на **рисунке 8**.</span><span class="sxs-lookup"><span data-stu-id="107bb-179">Note also the ruler above the display area in **Figure 8**.</span></span> <span data-ttu-id="107bb-180">На ней отображается относительный номер события от начала трассировки.</span><span class="sxs-lookup"><span data-stu-id="107bb-180">It shows the relative event number from the beginning of the trace.</span></span>

<span data-ttu-id="107bb-181">Этот режим используется по умолчанию и позволяет получить хорошее общее впечатление о событиях в системе.</span><span class="sxs-lookup"><span data-stu-id="107bb-181">This mode is the default mode and is useful in getting a good overview of what is going on in the system.</span></span>

## <a name="time-view-mode"></a><span data-ttu-id="107bb-182">Режим временного просмотра</span><span class="sxs-lookup"><span data-stu-id="107bb-182">Time View Mode</span></span>

<span data-ttu-id="107bb-183">Режим временного просмотра можно выбрать кнопкой \***Time View** _ (Временное представление).</span><span class="sxs-lookup"><span data-stu-id="107bb-183">The time view mode is selected by the \***Time View** _ button.</span></span> <span data-ttu-id="107bb-184">На _ *рисунке 9*\* показана та же трассировка событий, что и на **рисунке 8**, только в режиме временного просмотра.</span><span class="sxs-lookup"><span data-stu-id="107bb-184">_ *Figure 9*\* shows the same event trace as **Figure 8** except in time view mode.</span></span> <span data-ttu-id="107bb-185">В этом режиме события отображаются с привязкой ко времени, и прошедшее между ними время обозначается сплошной зеленой полосой.</span><span class="sxs-lookup"><span data-stu-id="107bb-185">In this mode, events are shown in a time relative manner, with the solid green bar being used to show execution between events.</span></span> <span data-ttu-id="107bb-186">Этот режим удобен для понимания, какое место в системе создает основную нагрузку, что позволяет разработчикам настроить систему для повышения производительности и (или) скорости реагирования.</span><span class="sxs-lookup"><span data-stu-id="107bb-186">This mode is useful to see where the bulk of processing is taking place in the system, which can help developers tune their system for greater performance and/or responsiveness.</span></span>

![Снимок экран: вкладка "Time View" (Временное представление)](./media/user-guide/screen_shot_31.png)

<span data-ttu-id="107bb-188">**Рисунок 9**</span><span class="sxs-lookup"><span data-stu-id="107bb-188">**FIGURE 9**</span></span>

<span data-ttu-id="107bb-189">Обратите внимание также на линейку над областью событий на **рисунке 9**.</span><span class="sxs-lookup"><span data-stu-id="107bb-189">Note also the ruler above the event display in **Figure 9**.</span></span> <span data-ttu-id="107bb-190">На этой линейке показано количество тактов с начала трассировки, полученное на основе метки времени из журнала трассировки событий в ThreadX.</span><span class="sxs-lookup"><span data-stu-id="107bb-190">This ruler shows relative ticks from the beginning of the trace, as derived from the time stamp instrumented in the event trace logging inside of ThreadX.</span></span> <span data-ttu-id="107bb-191">Если метки времени слишком близкие (при низкой частоте таймера), события будут выполняться вместе.</span><span class="sxs-lookup"><span data-stu-id="107bb-191">If the time stamps are too close (low frequency timer), the events will run together.</span></span> <span data-ttu-id="107bb-192">И наоборот, если метки времени слишком отдалены (при высокой частоте таймера), события будут выполняться далеко друг от друга.</span><span class="sxs-lookup"><span data-stu-id="107bb-192">Conversely, if the time stamps are too far apart (high frequency timer), then the events will be too far apart.</span></span> <span data-ttu-id="107bb-193">Выбор правильной частоты для меток времени играет важную роль при анализе данных на временном представлении.</span><span class="sxs-lookup"><span data-stu-id="107bb-193">Choosing the right frequency time stamp is an important consideration in making the time relative view meaningful.</span></span>

## <a name="system-summary-line"></a><span data-ttu-id="107bb-194">Строка сводной информации о системе</span><span class="sxs-lookup"><span data-stu-id="107bb-194">System Summary Line</span></span>

<span data-ttu-id="107bb-195">TraceX также поддерживает единую строку со сводной информацией о всех событиях в системе (верхний контекст на **рисунке 10**).</span><span class="sxs-lookup"><span data-stu-id="107bb-195">TraceX also provides a single summary line (the top context in **Figure 10**) that includes all events on the same line.</span></span> <span data-ttu-id="107bb-196">Это позволяет легко оценить состояние сложной системы.</span><span class="sxs-lookup"><span data-stu-id="107bb-196">This makes it easy to see an overview of a complex system.</span></span> <span data-ttu-id="107bb-197">Строка сводки особенно удобна в системах с большим количеством потоков.</span><span class="sxs-lookup"><span data-stu-id="107bb-197">The summary bar is especially beneficial in systems that have many threads.</span></span> <span data-ttu-id="107bb-198">Без нее придется отслеживать все сложные системные взаимодействия, постоянно перемещая вертикальную полосу прокрутки, чтобы следовать контексту выполнения.</span><span class="sxs-lookup"><span data-stu-id="107bb-198">Without such a summary line, you would have to follow complex system interactions using the vertical scroll bar to follow the context of execution.</span></span>

![Снимок экрана: строка сводкой информации о системе на вкладке "Sequential View" (Последовательное представление).](./media/user-guide/screen_shot_32.png)


<span data-ttu-id="107bb-200">**Рисунок 10**</span><span class="sxs-lookup"><span data-stu-id="107bb-200">**FIGURE 10**</span></span>

<span data-ttu-id="107bb-201">Строка сводной информации содержит данные о контексте и соответствующих событиях.</span><span class="sxs-lookup"><span data-stu-id="107bb-201">The summary line contains a summary of the context as well as the corresponding event summary underneath.</span></span> <span data-ttu-id="107bb-202">В примере на **рисунке 10** легко увидеть, что поток **_thread 2_*_ выполнялся и был прерван. Прерывание приводит к вытеснению потоками _*_thread 3_**, ***thread 6** _, _*_thread 4_*_ и _*_thread 7_*_, после которых поток _ *_thread 2_** возобновляет выполнение.</span><span class="sxs-lookup"><span data-stu-id="107bb-202">In the example shown in **Figure 10,** it is easy to see that **_thread 2_*_ is executing and interrupted. The interrupt results in preemption by _*_thread 3_**, ***thread 6** _, _*_thread 4_*_, and _*_thread 7_*_, after which _ *_thread 2_** resumes execution.</span></span>

## <a name="system-contexts"></a><span data-ttu-id="107bb-203">Контексты системы</span><span class="sxs-lookup"><span data-stu-id="107bb-203">System Contexts</span></span>

<span data-ttu-id="107bb-204">TraceX отображает список контекстов системы в левой части окна (см. **рисунок 11**).</span><span class="sxs-lookup"><span data-stu-id="107bb-204">TraceX lists the system contexts on the left-hand side of the display, as shown in **Figure 11**.</span></span> <span data-ttu-id="107bb-205">События, происходящие в определенном контексте, отображаются в горизонтальной строке справа от этого контекста.</span><span class="sxs-lookup"><span data-stu-id="107bb-205">Events that occur in a particular context are displayed on the horizontal line to the right of that context.</span></span> <span data-ttu-id="107bb-206">Таким образом можно легко определить, в каком контексте произошло событие, а также по строке контекста отследить все происходящие в нем события.</span><span class="sxs-lookup"><span data-stu-id="107bb-206">In this way, you can easily ascertain which context the event occurred as well as follow that context line to see all the events that occurred in a particular context.</span></span>

<span data-ttu-id="107bb-207">В списке контекстов первые строки всегда содержат контексты ***Interrupt** _ (Прерывание) и _*_Initialize/Idle_\*_ (Инициализация или бездействие).</span><span class="sxs-lookup"><span data-stu-id="107bb-207">The first tow context entries are always the ***Interrupt** _ and _*_Initialize/Idle_\*_ contexts.</span></span> <span data-ttu-id="107bb-208">Контекст _*_Interrupt_*_ (Прерывание) представляет все системные события, созданные подпрограммами обработки прерываний (IRS).</span><span class="sxs-lookup"><span data-stu-id="107bb-208">_*_Interrupt_*_ context represents all system events made from Interrupt Service Routines (IRS).</span></span> <span data-ttu-id="107bb-209">Контекст _*_Initialize/Idle_*_ (Инициализация или бездействие) представляет сразу два контекста в ThreadX.</span><span class="sxs-lookup"><span data-stu-id="107bb-209">_*_Initialize/Idle_*_ context represents two contexts in ThreadX.</span></span> <span data-ttu-id="107bb-210">События, происходящие во время _*_tx_application_define_*_, являются контекстом _*_Initialize/Idle_*_ (Инициализация или бездействие).</span><span class="sxs-lookup"><span data-stu-id="107bb-210">Events that occur during _*_tx_application_define_*_, are _*_Initialize/Idle_*_ context.</span></span> <span data-ttu-id="107bb-211">Если система не выполняет никаких действий и в ней не происходят события, во временном представлении в контексте _*_Initialize/Idle_*_ (Инициализация или бездействие) отображается зеленая полоса _ *_Running_*\* (Выполняется).</span><span class="sxs-lookup"><span data-stu-id="107bb-211">If the system is idle and thus no events are occurring, the green bar representing _*_Running_*_ in the time view is drawn on the _ *_Initialize/Idle_*\* context.</span></span>

![Снимок экрана: контексты системы в левой части окна.](./media/user-guide/screen_shot_33.png)

<span data-ttu-id="107bb-213">**Рисунок 11**</span><span class="sxs-lookup"><span data-stu-id="107bb-213">**FIGURE 11**</span></span>

<span data-ttu-id="107bb-214">В примере на **рисунке 11** показаны девять контекстов потоков, начиная с контекста **_System Timer Thread_*_ (Поток системного таймера). Дополнительные сведения о конкретном контексте можно получить, наведя указатель мыши на него. Дополнительные сведения о потоке включают в себя начальный адрес стека, конечный адрес стека, общий размер, процент использования, относительный процент выполнения, число приостановок и возобновлений, а также самый высокий и низкий приоритет во время трассировки. На _\* рисунке 12*\* показаны сведения о потоке **_thread 0_**.</span><span class="sxs-lookup"><span data-stu-id="107bb-214">In the example in **Figure 11**, there are nine thread contexts, starting from the **_System Timer Thread_*_ context. Additional information about an individual context is available by placing the mouse on that context. The additional information includes the thread's starting stack address, ending stack address, total size, percent used, relative execution percentage, number of suspension, resumptions, and its highest and lowest priority during the trace. _\* Figure 12*\* shows information for **_thread 0_**.</span></span>

![Снимок экрана: сведения о потоке thread 0.](./media/user-guide/screen_shot_34.png)


<span data-ttu-id="107bb-216">**Рисунок 12**</span><span class="sxs-lookup"><span data-stu-id="107bb-216">**FIGURE 12**</span></span>

<span data-ttu-id="107bb-217">Контексты также можно перемещать, чтобы группировать по важности.</span><span class="sxs-lookup"><span data-stu-id="107bb-217">Contexts may also be moved to group those of greater interest.</span></span> <span data-ttu-id="107bb-218">Для этого можно перетащить контекст или щелкнуть его правой кнопкой мыши.</span><span class="sxs-lookup"><span data-stu-id="107bb-218">This is accomplished by dragging and dropping the context or right-clicking on the context.</span></span> <span data-ttu-id="107bb-219">Если щелкнуть контекст правой кнопкой мыши, откроется диалоговое окно для перемещения контекста вверх или вниз.</span><span class="sxs-lookup"><span data-stu-id="107bb-219">Right-clicking on the context yields a dialog for moving the context to the top or the bottom.</span></span> 

<span data-ttu-id="107bb-220">Если выбрать ***Move to top** _ (Переместить вверх), то контекст _*_thread 3_*_ переместится в начало списка контекстов, как показано на _*рисунке 13\*\*.</span><span class="sxs-lookup"><span data-stu-id="107bb-220">Selecting ***Move to top** _ results in the _*_thread 3_*_ context being moved to the top of the context list, as shown in _*Figure 13\*\*.</span></span>

![Снимок экрана: перемещение контекста в начало списка контекстов.](./media/user-guide/screen_shot_35.png)


<span data-ttu-id="107bb-222">**Рисунок 13**</span><span class="sxs-lookup"><span data-stu-id="107bb-222">**FIGURE 13**</span></span>

## <a name="thread-status-information"></a><span data-ttu-id="107bb-223">Сведения о состоянии потока</span><span class="sxs-lookup"><span data-stu-id="107bb-223">Thread Status Information</span></span>

<span data-ttu-id="107bb-224">Если эта функция включена, TraceX отображает состояние каждого потока с помощью цветной линии в контексте потока.</span><span class="sxs-lookup"><span data-stu-id="107bb-224">When enabled, TraceX displays the status of each thread via a colored line on the thread's context.</span></span> <span data-ttu-id="107bb-225">Зеленая линия указывает, что поток находится в состоянии "Ready" (Готово), а строка любого другого цвета указывает, что поток приостановлен.</span><span class="sxs-lookup"><span data-stu-id="107bb-225">A green line indicates that the thread is in a "ready" state, while a line of any other color indicates the thread is suspended.</span></span> <span data-ttu-id="107bb-226">Цвет линии приостановленных потоков строки указывает тип объекта ThreadX, на котором приостановлен поток.</span><span class="sxs-lookup"><span data-stu-id="107bb-226">For suspended threads, the color of the line indicates the type of ThreadX object that the thread is suspended on.</span></span> <span data-ttu-id="107bb-227">Например, на **рисунке 13** зеленая линия в контексте \**System Timer Thread_ (Поток системного таймера) после события 147 показывает, что поток System Timer Thread_ (Поток системного таймера) был готов. Отсутствие зеленой линии до события 147 и после события 154 указывает, что поток _System Timer Thread*_ (Поток системного таймера) былприостановлен.</span><span class="sxs-lookup"><span data-stu-id="107bb-227">For example, in **Figure 13** the green line on the **_System Timer Thread's_*_ context starting at event 147 shows that the _*_System Timer Thread_*_ is ready. Prior to event 147 and after event 154, the absence of the green line indicates that the _*_System Timer Thread_*_ is ready. Prior to event 147 and after event 154, the absence of the green line indicates that the _*_System Timer Thread_** is suspended.</span></span>

![Снимок экрана: отображение состояния каждого потока с помощью цветных линий в контексте.](./media/user-guide/screen_shot_36.png)

<span data-ttu-id="107bb-229">**Рисунок 14**</span><span class="sxs-lookup"><span data-stu-id="107bb-229">**FIGURE 14**</span></span>

<span data-ttu-id="107bb-230">Существуют три режима отображения состояния потока, они доступны в меню \***Options > Status Lines** _ (Параметры > Строки состояния).</span><span class="sxs-lookup"><span data-stu-id="107bb-230">There are three modes of thread status display, available via the \***Options -> Status Lines** _ menu.</span></span> <span data-ttu-id="107bb-231">Параметр _*_Ready Only_*_ (Только готовые) отображает только строки состояния готовности (зеленые), но не отображает строки состояния приостановки.</span><span class="sxs-lookup"><span data-stu-id="107bb-231">The _*_Ready Only_*_ option only shows the ready (green) status lines, but does not display any suspension status lines.</span></span> <span data-ttu-id="107bb-232">Это параметр по умолчанию в TraceX.</span><span class="sxs-lookup"><span data-stu-id="107bb-232">This is the default option for TraceX.</span></span> <span data-ttu-id="107bb-233">Параметр _ *_All On_*\* (Включить все) позволяет отобразить все строки состояния (готовность и приостановка).</span><span class="sxs-lookup"><span data-stu-id="107bb-233">The _ *_All On_*\* option enables the display of all status lines (ready and suspension).</span></span>

<span data-ttu-id="107bb-234">Наконец, параметр ***All Off*** (Выключить все) отключает отображение всех строк состояния.</span><span class="sxs-lookup"><span data-stu-id="107bb-234">Finally, the ***All Off*** option disables the display of all status lines.</span></span>

## <a name="event-information-display"></a><span data-ttu-id="107bb-235">Отображение сведений о событиях</span><span class="sxs-lookup"><span data-stu-id="107bb-235">Event Information Display</span></span>

<span data-ttu-id="107bb-236">TraceX предоставляет подробные сведения примерно о 600 событиях времени выполнения, включая вызовы API ThreadX, FileX, NetX, NetX Duo, USBX и внутренние события.</span><span class="sxs-lookup"><span data-stu-id="107bb-236">TraceX provides detailed information on some 600 run-time events, including ThreadX, FileX, NetX, NetX Duo, and USBX API calls and internal events.</span></span> <span data-ttu-id="107bb-237">TraceX также поддерживает дополнительно 61 439 уникальных определяемых пользователем событий.</span><span class="sxs-lookup"><span data-stu-id="107bb-237">TraceX also supports up to an additional 61,439 unique user-defined events.</span></span>

<span data-ttu-id="107bb-238">Независимо от выбора последовательного или временного режима отображения, наведение указателя мыши на любое событие в области отображения позволяет отобразить рядом с ним подробные сведения об этом событии.</span><span class="sxs-lookup"><span data-stu-id="107bb-238">Regardless of whether sequential or time display mode is selected, a mouse-over on any event in the display area results in detailed event information displayed near the event.</span></span> <span data-ttu-id="107bb-239">Ниже представлен пример наведения указателя мыши на событие 143 в демонстрационном файле трассировки ***demo_threadx.trx** _ (см. _*рисунок 15\*\*).</span><span class="sxs-lookup"><span data-stu-id="107bb-239">The mouse-over of event 143 in the demonstration ***demo_threadx.trx** _ trace file is shown in _*Figure 15\*\*:</span></span>

![Снимок экрана: указатель мыши наведен на событие 143 в примере файла трассировки.](./media/user-guide/screen_shot_37.png)

<span data-ttu-id="107bb-241">**Рисунок 15**</span><span class="sxs-lookup"><span data-stu-id="107bb-241">**FIGURE 15**</span></span>

<span data-ttu-id="107bb-242">Каждое отображаемое событие содержит стандартные сведения о ***контексте** _, а также _*_относительное время_*_ и _*_метку времени_\*_.</span><span class="sxs-lookup"><span data-stu-id="107bb-242">Each event displayed contains standard information about ***Context** _ and both the _*_Relative Time_*_ and _*_Time Stamp_\*_.</span></span> <span data-ttu-id="107bb-243">В поле "Context" (Контекст) отображается контекст, в котором произошло событие.</span><span class="sxs-lookup"><span data-stu-id="107bb-243">The Context field shows what context the event took place in.</span></span> <span data-ttu-id="107bb-244">Различаются ровно четыре контекста: поток, бездействие, ISR и инициализация.</span><span class="sxs-lookup"><span data-stu-id="107bb-244">There are exactly four contexts: thread, idle, ISR, and initialization.</span></span> <span data-ttu-id="107bb-245">Когда событие происходит в контексте потока, для него сохраняются и отображаются имя и приоритет потока, как показано выше.</span><span class="sxs-lookup"><span data-stu-id="107bb-245">When an event takes place in a thread context, the thread name and its priority at that time is gathered and displayed as shown above.</span></span> <span data-ttu-id="107bb-246">Поле _*_Relative Time_*_ (Относительное время) отображает относительное количество тактов таймера от начала трассировки.</span><span class="sxs-lookup"><span data-stu-id="107bb-246">The _*_Relative Time_*_ shows the relative number of timer ticks from the beginning of the trace.</span></span> <span data-ttu-id="107bb-247">Поле _ *_Raw Time Stamp_*\* (Необработанная метка времени) отображает необработанную метку времени для события.</span><span class="sxs-lookup"><span data-stu-id="107bb-247">The _ *_Raw Time Stamp_*\* displays the raw time source of the event.</span></span> <span data-ttu-id="107bb-248">Наконец, отображаются все сведения, относящиеся к конкретному событию.</span><span class="sxs-lookup"><span data-stu-id="107bb-248">Finally, all event-specific information is displayed.</span></span> <span data-ttu-id="107bb-249">Эта информация подробно описана в оставшейся части этой главы.</span><span class="sxs-lookup"><span data-stu-id="107bb-249">This information is detailed throughout the remainder of this chapter.</span></span>

<span data-ttu-id="107bb-250">Подробные сведения о событии можно также получить, дважды щелкнув любое событие.</span><span class="sxs-lookup"><span data-stu-id="107bb-250">Detailed event information is also available by double clicking on any event.</span></span> <span data-ttu-id="107bb-251">Двойной щелчок события 143 показан на **рисунке 16**.</span><span class="sxs-lookup"><span data-stu-id="107bb-251">Double clicking on event 143 is shown in **Figure 16**:</span></span>

![Снимок экрана: подробные сведения о событии при двойном щелчке этого события.](./media/user-guide/screen_shot_38.png)

<span data-ttu-id="107bb-253">**Рисунок 16**</span><span class="sxs-lookup"><span data-stu-id="107bb-253">**FIGURE 16**</span></span>

<span data-ttu-id="107bb-254">Возможность просмотра нескольких событий одновременно позволяет пользователю получить намного более подробное представление о том, что произошло.</span><span class="sxs-lookup"><span data-stu-id="107bb-254">Being able to view multiple events at once gives the user a much richer view of what happened.</span></span> <span data-ttu-id="107bb-255">Одновременное отображение событий весьма удобно, так как многие события взаимосвязаны.</span><span class="sxs-lookup"><span data-stu-id="107bb-255">Seeing them side by side is quite useful since many events are interrelated.</span></span> <span data-ttu-id="107bb-256">Для этого нужно дважды щелкнуть несколько событий.</span><span class="sxs-lookup"><span data-stu-id="107bb-256">This is accomplished by double clicking on multiple events.</span></span>

## <a name="current-event-display"></a><span data-ttu-id="107bb-257">Отображение текущего события</span><span class="sxs-lookup"><span data-stu-id="107bb-257">Current Event Display</span></span>

<span data-ttu-id="107bb-258">TraceX отображает текущее событие в отдельном окне, если пользователь выбрал ***View > Current Event*** (Просмотр > Текущее событие) или нажал кнопку текущего события на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="107bb-258">TraceX displays the current event—in a separate window—when selected by the user via ***View -> Current Event*** or clicking on the current event button on the toolbar.</span></span> <span data-ttu-id="107bb-259">После этого TraceX отображает выбранное текущее событие в отдельном окне и обновляет это окно каждый раз, когда выбирается другое событие.</span><span class="sxs-lookup"><span data-stu-id="107bb-259">After selected, TraceX displays the currently selected event in a stand-alone window and refreshes this window whenever another event is selected.</span></span>

## <a name="event-searching"></a><span data-ttu-id="107bb-260">Поиск событий</span><span class="sxs-lookup"><span data-stu-id="107bb-260">Event Searching</span></span>

<span data-ttu-id="107bb-261">TraceX предоставляет широкие возможности поиска событий.</span><span class="sxs-lookup"><span data-stu-id="107bb-261">TraceX provides an extensive event search capability.</span></span> <span data-ttu-id="107bb-262">Поля "Event ID" (Идентификатор события) и "Information" (Информация) для каждого события являются основными параметрами поиска.</span><span class="sxs-lookup"><span data-stu-id="107bb-262">The event ID and information fields of each event are the primary search parameters.</span></span> <span data-ttu-id="107bb-263">Если не указать значение параметра поиска, это означает, что параметр фактически удаляется из поиска.</span><span class="sxs-lookup"><span data-stu-id="107bb-263">Not specifying a value for a search parameter indicates that parameter effectively removes that parameter from of the search.</span></span> <span data-ttu-id="107bb-264">Кроме того, можно выполнить поиск таким образом, чтобы условиям поиска соответствовал любой из найденных параметров или все эти параметры.</span><span class="sxs-lookup"><span data-stu-id="107bb-264">In addition, the search can be done such that any parameter found will satisfy the search or all parameters must be found to satisfy the search.</span></span> <span data-ttu-id="107bb-265">Поиск может быть ограничен определенным контекстом или охватывать все контексты в трассировке.</span><span class="sxs-lookup"><span data-stu-id="107bb-265">The search may also be restricted to a particular context or cover all contexts in the trace.</span></span> <span data-ttu-id="107bb-266">Для вызова поиска событий необходимо нажать кнопку ***Search by Value** _ (Искать по значению) на панели инструментов, как показано на _*рисунке 17\*\*. Она открывает диалоговое окно поиска, в котором указываются все параметры поиска. Затем с помощью кнопок \**_Next_*_ (Далее) и _*_Previous_*_ (Назад) в диалоговом окне поиска можно искать следующие и предыдущие события, соответствующие заданным условиям поиска.</span><span class="sxs-lookup"><span data-stu-id="107bb-266">Invoking the event search is done by selecting the ***Search by Value** _ button on the toolbar, as shown in _*Figure 17\*\*. When selected the search dialog is displayed, which specifies all the parameters for the search. The \**_Next_*_ and _*_Previous_*_ buttons in the search dialog can then be used to find the next and previous events that match the specified search criteria.</span></span> <span data-ttu-id="107bb-267">На _ *рисунке 17*\* показано диалоговое окно поиска.</span><span class="sxs-lookup"><span data-stu-id="107bb-267">_ *Figure 17*\* shows the search dialog.</span></span>

![Снимок экрана: поиск событий.](./media/user-guide/screen_shot_39.png)

<span data-ttu-id="107bb-269">**Рисунок 17**</span><span class="sxs-lookup"><span data-stu-id="107bb-269">**FIGURE 17**</span></span>

![Снимок экрана: диалоговое окно поиска.](./media/user-guide/screen_shot_40.png)

<span data-ttu-id="107bb-271">**Рисунок 18**</span><span class="sxs-lookup"><span data-stu-id="107bb-271">**FIGURE 18**</span></span>

## <a name="zooming-in-and-out"></a><span data-ttu-id="107bb-272">Увеличение и уменьшение масштаба</span><span class="sxs-lookup"><span data-stu-id="107bb-272">Zooming In and Out</span></span>

<span data-ttu-id="107bb-273">По умолчанию TraceX отображает события в полном размере.</span><span class="sxs-lookup"><span data-stu-id="107bb-273">By default, TraceX displays the events at their full size.</span></span> <span data-ttu-id="107bb-274">При желании можно увеличить или уменьшить масштаб.</span><span class="sxs-lookup"><span data-stu-id="107bb-274">You may zoom in or zoom out as desired.</span></span> <span data-ttu-id="107bb-275">Уменьшение масштаба удобно для просмотра всех событий, записанных в трассировке, а уменьшать масштаб удобно в случаях, когда события перекрываются из-за разрешения источника метки времени.</span><span class="sxs-lookup"><span data-stu-id="107bb-275">Zooming out is useful to see the overall events captured in the trace, while zooming in is useful in conditions where the events overlap because of the resolution of the time stamp source.</span></span> <span data-ttu-id="107bb-276">На **рисунке 19** показан файл **_demo_threadx. trx_** в меньшем масштабе, что позволяет отобразить весь файл трассировки.</span><span class="sxs-lookup"><span data-stu-id="107bb-276">**Figure 19** shows the **_demo_threadx.trx_** file zoomed out so that 100% of the trace file is shown.</span></span>

![Снимок экрана: пример файла показан в меньшем масштабе, что позволяет отобразить весь файл трассировки.](./media/user-guide/screen_shot_41.png)

<span data-ttu-id="107bb-278">**Рисунок 19**</span><span class="sxs-lookup"><span data-stu-id="107bb-278">**FIGURE 19**</span></span>

<span data-ttu-id="107bb-279">При уменьшении масштаба до 100 % на странице в выбранном режиме отображается вся трассировка, в которой легко отслеживать все контексты выполнения, записанные в данную трассировку, а также общие события, происходящие в этих контекстах.</span><span class="sxs-lookup"><span data-stu-id="107bb-279">When zoomed out at 100% to show the entire trace within the current display page, it is easy to see all the context execution captured in the trace as well as the general events occurring within those contexts.</span></span> <span data-ttu-id="107bb-280">На **рисунке 16** можно заметить, что потоки **_thread 1_*_ и _*_thread 2_** выполняются чаще других.</span><span class="sxs-lookup"><span data-stu-id="107bb-280">Notice in **Figure 16** that **_thread 1_*_ and _*_thread 2_** execute most often.</span></span> <span data-ttu-id="107bb-281">Синий цвет, которым обозначены события в них, также подсказывает, что эти потоки осуществляют вызовы к службе очередей (все события очередей имеют синий цвет).</span><span class="sxs-lookup"><span data-stu-id="107bb-281">The blue coloring for their events also suggests that these threads are making queue service calls (queue events are blue in color).</span></span>

<span data-ttu-id="107bb-282">Вы можете легко вернуться к просмотру значков в масштабе по умолчанию, несколько раз нажав кнопку увеличения масштаба или введя значение масштаба меньше 100.</span><span class="sxs-lookup"><span data-stu-id="107bb-282">Restoring to a full icon view is equally easy; Either the zoom-in button may be selected repeatedly or some factor of 100 may be entered.</span></span>

## <a name="delta-ticks-between-events"></a><span data-ttu-id="107bb-283">Разница в тактах между событиями</span><span class="sxs-lookup"><span data-stu-id="107bb-283">Delta Ticks Between Events</span></span>

<span data-ttu-id="107bb-284">Определить количество тактов между разными событиями в TraceX очень легко: просто щелкните начальное событие и перетащите указатель к конечному событию.</span><span class="sxs-lookup"><span data-stu-id="107bb-284">Determining the number of ticks between various events in TraceX is easy—click on the starting event and drag the mouse to the ending event.</span></span> <span data-ttu-id="107bb-285">В правом верхнем углу окна появится количество тактов, прошедших между этими событиями (см. **рисунок 17**).</span><span class="sxs-lookup"><span data-stu-id="107bb-285">The delta number of ticks between the events shows up in the upper right-hand corner of the display, as shown in **Figure 17**.</span></span>

![Снимок экрана: разница в тактах между событиями.](./media/user-guide/screen_shot_42.png)

<span data-ttu-id="107bb-287">**Рисунок 17**</span><span class="sxs-lookup"><span data-stu-id="107bb-287">**FIGURE 17**</span></span>

<span data-ttu-id="107bb-288">Разница в тактах на **рисунке 17** показывает, что между событием 125 и событием 154 прошло 5032 такта.</span><span class="sxs-lookup"><span data-stu-id="107bb-288">The delta ticks shown in **Figure 17** show that 5032 ticks have elapsed between event 125 and event 154.</span></span> <span data-ttu-id="107bb-289">Это значение можно вычислить вручную, вычтя значения меток времени для каждого из событий, но использовать графический пользовательский интерфейс проще и быстрее.</span><span class="sxs-lookup"><span data-stu-id="107bb-289">This could also be calculated manually by looking at the relative time stamps in each event and subtracting, but using the GUI is easy and instantaneous.</span></span>

## <a name="actual-time-display"></a><span data-ttu-id="107bb-290">Отображение фактического времени</span><span class="sxs-lookup"><span data-stu-id="107bb-290">Actual Time Display</span></span>

<span data-ttu-id="107bb-291">Если эта функция включена, TraceX отображает фактическое время в микросекундах в режиме \***Time View** _ (Временное представление), а также при отображении различных данных об изменении времени.</span><span class="sxs-lookup"><span data-stu-id="107bb-291">When enabled, TraceX displays the actual time in microseconds in \***Time View** _ and for the various delta time information displayed by TraceX.</span></span> <span data-ttu-id="107bb-292">По умолчанию отображение фактического времени отключено.</span><span class="sxs-lookup"><span data-stu-id="107bb-292">By default, the actual time display is disabled.</span></span> <span data-ttu-id="107bb-293">Чтобы включить отображение фактического времени, в меню _ *_Options > Ticks per Microsecond_*\*\* (Параметры > Число тактов в микросекунде) следует указать число тактов в микросекунде (это значение определяется источником аппаратного таймера, используемым для ведения журнала событий TraceX на целевом оборудовании).</span><span class="sxs-lookup"><span data-stu-id="107bb-293">To enable the actual time display, the number of ticks per microsecond must be entered via the _ *_Options -> Ticks per Microsecond_*\* menu selection (the value to enter is determined by the hardware timer source used for the TraceX event logging on the target).</span></span>

## <a name="priority-inversions"></a><span data-ttu-id="107bb-294">Инверсии приоритета</span><span class="sxs-lookup"><span data-stu-id="107bb-294">Priority Inversions</span></span>

<span data-ttu-id="107bb-295">TraceX автоматически отображает инверсии приоритета, обнаруженные в файле трассировки.</span><span class="sxs-lookup"><span data-stu-id="107bb-295">TraceX automatically displays priority inversions detected in the trace file.</span></span> <span data-ttu-id="107bb-296">Инверсией приоритета называется такое состояние, при котором поток с более высоким приоритетом блокируется при обращении к мьютексу, который принадлежит к потоку с более низким приоритетом.</span><span class="sxs-lookup"><span data-stu-id="107bb-296">Priority inversions are defined as conditions where a higher-priority thread is blocked trying to obtain a mutex that is currently owned by a lower-priority thread.</span></span> <span data-ttu-id="107bb-297">Такое состояние называется *детерминированным*, так как система специально настроена для такого поведения.</span><span class="sxs-lookup"><span data-stu-id="107bb-297">This condition is termed *deterministic*, because the system was set up to operate in this manner.</span></span> <span data-ttu-id="107bb-298">Чтобы сообщить об этом пользователю, TraceX отображает *детерминированные* инверсии приоритета светло-оранжевым цветом.</span><span class="sxs-lookup"><span data-stu-id="107bb-298">To inform the user, TraceX shows *deterministic* priority inversion ranges as a light salmon color.</span></span>

<span data-ttu-id="107bb-299">Также TraceX отображает и *недетерминированные* инверсии приоритета.</span><span class="sxs-lookup"><span data-stu-id="107bb-299">TraceX also displays *non-deterministic* priority inversions.</span></span> <span data-ttu-id="107bb-300">Такие инверсии приоритета отличаются от *детерминированных* тем, что другой поток на другом уровне приоритета начал выполнение при уже существующей *детерминированной* инверсии приоритета. Это приводит к тому, что на некоторое время инверсия приоритета становится *недетерминированной*.</span><span class="sxs-lookup"><span data-stu-id="107bb-300">These priority inversions differ from the *deterministic* priority inversions in that another thread of a different priority level has executed in the middle of what was a *deterministic* priority inversion, thereby making the time within the priority inversion somewhat *non-deterministic*.</span></span> <span data-ttu-id="107bb-301">Пользователь обычно не подозревает о наличии таких состояний, и они могут иметь серьезное влияние.</span><span class="sxs-lookup"><span data-stu-id="107bb-301">This condition is often unknown to the user and can be very serious.</span></span> <span data-ttu-id="107bb-302">Чтобы пользователь обратил внимание на эти ситуации, TraceX отображает *недетерминированные* инверсии приоритета ярким оранжевым цветом.</span><span class="sxs-lookup"><span data-stu-id="107bb-302">In order to alert the user of this condition, TraceX shows *non-deterministic* priority inversions as a brighter salmon color.</span></span> <span data-ttu-id="107bb-303">На **рисунке 18** показаны *детерминированные* и *недетерминированные* инверсии приоритета.</span><span class="sxs-lookup"><span data-stu-id="107bb-303">**Figure 18** shows both *deterministic* and *non-deterministic* priority inversions.</span></span>

![Снимок экрана: инверсия приоритета в файле трассировки.](./media/user-guide/screen_shot_43.png)

<span data-ttu-id="107bb-305">**Рисунок 18**</span><span class="sxs-lookup"><span data-stu-id="107bb-305">**FIGURE 18**</span></span>

<span data-ttu-id="107bb-306">На **рисунке 18** показана *детерминированная* инверсия приоритета с события 398 по событие 402.</span><span class="sxs-lookup"><span data-stu-id="107bb-306">**Figure 18** shows a *deterministic* priority inversion from event 398 through event 402.</span></span> <span data-ttu-id="107bb-307">В этом диапазоне на мьютексе, принадлежащем к потоку _*_thread 1_*_ с более низким приоритетом, блокируется поток \***thread 0** _ с более высоким приоритетом.</span><span class="sxs-lookup"><span data-stu-id="107bb-307">In this range, the higher-priority ***thread 0** _ blocks on a mutex owned by a lower-priority _*_thread 1_\*_.</span></span> <span data-ttu-id="107bb-308">На событии 402 поток _ *_thread 1_*\* освобождает мьютекс и тем самым завершает инверсию приоритета.</span><span class="sxs-lookup"><span data-stu-id="107bb-308">At event 402, _ *_thread 1_*\* releases the mutex and thus ends the priority inversion.</span></span>

<span data-ttu-id="107bb-309">Светлая затененная область отображает *недетерминированную* инверсию приоритета с события 408 по событие 420.</span><span class="sxs-lookup"><span data-stu-id="107bb-309">The brighter shaded area shows a *non-deterministic* priority inversion between event 408 through event 420.</span></span> <span data-ttu-id="107bb-310">Эта инверсия *недетерминированная*, так как поток ***thread 1** _ содержит мьютекс, блокирующий поток _*_thread 0_*_ с более высоким приоритетом. Происходит прерывание, возобновляющее выполнение потока _*_thread 2_\*\*, что приводит к увеличении времени, в течение которого в системе происходит инверсия приоритета.</span><span class="sxs-lookup"><span data-stu-id="107bb-310">What makes this *non-deterministic* is that while ***thread 1** _ holds the mutex that higher-priority _*_thread 0_*_ is blocked on, an interrupt occurs that resumes _*_thread 2_\*\*, which then executes and lengthens the time the system is in priority inversion.</span></span> <span data-ttu-id="107bb-311">Эта ситуация может быть довольно серьезной и трудно выявляемой. Однако TraceX позволяет легко ее идентифицировать.</span><span class="sxs-lookup"><span data-stu-id="107bb-311">This condition can be quite serious and difficult to identify; however, with TraceX it is easily identified.</span></span>
