---
title: Общие сведения о TraceX для ОСРВ Azure
description: TraceX для ОСРВ Azure — это средство Майкрософт для анализа на основе узлов, которое предоставляет разработчикам графическое представление системных событий в реальном времени, позволяя им визуализировать и понимать поведение систем реального времени.
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: overview
ms.openlocfilehash: 9fd33eec6da69e6dda421a125a2dde5eae93b46d
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104816471"
---
# <a name="overview-of-azure-rtos-tracex"></a><span data-ttu-id="bc4d2-103">Обзор TraceX для ОСРВ Azure</span><span class="sxs-lookup"><span data-stu-id="bc4d2-103">Overview of Azure RTOS TraceX</span></span>

<span data-ttu-id="bc4d2-104">TraceX для ОСРВ Azure — это средство Майкрософт для анализа на основе узлов, которое предоставляет разработчикам графическое представление системных событий в реальном времени, позволяя им визуализировать и понимать поведение систем реального времени.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-104">Azure RTOS TraceX is Microsoft's host-based analysis tool that provides developers with a graphical view of real-time system events and enables them to visualize and better understand the behavior of their real-time systems.</span></span> <span data-ttu-id="bc4d2-105">С помощью TraceX для ОСРВ Azure разработчики могут легко отслеживать возникновение системных событий, таких как прерывания и переключения контекста, которые не попадают в сферу контроля стандартных средств отладки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-105">With Azure RTOS TraceX, developers can see clearly the occurrence of system events like interrupts and context switches that occur out of view of standard debugging tools.</span></span> <span data-ttu-id="bc4d2-106">Возможность обнаруживать и изучать такие события, а также точно определять время их наступления в контексте работы всей системы позволяет разработчикам решать проблемы в программах. Они могут отслеживать неожиданное поведение и подробнее изучать конкретные области. Данные трассировки сохраняются на целевой системе в буфере, расположение и размер которого определяются приложением во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-106">The ability to identify and study these events, and to pinpoint the timing of their occurrence in the context of the overall system’s operation enables developers to resolve programming problems by finding unexpected behavior and letting them investigate specific areas further Trace information is stored in a buffer on the target system, with the buffer location and size determined by the application at run-time.</span></span> <span data-ttu-id="bc4d2-107">TraceX для ОСРВ Azure умеет обрабатывать любой буфер, созданный надлежащим образом, не только с помощью ThreadX для ОСРВ Azure, но и любым приложением или ОСРВ.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-107">Azure RTOS TraceX can process any buffer constructed in the proper manner, not only from Azure RTOS ThreadX, but from any application or RTOS.</span></span> <span data-ttu-id="bc4d2-108">Данные трассировки можно в любой момент отправить на узел для анализа, даже после сбоя системы или во время паузы на точке останова.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-108">The trace information may be uploaded to the host for analysis at any time – either post mortem or upon a breakpoint.</span></span> <span data-ttu-id="bc4d2-109">ThreadX для ОСРВ Azure предоставляет циклический буфер, который всегда сохраняет в доступной для анализа форме заданное число последних событий перед системным сбоем или другим важным событием.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-109">Azure RTOS ThreadX implements a circular buffer, which enables the most recent “N” events to be available for inspection in the event of system malfunction or other significant event.</span></span>

![Отображение для одного ядра в TraceX для ОСРВ Azure](./media/user-guide/screen_shot_33.png)

<span data-ttu-id="bc4d2-111">**Отображение для одного ядра в TraceX**</span><span class="sxs-lookup"><span data-stu-id="bc4d2-111">**TraceX Single-Core Display**</span></span>

## <a name="key-capabilites"></a><span data-ttu-id="bc4d2-112">Основные возможности</span><span class="sxs-lookup"><span data-stu-id="bc4d2-112">Key capabilites</span></span>

### <a name="azure-rtos-tracex-built-in-system-analysis"></a><span data-ttu-id="bc4d2-113">Встроенный анализ системы в TraceX для ОСРВ Azure</span><span class="sxs-lookup"><span data-stu-id="bc4d2-113">Azure RTOS TraceX built-in system analysis</span></span>

<span data-ttu-id="bc4d2-114">TraceX для ОСРВ Azure предоставляет встроенные отчеты для анализа системы, которые можно получить одним нажатием кнопки на панели инструментов TraceX.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-114">Azure RTOS TraceX is provides built-in system analysis reports that are available via a single button click from the TraceX toolbar.</span></span> <span data-ttu-id="bc4d2-115">Доступные кнопки и отчеты:</span><span class="sxs-lookup"><span data-stu-id="bc4d2-115">These buttons and reports include:</span></span>

![Создание отчета о профиле выполнения](./media/overview-tracex/execution-profile-report-button.jpg) <span data-ttu-id="bc4d2-117">Создание отчета о профиле выполнения</span><span class="sxs-lookup"><span data-stu-id="bc4d2-117">Generate Execution Profile report</span></span>

![Создание отчета о статистике производительности](./media/overview-tracex/performance-statistics-report-button.jpg) <span data-ttu-id="bc4d2-119">Создание отчета о статистике производительности</span><span class="sxs-lookup"><span data-stu-id="bc4d2-119">Generate Performance Statistics report</span></span>

![Создание отчета об использовании стека потоков](./media/overview-tracex/thread-stack-usage-report-button.jpg) <span data-ttu-id="bc4d2-121">Создание отчета об использовании стека потоков</span><span class="sxs-lookup"><span data-stu-id="bc4d2-121">Generate Thread Stack Usage report</span></span>

### <a name="trace-data-collected-by-azure-rtos-threadx"></a><span data-ttu-id="bc4d2-122">Данные трассировки, собираемые в ThreadX для ОСРВ Azure</span><span class="sxs-lookup"><span data-stu-id="bc4d2-122">Trace data collected By Azure RTOS ThreadX</span></span>

<span data-ttu-id="bc4d2-123">Система TraceX для ОСРВ Azure разработана для совместной работы со ThreadX для ОСРВ Azure, которая во время выполнения создает базу данных событий в системе и в приложениях на целевой системе.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-123">Azure RTOS TraceX is designed to work with Azure RTOS ThreadX, which constructs a database of system and application “events” on the target system during run-time.</span></span> <span data-ttu-id="bc4d2-124">К этим событиям относятся:</span><span class="sxs-lookup"><span data-stu-id="bc4d2-124">These events include:</span></span>

* <span data-ttu-id="bc4d2-125">переключения контекста потоков;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-125">thread context switches</span></span>
* <span data-ttu-id="bc4d2-126">вытеснения;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-126">preemptions</span></span>
* <span data-ttu-id="bc4d2-127">приостановки;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-127">suspensions</span></span>
* <span data-ttu-id="bc4d2-128">завершения;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-128">terminations</span></span>
* <span data-ttu-id="bc4d2-129">системные прерывания;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-129">system interrupts</span></span>
* <span data-ttu-id="bc4d2-130">события приложений;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-130">application-specific events</span></span>
* <span data-ttu-id="bc4d2-131">все вызовы API ThreadX для ОСРВ Azure;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-131">all Azure RTOS ThreadX API calls</span></span>
* <span data-ttu-id="bc4d2-132">все вызовы API NetX для ОСРВ Azure;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-132">all Azure RTOS NetX API calls</span></span>
* <span data-ttu-id="bc4d2-133">все вызовы API FileX для ОСРВ Azure;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-133">all Azure RTOS FileX API calls</span></span>
* <span data-ttu-id="bc4d2-134">все вызовы API USBX для ОСРВ Azure;</span><span class="sxs-lookup"><span data-stu-id="bc4d2-134">all Azure RTOS USBX API calls</span></span>
* <span data-ttu-id="bc4d2-135">значки и данные, определяемые приложением.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-135">application-defined icons and information</span></span>

<span data-ttu-id="bc4d2-136">События записываются в раздел управления программой с метками времени и идентификаторами активного потока, чтобы их можно было позже отобразить в правильной последовательности и связать с соответствующим потоком.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-136">Events are logged under program control, with time-stamping and active thread identification so they can be displayed later in the proper time sequence, and associated with the appropriate thread.</span></span> <span data-ttu-id="bc4d2-137">Программа приложения может останавливать и снова запускать ведение журнала событий динамически, например при возникновении важного контекста.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-137">Event logging may be stopped and restarted by the application program dynamically, for example, when an area of interest is encountered.</span></span> <span data-ttu-id="bc4d2-138">Это позволяет не перегружать базу данных и не расходовать память в целевой системе, пока все работает нормально.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-138">This avoids cluttering the database and using up target memory when the system is performing correctly.</span></span>

### <a name="azure-rtos-tracex-is-like-a-software-logic-analyzer"></a><span data-ttu-id="bc4d2-139">TraceX для ОСРВ Azure выполняет роль анализатора программной логики.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-139">Azure RTOS TraceX is like a software logic analyzer</span></span>

<span data-ttu-id="bc4d2-140">После отправки журнала событий из памяти целевой системы на узел TraceX для ОСРВ Azure отображает эти события на графике, где горизонтальная ось представляет время, а по вертикальной оси разграничены разные потоки приложений и системные подпрограммы, с которыми связаны эти события.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-140">Once the event log has been uploaded from target memory to the host, Azure RTOS TraceX displays the events graphically on a horizontal axis representing time, with the various application threads and system routines to which the events are related listed along the vertical axis.</span></span> <span data-ttu-id="bc4d2-141">TraceX для ОСРВ Azure создает на узле анализатор программной логики, позволяя наглядно отслеживать системные события.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-141">Azure RTOS TraceX creates a “software logic analyzer” on the host, making system events plainly visible.</span></span> <span data-ttu-id="bc4d2-142">Все события представлены значками с цветовым кодированием, которые размещаются в той точке относительно горизонтальной временной шкалы, которая соответствует времени их возникновения, справа от соответствующего потока или системной процедуры.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-142">Events are represented by color coded icons, located at the point of occurrence along the horizontal timeline, to the right of the relevant thread or system routine.</span></span> <span data-ttu-id="bc4d2-143">Щелкнув значок события, вы можете отобразить соответствующие сведения для этого события и сведения о двух предыдущих и двух последующих событиях.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-143">When an event icon is selected, the corresponding information for that event is displayed, as well as the information for the two previous and two subsequent events.</span></span> <span data-ttu-id="bc4d2-144">Это позволяет одним щелчком быстро получить подробные данные о нескольких последовательных событиях.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-144">This provides quick, single-click access to the most immediate information about the event and its immediately surrounding events.</span></span> <span data-ttu-id="bc4d2-145">TraceX для ОСРВ Azure предоставляет отображение сводной информации, в котором все системные события размещены на одной горизонтальной линии, что упрощает анализ в многопоточных системах.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-145">Azure RTOS TraceX provides a “Summary” display that shows all system events on a single horizontal line to simplify analysis of systems with many threads.</span></span>

### <a name="sequential-view-mode"></a><span data-ttu-id="bc4d2-146">Режим последовательного просмотра</span><span class="sxs-lookup"><span data-stu-id="bc4d2-146">Sequential view mode</span></span>

<span data-ttu-id="bc4d2-147">Чтобы выбрать режим последовательного просмотра, щелкните вкладку "Sequential View" (Последовательный просмотр). Этот же режим используется по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-147">The sequential view mode is selected by clicking the “Sequential View” tab. This is the default mode.</span></span> <span data-ttu-id="bc4d2-148">В нем все события следуют непосредственно друг за другом, независимо от прошедшего между ними времени.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-148">In this mode, events are shown immediately following each other–regardless of the elapsed time between them.</span></span> <span data-ttu-id="bc4d2-149">Обратите внимание также на линейку над областью просмотра.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-149">Note also the ruler above the display area.</span></span> <span data-ttu-id="bc4d2-150">На ней отображается относительный номер события от начала трассировки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-150">It shows the relative event number from the beginning of the trace.</span></span> <span data-ttu-id="bc4d2-151">Этот режим используется по умолчанию и позволяет получить хорошее общее впечатление о событиях в системе.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-151">This mode is the default mode and is especially useful in getting a good overview of what is going on in the system.</span></span>

![Режим последовательного просмотра](./media/user-guide/screen_shot_10.png)

<span data-ttu-id="bc4d2-153">**Режим последовательного просмотра**</span><span class="sxs-lookup"><span data-stu-id="bc4d2-153">**Sequential view mode**</span></span>

### <a name="time-view-mode"></a><span data-ttu-id="bc4d2-154">Режим временного просмотра</span><span class="sxs-lookup"><span data-stu-id="bc4d2-154">Time view mode</span></span>

<span data-ttu-id="bc4d2-155">В этом режиме события отображаются с привязкой ко времени, и прошедшее между ними время обозначается сплошной зеленой полосой.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-155">In this mode, events are shown in a time relative manner–with a solid green bar being used to show execution between events.</span></span> <span data-ttu-id="bc4d2-156">Этот режим особенно полезен для понимания того, какое место в системе создает основную нагрузку, что позволяет разработчикам настроить систему для повышения производительности и (или) скорости реагирования.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-156">This mode is especially useful to see where the bulk of processing is taking place in the system, which can help developers tune their system for greater performance and/or responsiveness.</span></span>

<span data-ttu-id="bc4d2-157">Обратите внимание также на линейку над областью событий.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-157">Note also the ruler above the event display.</span></span> <span data-ttu-id="bc4d2-158">На этой линейке показано количество тактов от начала трассировки, полученное на основе метки времени из журнала трассировки событий, созданной системой ThreadX для ОСРВ Azure.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-158">This ruler shows relative ticks from the beginning of the trace, as derived from the time stamp instrumented in the event trace logging inside of Azure RTOS ThreadX.</span></span> <span data-ttu-id="bc4d2-159">Если временные метки слишком близки (при высокой частоте таймера), события будут выполняться вместе.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-159">If the time-stamps are too close (low frequency timer), the events will run together.</span></span> <span data-ttu-id="bc4d2-160">И наоборот, если промежуток между временными метками слишком велик (при низкой частоте таймера), события будут далеко друг от друга.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-160">Conversely, if the time-stamps are too far apart (high frequency timer), then the events will be too far apart.</span></span> <span data-ttu-id="bc4d2-161">Выбор правильной частоты для меток времени играет важную роль при анализе данных на временном представлении.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-161">Choosing the right frequency time stamp is an important consideration in making the time relative view meaningful.</span></span>

![Режим временного просмотра](./media/user-guide/screen_shot_31.png)

### <a name="system-summary-line"></a><span data-ttu-id="bc4d2-163">Строка сводной информации о системе</span><span class="sxs-lookup"><span data-stu-id="bc4d2-163">System summary line</span></span>

<span data-ttu-id="bc4d2-164">TraceX для ОСРВ Azure также поддерживает единую строку со сводной информацией о всех событиях в системе.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-164">Azure RTOS TraceX also provides a single summary line that includes all events on the same line.</span></span> <span data-ttu-id="bc4d2-165">Эта строка содержит сводные данные о контексте и событиях.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-165">The summary line contains a summary of the context as well as the corresponding event summary underneath.</span></span> <span data-ttu-id="bc4d2-166">Это позволяет легко оценить состояние сложной системы.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-166">This makes it easy to see an overview of a complex system.</span></span> <span data-ttu-id="bc4d2-167">Строка сводки особенно полезна в системах с большим количеством потоков.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-167">The summary bar is especially beneficial in systems that have a great number of threads.</span></span> <span data-ttu-id="bc4d2-168">Без нее пользователю придется отслеживать все сложные системные взаимодействия, постоянно перемещая вертикальную полосу прокрутки, чтобы следовать контексту выполнения.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-168">Without such a summary line, the user would have to follow complex system interactions using the vertical scroll bar to follow the context of execution.</span></span>

<span data-ttu-id="bc4d2-169">TraceX для ОСРВ Azure отображает список системных контекстов в левой части экрана.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-169">Azure RTOS TraceX lists the system contexts on the left-hand side of the display.</span></span>
<span data-ttu-id="bc4d2-170">События, происходящие в определенном контексте, отображаются в горизонтальной строке справа от этого контекста.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-170">Events that occur in a particular context are displayed on the horizontal line to the right of that context.</span></span> <span data-ttu-id="bc4d2-171">Так пользователь может легко определить, в каком контексте произошло событие, а также по строке контекста отследить все происходящие в нем события.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-171">In this way, the user can easily ascertain which context the event occurred as well as follow that context line to see all the events that occurred in a particular context.</span></span>

![Строка сводной информации о системе](./media/user-guide/screen_shot_32.png)

<span data-ttu-id="bc4d2-173">**Строка сводной информации о системе**</span><span class="sxs-lookup"><span data-stu-id="bc4d2-173">**System Summary Line**</span></span>

<span data-ttu-id="bc4d2-174">В списке контекстов первые две строки всегда содержат элементы Interrupt (Прерывание) и Initialize/Idle (Инициализация или бездействие).</span><span class="sxs-lookup"><span data-stu-id="bc4d2-174">The first two context entries are always the “Interrupt” and “Initialize/Idle” contexts.</span></span> <span data-ttu-id="bc4d2-175">Контекст Interrupt (Прерывание) обозначает все системные события, созданные обработчиками прерываний (ISR).</span><span class="sxs-lookup"><span data-stu-id="bc4d2-175">The “Interrupt” context represents all system events made from Interrupt Service Routines (ISRs).</span></span> <span data-ttu-id="bc4d2-176">Контекст Initialize/Idle (Инициализация или бездействие) обозначает сразу два контекста ThreadX для ОСРВ Azure.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-176">The “Initialize/Idle” context represents two contexts in Azure RTOS ThreadX.</span></span> <span data-ttu-id="bc4d2-177">События во время выполнения tx_application_define считаются событиями в контексте инициализации и размещаются в контексте Initialize/Idle (Инициализация или бездействие).</span><span class="sxs-lookup"><span data-stu-id="bc4d2-177">Events that occur during tx_application_define, are “Initialize” events and are displayed on the “Initialize/Idle” context.</span></span> <span data-ttu-id="bc4d2-178">Если система не выполняет каких-либо действий и в ней не создаются события, во временном представлении в контексте Initialize/Idle (Инициализация или бездействие) отображается зеленая полоса Running (Выполняется).</span><span class="sxs-lookup"><span data-stu-id="bc4d2-178">If the system is idle and thus no events are occurring, the green bar representing ”Running” in the time view is drawn on the ”Initialize/Idle” context.</span></span>

## <a name="methods-of-navigation"></a><span data-ttu-id="bc4d2-179">Методы навигации</span><span class="sxs-lookup"><span data-stu-id="bc4d2-179">Methods of navigation</span></span>

<span data-ttu-id="bc4d2-180">TraceX для ОСРВ Azure позволяет разработчику выбрать режим работы для кнопок навигации "Далее" и "Назад".</span><span class="sxs-lookup"><span data-stu-id="bc4d2-180">Azure RTOS TraceX enables the developer to specify how the "Next" and "Previous" navigation buttons operate.</span></span>

![Кнопки навигации](./media/user-guide/event.png)

<span data-ttu-id="bc4d2-182">Если выбран режим Event (Событие), происходит переход к предыдущему или следующему событию.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-182">If “Event” is selected, navigation is done on the next/previous event.</span></span> <span data-ttu-id="bc4d2-183">Если выбран режим Context (Контекст), происходит переход к предыдущему или следующему событию в том же контексте.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-183">If “Context” is selected, navigation is done on the next/previous event on the same context.</span></span> <span data-ttu-id="bc4d2-184">Если выбран режим Object (Объект), происходит переход к предыдущему или следующему событию в текущем объекте, например в определенной очереди.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-184">If “Object” is selected, navigation is done on the next/previous event of the current object, e.g., events associated with a specific queue.</span></span> <span data-ttu-id="bc4d2-185">Если выбран режим Switches (Переключения), происходит переход к предыдущему или следующему переключению контекста.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-185">If “Switches” is selected, navigation is done on the next/previous context switch.</span></span> <span data-ttu-id="bc4d2-186">Если выбран режим Same ID (Тот же идентификатор), происходит переход к предыдущему или следующему событию с тем же идентификатором события.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-186">If “Same ID” is selected, navigation is done on the next/previous event for the same event ID.</span></span>

### <a name="event-information-display"></a><span data-ttu-id="bc4d2-187">Отображение сведений о событиях</span><span class="sxs-lookup"><span data-stu-id="bc4d2-187">Event information display</span></span>

<span data-ttu-id="bc4d2-188">TraceX для ОСРВ Azure предоставляет подробные сведения примерно о 300 событиях.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-188">Azure RTOS TraceX provides detailed information on some 300 events.</span></span> <span data-ttu-id="bc4d2-189">К ним относятся шесть внутренних событий ThreadX для ОСРВ Azure, два события ISR (вход и выход), 14 внутренних событий FileX для ОСРВ Azure, 42 внутренних события NetX для ОСРВ Azure и одно определяемое пользователем событие.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-189">These include six internal Azure RTOS ThreadX events, two ISR events (enter and exit), 14 internal Azure RTOS FileX events, 42 internal Azure RTOS NetX events, and one user-defined event.</span></span> <span data-ttu-id="bc4d2-190">Остальные события напрямую соотносятся со службами API ThreadX для ОСРВ Azure, FileX для ОСРВ Azure и NetX для ОСРВ Azure.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-190">The remaining events correspond directly to Azure RTOS ThreadX, Azure RTOS FileX, and Azure RTOS NetX API services.</span></span>
<span data-ttu-id="bc4d2-191">Независимо от выбора последовательного или временного режима отображения, наведение указателя мыши на любое событие в области отображения позволяет отобразить рядом с ним подробные сведения об этом событии.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-191">Regardless of whether sequential or time display mode is selected, a mouse-over on any event in the display area results in detailed event information displayed near the event.</span></span> <span data-ttu-id="bc4d2-192">Ниже представлен пример наведения указателя мыши на событие 494 в демонстрационном файле трассировки demo_threadx.trx:</span><span class="sxs-lookup"><span data-stu-id="bc4d2-192">The mouse-over of event 494 in the demonstration demo_threadx.trx trace file is shown here:</span></span>

![Дополнительные сведения при наведении мыши](./media/user-guide/screen_shot_37.png)

<span data-ttu-id="bc4d2-194">**Дополнительные сведения при наведении мыши**</span><span class="sxs-lookup"><span data-stu-id="bc4d2-194">**Mouse-Over Displays More Info**</span></span>

<span data-ttu-id="bc4d2-195">Каждое отображаемое событие включает стандартные сведения о контексте, а также относительное время и метку времени.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-195">Each event displayed contains standard information about Context and both the Relative Time and Time Stamp.</span></span> <span data-ttu-id="bc4d2-196">В поле Context отображается контекст, в котором произошло событие.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-196">The Context field shows what context the event took place in.</span></span> <span data-ttu-id="bc4d2-197">Существует ровно четыре контекста: поток, бездействие, ISR и инициализация.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-197">There are exactly four contexts: thread, idle, ISR, and initialization.</span></span> <span data-ttu-id="bc4d2-198">Если событие происходит в контексте потока, для него сохраняются и отображаются имя и приоритет потока, как показано выше.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-198">When an event takes place in a thread context, the thread name and its priority at that time is gathered and displayed as shown above.</span></span> <span data-ttu-id="bc4d2-199">Поле Relative Time отображает относительное количество тактов таймера от начала трассировки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-199">The Relative Time shows the relative number of timer ticks from the beginning of the trace.</span></span> <span data-ttu-id="bc4d2-200">Поле Raw Time Stamp отображает необработанную метку времени для события.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-200">The Raw Time Stamp displays the raw time source of the event.</span></span> <span data-ttu-id="bc4d2-201">Наконец, отображаются все сведения, относящиеся к конкретному событию.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-201">Finally, all event-specific information is displayed.</span></span>

### <a name="zooming-in-and-out"></a><span data-ttu-id="bc4d2-202">Увеличение и уменьшение масштаба</span><span class="sxs-lookup"><span data-stu-id="bc4d2-202">Zooming in and out</span></span>

<span data-ttu-id="bc4d2-203">По умолчанию TraceX для ОСРВ Azure отображает события в удобном для просмотра размере, где каждый пиксель соответствует одному такту.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-203">By default, Azure RTOS TraceX displays the events in an easy-to-view size, with a 1:1 pixel:tick mapping.</span></span> <span data-ttu-id="bc4d2-204">При желании пользователь может увеличить или уменьшить масштаб.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-204">The user may zoom in or zoom out as desired.</span></span> <span data-ttu-id="bc4d2-205">Уменьшение до масштаба 100 % полезно для просмотра полной трассировки в текущем представлении, а увеличение масштаба помогает в случаях, когда события перекрываются из-за низкого разрешения метки времени.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-205">Zooming out to 100% is useful to see the entire trace in the current display view, while zooming in is useful in conditions where the events overlap due to the resolution of the time stamp source.</span></span>

![Уменьшение масштаба до 100 % для общего просмотра или увеличение для детализации](./media/user-guide/screen_shot_41.png)

<span data-ttu-id="bc4d2-207">**Уменьшение масштаба до 100 % для общего просмотра или увеличение для детализации**</span><span class="sxs-lookup"><span data-stu-id="bc4d2-207">**Zoom Out to 100% View or Zoom In for Details**</span></span>

<span data-ttu-id="bc4d2-208">При уменьшении масштаба до 100 % на странице в выбранном режиме отображается вся трассировка, на которой легко отслеживать все контексты выполнения, собранные в этой трассировке, а также общие события в этих масштабах.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-208">When zoomed out at 100% – showing the entire trace within the current display page – it is easy to see all the context execution captured in the trace as well as the general events occurring within those contexts.</span></span> <span data-ttu-id="bc4d2-209">Вы можете заметить, что потоки thread 1 и thread 2 выполняются чаще других.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-209">Notice that “thread 1“ and “thread 2“ execute most often.</span></span> <span data-ttu-id="bc4d2-210">Синий цвет, которым обозначены события в них, означает, что эти потоки осуществляют вызовы к службе очередей (все события очередей имеют синий цвет).</span><span class="sxs-lookup"><span data-stu-id="bc4d2-210">The blue coloring for their events also suggests that these threads are making queue service calls (queue events are blue in color).</span></span>

<span data-ttu-id="bc4d2-211">Вы можете легко вернуться к просмотру значков в масштабе по умолчанию, несколько раз нажав кнопку увеличения масштаба или введя значение масштаба меньше 100.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-211">Restoring to a full icon view is equally easy; Either the zoom-in button may be selected repeatedly or some factor of 100 may be entered.</span></span>

### <a name="delta-ticks-between-events"></a><span data-ttu-id="bc4d2-212">Разница в тактах между событиями</span><span class="sxs-lookup"><span data-stu-id="bc4d2-212">Delta ticks between events</span></span>

<span data-ttu-id="bc4d2-213">Определение количества тактов между разными событиями в TraceX для ОСРВ Azure выполняется очень легко: просто щелкните первое из событий и перетащите указатель ко второму событию.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-213">Determining the number of ticks between various events in Azure RTOS TraceX is easy–simply click on the starting event and drag the mouse to the ending event.</span></span>
<span data-ttu-id="bc4d2-214">В правом верхнем углу экрана появится количество тактов, прошедших между этими событиями.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-214">The delta number of ticks between the events will show up in the upper right-hand corner of the display.</span></span>

![Разница в тактах](./media/user-guide/screen_shot_42.png)

<span data-ttu-id="bc4d2-216">**Разница в тактах**</span><span class="sxs-lookup"><span data-stu-id="bc4d2-216">**Delta Ticks**</span></span>

<span data-ttu-id="bc4d2-217">Разница в тактах показывает, что между событием 494 и событием 496 прошло 5032 такта.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-217">The delta ticks show that 5032 ticks have elapsed between event 494 and event 496.</span></span> <span data-ttu-id="bc4d2-218">Это значение можно вычислить вручную с помощью значений меток времени для каждого из событий, но сделать это в графическом пользовательском интерфейсе проще и быстрее.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-218">This could also be calculated manually by looking at the relative time stamps in each event and subtracting, but using the GUI is easy and instantaneous.</span></span>

### <a name="priority-inversions"></a><span data-ttu-id="bc4d2-219">Инверсии приоритета</span><span class="sxs-lookup"><span data-stu-id="bc4d2-219">Priority inversions</span></span>

<span data-ttu-id="bc4d2-220">TraceX для ОСРВ Azure автоматически отображает инверсии приоритета, обнаруженные в файле трассировки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-220">Azure RTOS TraceX automatically displays priority inversions detected in the trace file.</span></span> <span data-ttu-id="bc4d2-221">Инверсией приоритета называется такое состояние, при котором поток с более высоким приоритетом блокируется при попытке получения мьютекса, который принадлежит к потоку с более низким приоритетом.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-221">Priority inversions are defined as conditions where a higher-priority thread is blocked trying to obtain a mutex that is currently owned by a lower-priority thread.</span></span> <span data-ttu-id="bc4d2-222">Такое состояние называется детерминированным, поскольку система специально настроена на такое поведение.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-222">This condition is termed “deterministic,” since the system was setup to operate in this manner.</span></span> <span data-ttu-id="bc4d2-223">Чтобы сообщить об этом пользователю, TraceX для ОСРВ Azure отображает промежутки детерминированных инверсий приоритета светлым оранжево-розовым цветом.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-223">In order to inform the user, Azure RTOS TraceX shows “deterministic” priority inversion ranges as a light salmon color.</span></span>

<span data-ttu-id="bc4d2-224">TraceX для ОСРВ Azure отображает и недетерминированные инверсии приоритета.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-224">Azure RTOS TraceX also displays “un-deterministic” priority inversions.</span></span> <span data-ttu-id="bc4d2-225">Такие инверсии приоритета отличаются от детерминированных тем, что другой поток на другом уровне приоритета начал выполнение при уже существующей детерминированной инверсии приоритета. Это приводит к тому, что на некоторое время инверсия приоритета становится недетерминированной.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-225">These priority inversions differ from the “deterministic” priority inversions in that another thread of a different priority level has executed in the middle of what was a “deterministic” priority inversion, thereby making the time within the priority inversion somewhat “un-deterministic.”</span></span> <span data-ttu-id="bc4d2-226">Пользователь обычно не подозревает о наличии таких состояний, и они могут иметь серьезное влияние.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-226">This condition is often unknown to the user and can be very serious.</span></span> <span data-ttu-id="bc4d2-227">Чтобы пользователь обратил внимание на эти ситуации, TraceX для ОСРВ Azure отображает недетерминированные инверсии приоритета более ярким оранжево-розовым цветом.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-227">In order to alert the user of this condition, Azure RTOS TraceX shows “un-deterministic” priority inversions as a brighter salmon color.</span></span>

![Детерминированная и недетерминированная инверсии приоритета](./media/user-guide/screen_shot_43.png)

<span data-ttu-id="bc4d2-229">**Детерминированная и недетерминированная инверсии приоритета**</span><span class="sxs-lookup"><span data-stu-id="bc4d2-229">**Deterministic and Non-Deterministic Priority Inversion**</span></span>

### <a name="execution-profile"></a><span data-ttu-id="bc4d2-230">Профиль выполнения</span><span class="sxs-lookup"><span data-stu-id="bc4d2-230">Execution profile</span></span>

<span data-ttu-id="bc4d2-231">TraceX для ОСРВ Azure предоставляет встроенный отчет о профиле выполнения для всех контекстов выполнения в текущем загруженном файле трассировки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-231">Azure RTOS TraceX provides a built-in execution profile report for all execution contexts within in the currently loaded trace file.</span></span>

![Профиль выполнения](./media/user-guide/execution_profile.png)

### <a name="performance-statistics"></a><span data-ttu-id="bc4d2-233">Performance statistics</span><span class="sxs-lookup"><span data-stu-id="bc4d2-233">Performance statistics</span></span>

<span data-ttu-id="bc4d2-234">TraceX для ОСРВ Azure предоставляет встроенный отчет по статистике производительности для текущего загруженного файла трассировки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-234">Azure RTOS TraceX provides a built-in performance statistics report for the currently loaded trace file.</span></span>

![Performance statistics](./media/user-guide/performance_statistics.png)

### <a name="thread-stack-usage"></a><span data-ttu-id="bc4d2-236">Использование стека потоков</span><span class="sxs-lookup"><span data-stu-id="bc4d2-236">Thread stack usage</span></span>

<span data-ttu-id="bc4d2-237">TraceX для ОСРВ Azure предоставляет встроенный отчет об использовании стека для всех потоков, которые выполняются в текущем загруженном файле трассировки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-237">Azure RTOS TraceX provides a built-in stack usage report for all threads executing within in the currently loaded trace file.</span></span>

![Использование стека](./media/user-guide/thread_stack_usage.png)

<span data-ttu-id="bc4d2-239">TraceX для ОСРВ Azure представляет статистику производительности FileX для ОСРВ Azure для текущего загруженного файла трассировки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-239">Azure RTOS TraceX presents the Azure RTOS FileX performance statistics of the currently loaded trace file.</span></span> <span data-ttu-id="bc4d2-240">Эта информация отображается для всей системы сразу, то есть по всем открытым медиаресурсам.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-240">This information is displayed for the entire system–on all opened media objects.</span></span>

![Статистика FileX](./media/user-guide/filex_statistics.png)

### <a name="azure-rtos-netx-statistics"></a><span data-ttu-id="bc4d2-242">Статистика NetX для ОСРВ Azure</span><span class="sxs-lookup"><span data-stu-id="bc4d2-242">Azure RTOS NetX statistics</span></span>

<span data-ttu-id="bc4d2-243">TraceX для ОСРВ Azure также представляет статистику производительности NetX для текущего загруженного файла трассировки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-243">Azure RTOS TraceX also presents the NetX performance statistics of the currently loaded trace file.</span></span> <span data-ttu-id="bc4d2-244">Эта информация отображается для всей системы.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-244">This information is displayed for the entire system.</span></span>

![Статистика NetX](./media/user-guide/netx_statistics.png)

### <a name="raw-trace-dump"></a><span data-ttu-id="bc4d2-246">Необработанный дамп трассировки</span><span class="sxs-lookup"><span data-stu-id="bc4d2-246">Raw trace dump</span></span>

<span data-ttu-id="bc4d2-247">TraceX для ОСРВ Azure может создать необработанный файл трассировки в текстовом формате и открыть его в блокноте.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-247">Azure RTOS TraceX can build a raw trace file in text format and launch notepad to display it.</span></span>

![Необработанный дамп трассировки](./media/user-guide/raw_trace_dump.png)

<span data-ttu-id="bc4d2-249">Обратите внимание, что все приведенные сведения о времени и размере могут отличаться на вашей платформе разработки.</span><span class="sxs-lookup"><span data-stu-id="bc4d2-249">Please note that all timing and size figures listed are estimates and may be different on your development platform</span></span>
