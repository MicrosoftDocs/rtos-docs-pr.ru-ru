---
title: Глава 1. Введение в NetX Duo для ОСРВ Azure
description: В этой главе содержатся общие сведения о продукте NetX Duo для ОСРВ Azure, описание его применения и преимуществ.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: c9b5e0ea82319bd369318cca753cf1db222ca29b0b4db3da150642ca007f1191
ms.sourcegitcommit: 93d716cf7e3d735b18246d659ec9ec7f82c336de
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2021
ms.locfileid: "116789871"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-duo"></a>Глава 1. Введение в NetX Duo для ОСРВ Azure

NetX Duo для ОСРВ Azure — это высокопроизводительная, работающая в реальном времени реализация стандартов TCP/IP, разработанная исключительно для встраиваемых приложений на основе ThreadX для ОСРВ Azure. В этой главе содержатся общие сведения о NetX Duo, описание его применения и преимуществ. 

## <a name="netx-duo-unique-features"></a>Уникальные возможности NetX Duo

В отличие от других реализаций TCP/IP, NetX Duo отличается гибкостью — его можно легко использовать как с компактными приложениями для микроконтроллеров, так и с приложениями для мощных процессоров RISC и DSP. Это резко контрастирует с общедоступными или другими коммерческими реализациями, которые изначально разрабатывались для сред рабочих станций, а затем адаптировались под встраиваемые системы.

### <a name="piconettrade-architecture"></a>Архитектура Piconet&trade;

В основе превосходной масштабируемости и производительности NetX Duo лежит <em>Piconet</em> — программная архитектура, специально разработанная для встраиваемых систем. Архитектура Piconet обеспечивает отличную масштабируемость благодаря реализации служб NetX Duo в виде библиотеки на C. Таким образом в готовый образ среды выполнения добавляются только те службы, которые используются приложением. Поэтому итоговый размер NetX Duo полностью зависит от приложения. Для большинства приложений требуется образ NetX Duo с размером от 5 до 30 КБ. Если для IPv6 и ICMPv6 включена настройка IPv6-адресов и протокола обнаружения соседей, размер NetX Duo составит от 30 до 45 КБ.

NetX Duo обеспечивает невероятную сетевую производительность, разбивая вызовы функций внутренних компонентов только в случае необходимости. Кроме того, большинство операций обработки в NetX Duo выполняется непосредственно системой, что обеспечивает невероятную производительность по сравнению с сетевым ПО для рабочих станций, которое ранее использовалось для встраиваемых архитектур.

### <a name="zero-copy-implementation"></a>Реализация без копирования

NetX Duo предоставляет реализацию TCP/IP без копирования на основе пакетов. "Без копирования" означает, что данные в буфере пакетов приложения не копируются в пределах NetX Duo. Это значительно повышает производительность и освобождает ценные ресурсы процессора для работы приложения, что очень важно для встраиваемых приложений.

### <a name="udp-fast-pathtrade-technology"></a>Технология UDP Fast Path&trade;

Технология <em>UDP Fast Path</em> в NetX Duo обеспечивает максимально возможную скорость обработки UDP. На отправляющей стороне операции для обработки UDP (в том числе опциональная контрольная сумма UDP) целиком содержатся в службе <em>**nx_udp_socket_send**</em>. Дополнительные вызовы функций не выполняются, пока пакет не будет готов к отправке через внутреннюю подпрограмму отправки в IP в NetX Duo. Эта подпрограмма также является плоской (т. е. с минимальным вложением вызовов функции), поэтому пакет быстро передается сетевому драйверу приложения. Получив пакет UDP, система обработки получения пакетов NetX Duo помещает пакет непосредственно в соответствующую очередь получения сокета UDP или передает его первому потоку, ожидающему получение пакета из очереди получения сокета UDP. Дополнительные переключения контекста ThreadX не требуются.

### <a name="ansi-c-source-cod"></a>Исходный код ANSI C

Реализация NetX Duo полностью написана на ANSI C, и ее можно мгновенно перенести практически на любую процессорную архитектуру с поддержкой компилятора ANSI C и ThreadX. 

### <a name="not-a-black-box"></a>Отсутствие проблемы "черного ящика"

Большинство дистрибутивов NetX Duo включают полный исходный код на языке C. Это устраняет проблему "черного ящика", которая возникает со множеством коммерческих сетевых стеков. Используя NetX Duo, разработчики приложений могут видеть все операции сетевого стека, без каких-либо темных пятен.

Доступность исходного кода также позволяет вносить изменения с учетом конкретного приложения. Изменять сетевой стек не рекомендуется, но такая возможность может оказаться удобной.

Эти функции особенно полезны разработчикам, которые привыкли работать с корпоративными или общедоступными сетевыми стеками. Они привыкли, что исходный код доступен и его можно изменить. NetX Duo — это лучшее сетевое программное обеспечение для таких разработчиков.

### <a name="bsd-compatible-socket-api"></a>Совместимый с BSD API сокета

Для устаревших приложений NetX Duo предоставляет совместимый с BSD интерфейс сокета, который выполняет вызовы к высокопроизводительному базовому API NetX Duo. Это упрощает перенос кода существующих сетевых приложений на NetX Duo.

## <a name="rfcs-supported-by-netx-duo"></a>Стандарты RFC, поддерживаемые NetX Duo

NetX Duo поддерживает стандарты RFC, описывающие базовые сетевые протоколы, в том числе приведенные ниже. NetX Duo соответствует всем общим рекомендациям и базовым требованиям с учетом ограничений операционной системы реального времени, для которой важны малый объем занимаемой памяти и эффективность выполнения.

| **RFC**  | **Описание**                                        |
| -------- | ------------------------------------------------------ |
|RFC 1112 | Расширения узлов для многоадресной рассылки IP-адресов (IGMPv1)           |
|RFC 1122 | Требования к Интернет-узлам — уровни связи |
|RFC 2236 | Протокол управления группами Интернета (IGMP), версия 2          |
|RFC 768  | Протокол пользовательских датаграмм (UDP)                           |
|RFC 791  | Протокол Интернета (IP)                                 |
|RFC 792  | Протокол межсетевых управляющих сообщений (ICMP)               |
|RFC 793  | Управляющий протокол передачи (TCP)                    |
|RFC 826  | Протокол определения адреса в Ethernet (ARP) |
|RFC 903  | Обратный протокол разрешения адресов (RARP) |
|RFC 5681 | Контроль перегрузки TCP                     |

Ниже перечислены поддерживаемые в NetX Duo стандарты RFC для IPv6.

|**RFC** |**Описание**|
-------- | ------------------------------------------ |
|RFC 1981 |Обнаружение MTU пути для протокола Интернета версии 6 (IPv6)|
|RFC 2460 | Спецификация протокола Интернета версии 6 (IPv6)|
|RFC 2464 |Передача пакетов IPv6 по сетям Ethernet|
|RFC 4291 |Архитектура адресации для протокола Интернета версии 6 (IPv6)|
|RFC 4443 |Спецификация протокола межсетевых управляющих сообщений (ICMPv6) для протокола Интернета версии 6 (IPv6)|
|RFC 4861 |Обнаружение соседей для IPv6|
|RFC 4862 |Автоматическая настройка адресов IPv6 без отслеживания состояния|

## <a name="embedded-network-applications"></a>Встраиваемые сетевые приложения

Встраиваемые сетевые приложения — это приложения, которым требуется доступ к сети и которые работают на микропроцессорах, установленных в таких продуктах, как сотовые телефоны, коммуникационное оборудование, автомобильные двигатели, лазерные принтеры, медицинские изделия и т. д. Такие приложения почти всегда имеют некоторые ограничения по объему памяти и производительности. Еще одно отличие встраиваемых сетевых приложений — это то, что их программные и аппаратные компоненты имеют определенные цели.

Сетевое программное обеспечение, которое должно выполнять операции обработки за определенный период времени, называется *сетевым ПО*, работающим в *реальном времени*, и при наличии временных ограничений для сетевых приложений они считаются приложениями реального времени. Встраиваемые сетевые приложения практически всегда работают в реальном времени, так как они взаимодействуют с внешней средой.

## <a name="netx-duo-benefits"></a>Преимущества NetX Duo

Основные преимущества NetX Duo для встраиваемых приложений — это высокая скорость подключения к Интернету и низкие требования к памяти. Также стек NetX Duo интегрирован с высокопроизводительной, многозадачной операционной системой реального времени ThreadX.

### <a name="improved-responsiveness"></a>Повышенная скорость реагирования

Высокопроизводительный стек протоколов NetX Duo позволяет встраиваемым сетевым приложениям реагировать максимально быстро. Это особенно важно для встраиваемых приложений, которые либо обрабатывают большие объемы трафика, либо имеют жесткие требования к обработке одного пакета.

### <a name="software-maintenance"></a>Обслуживание программного обеспечения

Благодаря NetX Duo разработчики могут с легкостью секционировать сетевые аспекты собственных встраиваемых приложений. Такое секционирование упрощает весь процесс разработки и значительно расширяет возможности по будущему обслуживанию программного обеспечения.

### <a name="increased-throughput"></a>Повышение пропускной способности

NetX Duo обеспечивает использование самых высокопроизводительных сетевых функций, создавая при этом минимальную нагрузку при обработке пакетов. Это также позволяет увеличить пропускную способность.

### <a name="processor-isolation"></a>Изолированность от процессора

NetX Duo предоставляет надежный, независимый от процессора интерфейс между приложением, базовым процессором и сетевым оборудованием. Это позволяет разработчикам уделять больше внимания сетевым аспектам приложения и не тратить лишнее время на решение проблем с оборудованием, которые влияют на качество сети.

### <a name="ease-of-use"></a>Удобство использования

Стек NetX Duo разрабатывался в первую очередь для разработчиков приложений. Архитектура и интерфейс вызовов служб в NetX Duo просты для понимания. Это означает, что разработчики могут с легкостью использовать все расширенные возможности NetX Duo.

### <a name="improve-time-to-market"></a>Сокращение времени выхода на рынок

Мощные возможности NetX Duo ускоряют разработку программного обеспечения. NetX Duo абстрагирует большинство аспектов, касающихся процессора и сетевого оборудования, что позволяет не беспокоиться о них при разработке большинства сетевых функций приложения. В сочетании с простотой использования и набором расширенных функций это значительно ускоряет выход на рынок.

### <a name="protecting-the-software-investment"></a>Защита инвестиций в программное обеспечение

Для разработки NetX Duo используется исключительно ANSI C, при этом стек полностью интегрирован с операционной системой реального времени ThreadX. Это означает, что приложения NetX Duo можно мгновенно перенести на все поддерживаемые ThreadX процессоры. Более того, поддержку новой процессорной архитектуры в ThreadX можно реализовать всего за несколько недель. В результате использование NetX Duo обеспечивает беспроблемную миграцию приложения и защищает изначальные инвестиции в разработку.

## <a name="ipv6-ready-logo-certification"></a>Сертификация для использования логотипа IPv6 Ready

Сертификация IPv6 Ready была получена для NetX Duo с помощью пакета самостоятельного тестирования для протокола IPv6 Core (этап 2), предоставляемого организацией IPv6 Ready. Дополнительные сведения о платформе тестирования и тестовых случаях можно получить на следующих сайтах проекта IPv6 Ready: [ **https://www.ipv6ready.org/**](https://www.ipv6ready.org/)

Пакет самостоятельного тестирования для протокола IPv6 Core (этап 2) путем тщательного тестирования проверяет, что стек IPv6 соответствует всем требованиям, изложенным в стандартах RFC:  
Раздел 1. RFC 2460  
Раздел 2. RFC 4861  
Раздел 3. RFC 4862  
Раздел 4. RFC 1981  
Раздел 5. RFC 4443  

## <a name="ixanvl-test"></a>Тест IxANVL

NetX Duo тестируется с помощью средства IxANVL компании IXIA. IxANVL считается отраслевым стандартом для автоматизированной проверки сети и протоколов. Подробные сведения об IxANVL см. на странице [ **https://www.ixiacom.com/products/ixanvl**](https://www.ipv6ready.org/).

В частности, проверку по IxANVL проходят следующие модули NetX Duo:

|**Модуль** | **Стандартный** |
| --------- | ------------ |
|IP-адрес | RFC791 </br> RFC1122 </br> RFC894|
|ICMP | RFC792 </br> RFC1122 </br> RFC1812|
|UDP | RFC768 </br> RFC1122|
|TCP-Core| RFC793 </br> RFC1122 </br> RFC2460|
|TCP-Advanced| RFC1981</br>RFC2001</br>RFC2385</br>RFC2463</br>RFC813</br>RFC896|
|TCP-Performance| RFC793</br>RFC1323</br>RFC2018|

## <a name="safety-certifications"></a>Сертификация по безопасности

### <a name="tv-certification"></a>Сертификация TÜV  

Стек NetX Duo сертифицирован организацией SGS-TÜV Saar для использования в критичных для безопасности систем по стандартам IEC61508 и IEC-62304. Такая сертификация гарантирует, что NetX Duo можно использовать при разработке ПО с особыми требованиями к безопасности, соответствующего высочайшим уровням полноты безопасности по стандартам IEC-61508 и IEC-62304 для "функциональной безопасности электрических, электронных и программируемых электронных систем, связанных с безопасностью". Компания SGS-TÜV Saar, основанная совместно немецкими компаниями SGS-Group и TÜV Saarland, стала ведущей аккредитованной и независимой компанией, выполняющей тестирование, аудит, проверку и сертификацию встраиваемого ПО для связанных с безопасностью систем. Соответствие промышленному стандарту безопасности IEC 61508 и всем его производным стандартам, в том числе IEC-62304, гарантирует функциональную безопасность электрических, электронных и программируемых электронных медицинских изделий, систем управления процессами, промышленного оборудования и систем управления железнодорожными перевозками с высоким уровнем защиты. 

SGS-TÜV Saar сертифицировала NetX Duo для использования в критически важных для безопасности системах в автомобилестроении в соответствии со стандартом ISO 26262. Более того, стек NetX Duo сертифицирован по уровню ASIL (Automotive Safety Integrity Level) D, который соответствует высочайшему уровню сертификации ISO 26262. 

Кроме того, SGS-TÜV Saar сертифицировала NetX Duo для использования в критически важных для безопасности системах на железнодорожном транспорте в соответствии со стандартом EN 50128 вплоть до уровня SW-SIL 4.

![Изображение логотипа сертификации SGS-TÜV Saar.](./media/user-guide/sgs-tuv-saar-logo.png)

IEC 61508 до уровня SIL 4  
IEC 62304 до класса безопасности программного обеспечения C, ISO 26262 ASIL D EN 50128 SW-SIL 4

> [!IMPORTANT]
> *Корпорация Майкрософт готова предоставить дополнительные сведения о конкретных версиях NetX Duo, которые проходили сертификацию TÜV, а также копии отчетов о тестах, сертификатов и связанных документов.*

### <a name="ul-certification"></a>Сертификация UL

NetX Duo сертифицирована организацией UL как соответствующая стандартам безопасности UL 60730-1 (приложение H), CSA E60730-1 (приложение H), IEC 60730-1 (приложение H), UL 60335-1 (приложение R), IEC 60335-1 (приложение R) и UL 1998 для ПО в программируемых компонентах. В дополнение к стандарту IEC/UL 60730-1, который в приложении H содержит требования к управлению с использованием программного обеспечения, стандарт IEC 60335-1 описывает в приложении R требования к программируемым электронным цепям. В IEC 60730 (приложение H) и IEC 60335-1 (приложение R) обсуждается безопасность программного и аппаратного обеспечения микроконтроллеров, используемых в разных устройствах, таких как стиральные, посудомоечные и сушильные машины, а также холодильные, морозильные и духовые шкафы.

![Схема логотипа сертификации UL.](./media/user-guide/c-ru-us-logo.png)

*UL/IEC 60730, UL/IEC 60335, UL 1998*

> [!IMPORTANT]  
> *Корпорация Майкрософт готова предоставить дополнительные сведения о конкретных версиях NetX Duo, которые проходили сертификацию UL, а также копии отчетов о тестах, сертификатов и связанных документов.*