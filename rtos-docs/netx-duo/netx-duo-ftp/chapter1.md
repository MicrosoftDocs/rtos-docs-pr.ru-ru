---
title: Глава 1. Введение в NetX Duo FTP для ОСРВ Azure
description: Протокол File Transfer Protocol (FTP) предназначен для передачи файлов.
author: philmea
ms.author: philmea
ms.date: 07/14/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 1d56b20b1c7d719d1b7d9c8c5b2fe234d5577da3
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104814711"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-duo-ftp"></a><span data-ttu-id="36553-103">Глава 1. Введение в NetX Duo FTP для ОСРВ Azure</span><span class="sxs-lookup"><span data-stu-id="36553-103">Chapter 1 - Introduction to Azure RTOS NetX Duo FTP</span></span>

<span data-ttu-id="36553-104">Протокол File Transfer Protocol (FTP) предназначен для передачи файлов.</span><span class="sxs-lookup"><span data-stu-id="36553-104">The File Transfer Protocol (FTP) is a protocol designed for file transfers.</span></span> <span data-ttu-id="36553-105">Для выполнения своей функции передачи файлов протокол FTP использует службы TCP.</span><span class="sxs-lookup"><span data-stu-id="36553-105">FTP utilizes reliable Transmission Control Protocol (TCP) services to perform its file transfer function.</span></span> <span data-ttu-id="36553-106">Именно поэтому FTP является высоконадежным протоколом передачи файлов.</span><span class="sxs-lookup"><span data-stu-id="36553-106">Because of this, FTP is a highly reliable file transfer protocol.</span></span> <span data-ttu-id="36553-107">FTP также характеризуется высокой производительностью.</span><span class="sxs-lookup"><span data-stu-id="36553-107">FTP is also high-performance.</span></span> <span data-ttu-id="36553-108">Фактический перенос файлов FTP выполняется по выделенному FTP-соединению.</span><span class="sxs-lookup"><span data-stu-id="36553-108">The actual FTP file transfer is performed on a dedicated FTP connection.</span></span> <span data-ttu-id="36553-109">FTP в NetX Duo поддерживает сети IPv4 и IPv6.</span><span class="sxs-lookup"><span data-stu-id="36553-109">NetX Duo FTP accommodates both IPv4 and IPv6 networks.</span></span> <span data-ttu-id="36553-110">IPv6 не вносит прямых изменений в протокол FTP, но для его поддержки требуются некоторые изменения в исходном интерфейсе API FTP в NetX, которые будут описаны в этом документе.</span><span class="sxs-lookup"><span data-stu-id="36553-110">IPv6 does not directly change the FTP protocol, although some changes in the original NetX FTP API are necessary to accommodate IPv6 and will be described in this document.</span></span>

## <a name="ftp-requirements"></a><span data-ttu-id="36553-111">Требования для FTP</span><span class="sxs-lookup"><span data-stu-id="36553-111">FTP Requirements</span></span>

<span data-ttu-id="36553-112">Для правильной работы пакету FTP в NetX требуется NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="36553-112">In order to function properly, the NetX FTP package requires NetX Duo.</span></span> <span data-ttu-id="36553-113">Ведущее приложение должно создать экземпляр IP для запуска служб NetX и периодических задач.</span><span class="sxs-lookup"><span data-stu-id="36553-113">The host application must create an IP instance for running NetX services and periodic tasks.</span></span> <span data-ttu-id="36553-114">Если ведущее приложение FTP запускается по сети IPv6, в задаче IP необходимо включить протоколы IPv6 и ICMPv6.</span><span class="sxs-lookup"><span data-stu-id="36553-114">If running the FTP host application over an IPv6 network, IPv6, and ICMPv6 must be enabled on the IP task.</span></span> <span data-ttu-id="36553-115">Протокол TCP должен также быть включен для сетей IPv6 или IPv4.</span><span class="sxs-lookup"><span data-stu-id="36553-115">TCP must be also enabled for either IPv6 or IPv4 networks.</span></span> <span data-ttu-id="36553-116">Ведущее приложение IPv6 должно использовать для настройки локального и глобального IPv6-адресов интерфейс API IPv6 и (или) DHCPv6.</span><span class="sxs-lookup"><span data-stu-id="36553-116">The IPv6 host application must set its linklocal and global IPv6 address using the IPv6 API and/or DHCPv6.</span></span> <span data-ttu-id="36553-117">Этот процесс показан в демонстрационной программе в разделе "Пример небольшой системы" **главы 2**.</span><span class="sxs-lookup"><span data-stu-id="36553-117">A demo program in section “Small Example System” in **Chapter 2** demonstrates how this is done.</span></span>

<span data-ttu-id="36553-118">FTP-сервер и клиент также предназначены для работы со встроенной файловой системой FileX.</span><span class="sxs-lookup"><span data-stu-id="36553-118">The FTP Server and Client are also designed to work with the FileX embedded file system.</span></span> <span data-ttu-id="36553-119">Если система FileX недоступна, разработчик узла может реализовать собственную файловую систему в соответствии с рекомендациями в файле filex_stub.h, определив каждую из служб, указанных в этом файле.</span><span class="sxs-lookup"><span data-stu-id="36553-119">If FileX is not available, the host developer can implement or substitute their own file system along the guidelines suggested in filex_stub.h by defining each of the services listed in that file.</span></span> <span data-ttu-id="36553-120">Этот процесс рассматривается в последующих разделах данного руководства.</span><span class="sxs-lookup"><span data-stu-id="36553-120">This is discussed in later sections of this guide.</span></span>

<span data-ttu-id="36553-121">Дополнительные требования для клиентской части FTP в пакете FTP NetX отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="36553-121">The FTP Client portion of the NetX FTP package has no further requirements.</span></span>

<span data-ttu-id="36553-122">Для серверной части FTP в пакете FTP NetX существует ряд дополнительных требований.</span><span class="sxs-lookup"><span data-stu-id="36553-122">The FTP Server portion of the NetX FTP package has several additional requirements.</span></span> <span data-ttu-id="36553-123">Во-первых, она требует полного доступа к *известному TCP-порту 21* для обработки всех запросов команд клиента FTP и к *хорошо известному порту 20* для обработки всех операций передачи данных клиента FTP.</span><span class="sxs-lookup"><span data-stu-id="36553-123">First, it requires complete access to TCP *well-known port 21* for handling all Client FTP command requests and *well-known port 20* for handling all Client FTP data transfers.</span></span>

## <a name="ftp-constraints"></a><span data-ttu-id="36553-124">Ограничения FTP</span><span class="sxs-lookup"><span data-stu-id="36553-124">FTP Constraints</span></span>

<span data-ttu-id="36553-125">Стандарт FTP имеет множество параметров, касающихся представления данных файлов.</span><span class="sxs-lookup"><span data-stu-id="36553-125">The FTP standard has many options regarding the representation of file data.</span></span> <span data-ttu-id="36553-126">В NetX FTP не реализованы такие параметры, как ls –al.</span><span class="sxs-lookup"><span data-stu-id="36553-126">NetX FTP does not implement switch options e.g. ls –al.</span></span> <span data-ttu-id="36553-127">FTP-сервер NetX принимает запросы и их аргументы в одном пакете, а не в виде последовательности пакетов.</span><span class="sxs-lookup"><span data-stu-id="36553-127">NetX FTP Server expects to receive requests and their arguments in a single packet rather than consecutive packets.</span></span>

<span data-ttu-id="36553-128">Как и в случае с реализациями UNIX, для FTP NetX действуют следующие ограничения формата файлов.</span><span class="sxs-lookup"><span data-stu-id="36553-128">Similar to UNIX implementations, NetX FTP assumes the following file format constraints:</span></span>

- <span data-ttu-id="36553-129">Тип файла: **двоичный**</span><span class="sxs-lookup"><span data-stu-id="36553-129">File Type: **Binary**</span></span>
- <span data-ttu-id="36553-130">Формат файла: **только непечатаемый**</span><span class="sxs-lookup"><span data-stu-id="36553-130">File Format: **Nonprint Only**</span></span>
- <span data-ttu-id="36553-131">Структура файла: **только структура файлов**</span><span class="sxs-lookup"><span data-stu-id="36553-131">File Structure: **File Structure Only**</span></span>

## <a name="ftp-file-names"></a><span data-ttu-id="36553-132">Имена файлов FTP</span><span class="sxs-lookup"><span data-stu-id="36553-132">FTP File Names</span></span>

<span data-ttu-id="36553-133">Имена файлов FTP должны иметь формат целевой файловой системы (обычно FileX).</span><span class="sxs-lookup"><span data-stu-id="36553-133">FTP file names should be in the format of the target file system (usually FileX).</span></span> <span data-ttu-id="36553-134">Они должны быть строками символов ASCII с завершающим нулем и сведениями о полном пути, если это необходимо.</span><span class="sxs-lookup"><span data-stu-id="36553-134">They should be NULL terminated ASCII strings, with full path information if necessary.</span></span> <span data-ttu-id="36553-135">В реализации FTP NetX ограничение на размер имен файлов FTP отсутствует.</span><span class="sxs-lookup"><span data-stu-id="36553-135">There is no specified limit for the size of FTP file names in the NetX FTP implementation.</span></span> <span data-ttu-id="36553-136">Однако размер полезных данных пула пакетов должен поддерживать максимальное значение пути и (или) имени файла.</span><span class="sxs-lookup"><span data-stu-id="36553-136">However, the packet pool payload size should be able to accommodate the maximum path and/or file name.</span></span>

## <a name="ftp-client-commands"></a><span data-ttu-id="36553-137">Команды клиента FTP</span><span class="sxs-lookup"><span data-stu-id="36553-137">FTP Client Commands</span></span>

<span data-ttu-id="36553-138">В FTP доступен простой механизм для открытия подключений и выполнения операций с файлами и каталогами.</span><span class="sxs-lookup"><span data-stu-id="36553-138">The FTP has a simple mechanism for opening connections and performing file and directory operations.</span></span> <span data-ttu-id="36553-139">По сути, существует набор стандартных команд FTP, выдаваемых клиентом после успешной установки подключения на *известном TCP-порту 21*.</span><span class="sxs-lookup"><span data-stu-id="36553-139">There is basically a set of standard FTP commands that are issued by the Client after a connection has been successfully established on the TCP *well-known port 21*.</span></span> <span data-ttu-id="36553-140">Ниже приведены некоторые основные команды FTP.</span><span class="sxs-lookup"><span data-stu-id="36553-140">The following shows some of the basic FTP commands.</span></span> <span data-ttu-id="36553-141">Обратите внимание, что единственным отличием при выполнении FTP через IPv6 является то, что команда PORT заменяется командой EPRT.</span><span class="sxs-lookup"><span data-stu-id="36553-141">Note that the only difference when FTP runs over IPv6 is that the PORT command is replaced with the EPRT command:</span></span>

- <span data-ttu-id="36553-142">CWD path: *изменение рабочего каталога*</span><span class="sxs-lookup"><span data-stu-id="36553-142">CWD path *Change working directory*</span></span>
- <span data-ttu-id="36553-143">DELE filename: *удаление указанного имени файла*</span><span class="sxs-lookup"><span data-stu-id="36553-143">DELE filename *Delete specified file name*</span></span>
- <span data-ttu-id="36553-144">EPRT ip_address,port: *указание IPv6-адреса и порта данных клиента*</span><span class="sxs-lookup"><span data-stu-id="36553-144">EPRT ip_address, port *Provide IPv6 address and Client data port*</span></span>
- <span data-ttu-id="36553-145">EPSV: *запрос пассивного режима передачи для IPv6*</span><span class="sxs-lookup"><span data-stu-id="36553-145">EPSV *Request passive transfer mode for IPv6*</span></span>
- <span data-ttu-id="36553-146">LIST directory: *получение списка каталогов*</span><span class="sxs-lookup"><span data-stu-id="36553-146">LIST directory *Get directory listing*</span></span>
- <span data-ttu-id="36553-147">MKD directory: *создание каталога*</span><span class="sxs-lookup"><span data-stu-id="36553-147">MKD directory *Make new directory*</span></span>
- <span data-ttu-id="36553-148">MKD directory: *получение списка каталогов*</span><span class="sxs-lookup"><span data-stu-id="36553-148">NLST directory *Get directory listing*</span></span>
- <span data-ttu-id="36553-149">NOOP: *нет операции, успешное выполнение*</span><span class="sxs-lookup"><span data-stu-id="36553-149">NOOP *No operation, returns success*</span></span>
- <span data-ttu-id="36553-150">PASS password: *ввод пароля для входа*</span><span class="sxs-lookup"><span data-stu-id="36553-150">PASS password *Provide password for login*</span></span>
- <span data-ttu-id="36553-151">PASV: *запрос пассивного режима передачи для IPv4*</span><span class="sxs-lookup"><span data-stu-id="36553-151">PASV *Request passive transfer mode for IPv4*</span></span>
- <span data-ttu-id="36553-152">PORT ip_address,port: *указание IP-адреса и порта данных клиента*</span><span class="sxs-lookup"><span data-stu-id="36553-152">PORT ip_address,port *Provide IP address and Client data port*</span></span>
- <span data-ttu-id="36553-153">PWD path: *выбор текущего пути к каталогу*</span><span class="sxs-lookup"><span data-stu-id="36553-153">PWD path *Pickup current directory path*</span></span>
- <span data-ttu-id="36553-154">QUIT: *завершение подключения клиента*</span><span class="sxs-lookup"><span data-stu-id="36553-154">QUIT *Terminate Client connection*</span></span>
- <span data-ttu-id="36553-155">RETR filename: *чтение указанного файла*</span><span class="sxs-lookup"><span data-stu-id="36553-155">RETR filename *Read specified file*</span></span>
- <span data-ttu-id="36553-156">RMD directory: *удаление указанного каталога*</span><span class="sxs-lookup"><span data-stu-id="36553-156">RMD directory *Delete specified directory*</span></span>
- <span data-ttu-id="36553-157">RNFR oldfilename: *указание файла для переименования*</span><span class="sxs-lookup"><span data-stu-id="36553-157">RNFR oldfilename *Specify file to rename*</span></span>
- <span data-ttu-id="36553-158">RNTO newfilename: *изменение имени файла на указанное*</span><span class="sxs-lookup"><span data-stu-id="36553-158">RNTO newfilename *Rename file to supplied file name*</span></span>
- <span data-ttu-id="36553-159">STOR filename: *запись указанного файла*</span><span class="sxs-lookup"><span data-stu-id="36553-159">STOR filename *Write specified file*</span></span>
- <span data-ttu-id="36553-160">TYPE I: *выбор образа двоичного файла*</span><span class="sxs-lookup"><span data-stu-id="36553-160">TYPE I *Select binary file image*</span></span>
- <span data-ttu-id="36553-161">USER username: *указание имени пользователя для входа*</span><span class="sxs-lookup"><span data-stu-id="36553-161">USER username *Provide username for login*</span></span>

<span data-ttu-id="36553-162">Эти команды ASCII используются программным обеспечением клиента FTP NetX внутренним образом для выполнения операций FTP с FTP-сервером.</span><span class="sxs-lookup"><span data-stu-id="36553-162">These ASCII commands are used internally by the NetX FTP Client software to perform FTP operations with the FTP Server.</span></span>

## <a name="ftp-server-responses"></a><span data-ttu-id="36553-163">Ответы FTP-сервера</span><span class="sxs-lookup"><span data-stu-id="36553-163">FTP Server Responses</span></span>

<span data-ttu-id="36553-164">После того как FTP-сервер обрабатывает запрос клиента, он возвращает трехзначный закодированный ответ в ASCII, за которым следует необязательный текст ASCII.</span><span class="sxs-lookup"><span data-stu-id="36553-164">Once the FTP Server processes the Client request, it returns a 3-digit coded response in ASCII followed by optional ASCII text.</span></span> <span data-ttu-id="36553-165">Программное обеспечение клиента использует числовой ответ для определения успешного выполнения операции или ее сбоя.</span><span class="sxs-lookup"><span data-stu-id="36553-165">The numeric response is used by the FTP Client software to determine whether the operation succeeded or failed.</span></span> <span data-ttu-id="36553-166">Ниже перечислены различные ответы FTP-сервера на запросы клиента.</span><span class="sxs-lookup"><span data-stu-id="36553-166">The following list shows various FTP Server responses to Client requests:</span></span>

<span data-ttu-id="36553-167">**Первое числовое поле и значение**</span><span class="sxs-lookup"><span data-stu-id="36553-167">**First Numeric Field Meaning**</span></span>

- <span data-ttu-id="36553-168">1xx: *положительное предварительное состояние, дождитесь следующего ответа*.</span><span class="sxs-lookup"><span data-stu-id="36553-168">1xx *Positive preliminary status – another reply coming*.</span></span>
- <span data-ttu-id="36553-169">2xx: *положительное состояние завершения*.</span><span class="sxs-lookup"><span data-stu-id="36553-169">2xx *Positive completion status*.</span></span>
- <span data-ttu-id="36553-170">3xx: *положительное предварительное состояние, должна быть отправлена другая команда*.</span><span class="sxs-lookup"><span data-stu-id="36553-170">3xx *Positive preliminary status – another command must be sent*.</span></span>
- <span data-ttu-id="36553-171">4xx: *временная ошибка*.</span><span class="sxs-lookup"><span data-stu-id="36553-171">4xx *Temporary error condition*.</span></span>
- <span data-ttu-id="36553-172">5xx: *ошибка*.</span><span class="sxs-lookup"><span data-stu-id="36553-172">5xx *Error condition.*</span></span>

<span data-ttu-id="36553-173">**Второе числовое поле и значение**</span><span class="sxs-lookup"><span data-stu-id="36553-173">**Second Numeric Field Meaning**</span></span>

- <span data-ttu-id="36553-174">x0x: *синтаксическая ошибка в команде*.</span><span class="sxs-lookup"><span data-stu-id="36553-174">x0x *Syntax error in command*.</span></span>
- <span data-ttu-id="36553-175">x1x: *информационное сообщение*.</span><span class="sxs-lookup"><span data-stu-id="36553-175">x1x *Informational message*.</span></span>
- <span data-ttu-id="36553-176">x2x: *связано с подключением*.</span><span class="sxs-lookup"><span data-stu-id="36553-176">x2x *Connection related*.</span></span>
- <span data-ttu-id="36553-177">x3x: *связано с проверкой подлинности*.</span><span class="sxs-lookup"><span data-stu-id="36553-177">x3x *Authentication related*.</span></span>
- <span data-ttu-id="36553-178">x4x: *не указано*.</span><span class="sxs-lookup"><span data-stu-id="36553-178">x4x *Unspecified*.</span></span>
- <span data-ttu-id="36553-179">x5x: *связано с файловой системой*.</span><span class="sxs-lookup"><span data-stu-id="36553-179">x5x *File system related*.</span></span>

<span data-ttu-id="36553-180">Например, на запрос клиента на завершение FTP-подключения с помощью команды QUIT сервер обычно дает ответ с кодом 221, означающим успешное отключение.</span><span class="sxs-lookup"><span data-stu-id="36553-180">For example, a Client request to disconnect an FTP connection with the QUIT command will typically be responded with a “221” code from the Server – if the disconnect is successful.</span></span>

## <a name="ftp-passive-transfer-mode"></a><span data-ttu-id="36553-181">Пассивный режим передачи FTP</span><span class="sxs-lookup"><span data-stu-id="36553-181">FTP Passive Transfer Mode</span></span>

<span data-ttu-id="36553-182">По умолчанию клиент FTP NetX Duo использует активный режим передачи для обмена данными через сокет данных с FTP-сервером.</span><span class="sxs-lookup"><span data-stu-id="36553-182">By default, the NetX Duo FTP Client uses the active transport mode to exchange data over the data socket with the FTP server.</span></span> <span data-ttu-id="36553-183">Проблема этой схемы заключается в том, что для подключения FTP-сервера клиент FTP должен открыть сокет TCP-сервера.</span><span class="sxs-lookup"><span data-stu-id="36553-183">The problem with this arrangement is that it requires the FTP Client to open a TCP server socket for the FTP Server to connect to.</span></span> <span data-ttu-id="36553-184">Такая ситуация представляет потенциальную угрозу безопасности, поэтому эта возможность может быть заблокирована брандмауэром клиента.</span><span class="sxs-lookup"><span data-stu-id="36553-184">This represents a possible security risk and may be blocked by the Client firewall.</span></span> <span data-ttu-id="36553-185">Пассивный режим передачи отличается от активного тем, что FTP-сервер создает сокет TCP-сервера при подключении к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-185">Passive transfer mode differs from active transport mode by having the FTP server create the TCP server socket on the data connection.</span></span> <span data-ttu-id="36553-186">В этом случае риск безопасности отсутствует (для клиента FTP).</span><span class="sxs-lookup"><span data-stu-id="36553-186">This eliminates the security risk (for the FTP Client).</span></span>

<span data-ttu-id="36553-187">Чтобы включить пассивную передачу данных, приложение вызывает *nx_ftp_client_passive_mode_set* в ранее созданном клиенте FTP со вторым аргументом, имеющим значение NX_TRUE.</span><span class="sxs-lookup"><span data-stu-id="36553-187">To enable passive data transfer, the application calls *nx_ftp_client_passive_mode_set* on a previously created FTP Client with the second argument set to NX_TRUE.</span></span> <span data-ttu-id="36553-188">После этого все последующие службы клиента FTP NetX Duo для передачи данных (NLST, RETR, STOR) выполняются в пассивном режиме передачи.</span><span class="sxs-lookup"><span data-stu-id="36553-188">Thereafter, all subsequent NetX Duo FTP Client services for transferring data (NLST, RETR, STOR) are attempted in the passive transport mode.</span></span>

<span data-ttu-id="36553-189">Клиент FTP сначала отправляет пассивную команду (без аргументов): PASV для IPv4 или EPSV для IPv6.</span><span class="sxs-lookup"><span data-stu-id="36553-189">The FTP Client first sends the passive command (no arguments), PASV command for IPv4 or EPSV command for IPv6.</span></span> <span data-ttu-id="36553-190">Если FTP-сервер поддерживает такой запрос, он вернет ответ 227 (OK) для PASV или 229 (OK) для EPSV.</span><span class="sxs-lookup"><span data-stu-id="36553-190">If the FTP server supports this request it will return the 227 “OK” response for PASV, and 229 “OK” response for EPSV.</span></span> <span data-ttu-id="36553-191">Затем клиент отправляет запрос, например RETR.</span><span class="sxs-lookup"><span data-stu-id="36553-191">Then the Client sends the request e.g. RETR.</span></span> <span data-ttu-id="36553-192">Если сервер отклоняет пассивный режим передачи, служба клиента FTP NetX Duo возвращает состояние ошибки.</span><span class="sxs-lookup"><span data-stu-id="36553-192">If the server refuses passive transfer mode, the NetX Duo FTP Client service returns an error status.</span></span>

<span data-ttu-id="36553-193">Чтобы отключить пассивный режим передачи и вернуться в активный режим, приложение вызывает *nx_ftp_client_passive_mode_set* со вторым аргументом, имеющим значение NX_FALSE.</span><span class="sxs-lookup"><span data-stu-id="36553-193">To disable passive transport mode and return to active transport mode, the application calls *nx_ftp_client_passive_mode_set* with the second argument set to NX_FALSE.</span></span>

## <a name="ftp-communication"></a><span data-ttu-id="36553-194">Взаимодействие по FTP</span><span class="sxs-lookup"><span data-stu-id="36553-194">FTP Communication</span></span>

<span data-ttu-id="36553-195">Для обработки запросов клиента FTP-сервер использует *известный TCP-порт 21*.</span><span class="sxs-lookup"><span data-stu-id="36553-195">The FTP Server utilizes the *well-known TCP port 21* to field Client requests.</span></span> <span data-ttu-id="36553-196">Клиенты FTP могут использовать любой доступный TCP-порт.</span><span class="sxs-lookup"><span data-stu-id="36553-196">FTP Clients may use any available TCP port.</span></span> <span data-ttu-id="36553-197">Общая последовательность событий FTP выглядит следующим образом.</span><span class="sxs-lookup"><span data-stu-id="36553-197">The general sequence of FTP events is as follows:</span></span>

<span data-ttu-id="36553-198">**Запросы FTP на чтение файлов**</span><span class="sxs-lookup"><span data-stu-id="36553-198">**FTP Read File Requests**:</span></span>

1. <span data-ttu-id="36553-199">Клиент отправляет запрос на подключение к TCP-порту 21 сервера.</span><span class="sxs-lookup"><span data-stu-id="36553-199">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="36553-200">Сервер отправляет ответ 220, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-200">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="36553-201">Клиент отправляет сообщение USER с username.</span><span class="sxs-lookup"><span data-stu-id="36553-201">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="36553-202">Сервер отправляет ответ 331, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-202">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="36553-203">Клиент отправляет сообщение PASS с password.</span><span class="sxs-lookup"><span data-stu-id="36553-203">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="36553-204">Сервер отправляет ответ 230, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-204">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="36553-205">Клиент отправляет сообщение TYPE I для передачи двоичных данных.</span><span class="sxs-lookup"><span data-stu-id="36553-205">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="36553-206">Сервер отправляет ответ 200, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-206">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="36553-207">*Приложения IPv4*: клиент отправляет сообщение PORT с IP-адресом и портом.</span><span class="sxs-lookup"><span data-stu-id="36553-207">*IPv4 applications*: Client sends “PORT” message with IP address and port.</span></span><br /><span data-ttu-id="36553-208">*Приложения IPv6*: клиент отправляет сообщение EPRT с IP-адресом и портом.</span><span class="sxs-lookup"><span data-stu-id="36553-208">*IPv6 applications*: Client sends “EPRT” message with IP address and port.</span></span>
1. <span data-ttu-id="36553-209">Сервер отправляет ответ 200, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-209">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="36553-210">Клиент отправляет сообщение RETR с именем файла для чтения.</span><span class="sxs-lookup"><span data-stu-id="36553-210">Client sends “RETR” message with file name to read.</span></span>
1. <span data-ttu-id="36553-211">Сервер создает сокет данных и подключается к порту данных клиента, указанному в команде PORT.</span><span class="sxs-lookup"><span data-stu-id="36553-211">Server creates data socket and connects with client data port specified in the “PORT” command.</span></span>
1. <span data-ttu-id="36553-212">Сервер отправляет ответ 125, информирующий о начале чтения файла.</span><span class="sxs-lookup"><span data-stu-id="36553-212">Server sends “125” response to signal file read has started.</span></span>
1. <span data-ttu-id="36553-213">Сервер отправляет содержимое файла через подключение к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-213">Server sends contents of file through the data connection.</span></span> <span data-ttu-id="36553-214">Этот процесс продолжается до полной передачи файла.</span><span class="sxs-lookup"><span data-stu-id="36553-214">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="36553-215">По завершении сервер разрывает подключение к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-215">When finished, Server disconnects data connection.</span></span>
1. <span data-ttu-id="36553-216">Сервер отправляет ответ 250, информирующий об успешном чтении файла.</span><span class="sxs-lookup"><span data-stu-id="36553-216">Server sends “250” response to signal file read is successful.</span></span>
1. <span data-ttu-id="36553-217">Клиент отправляет сообщение QUIT для завершения FTP-подключения.</span><span class="sxs-lookup"><span data-stu-id="36553-217">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="36553-218">Сервер отправляет ответ 221, информирующий об успешном отключении.</span><span class="sxs-lookup"><span data-stu-id="36553-218">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="36553-219">Сервер разрывает FTP-подключение.</span><span class="sxs-lookup"><span data-stu-id="36553-219">Server disconnects FTP connection.</span></span>

<span data-ttu-id="36553-220">Как упоминалось ранее, единственное различие между выполнением FTP через IPv4 и</span><span class="sxs-lookup"><span data-stu-id="36553-220">As mentioned previously, the only difference between FTP running over IPv4 and</span></span>

<span data-ttu-id="36553-221">IPv6 в том, что команда PORT заменяется командой EPRT для IPv6.</span><span class="sxs-lookup"><span data-stu-id="36553-221">IPv6 is the PORT command is replaced with the EPRT command for IPv6</span></span>

<span data-ttu-id="36553-222">Если клиент FTP отправляет запрос на чтение в пассивном режиме передачи, последовательность команд выглядит указанным ниже образом (строки, выделенные **полужирным шрифтом**, означают действие, отличное от действия в активном режиме передачи).</span><span class="sxs-lookup"><span data-stu-id="36553-222">If the FTP Client makes a read request in the passive transfer mode, the command sequence is as follows (**bolded** lines indicates a different step from active transfer mode):</span></span>

1. <span data-ttu-id="36553-223">Клиент отправляет запрос на подключение к TCP-порту 21 сервера.</span><span class="sxs-lookup"><span data-stu-id="36553-223">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="36553-224">Сервер отправляет ответ 220, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-224">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="36553-225">Клиент отправляет сообщение USER с username.</span><span class="sxs-lookup"><span data-stu-id="36553-225">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="36553-226">Сервер отправляет ответ 331, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-226">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="36553-227">Клиент отправляет сообщение PASS с password.</span><span class="sxs-lookup"><span data-stu-id="36553-227">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="36553-228">Сервер отправляет ответ 230, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-228">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="36553-229">Клиент отправляет сообщение TYPE I для передачи двоичных данных.</span><span class="sxs-lookup"><span data-stu-id="36553-229">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="36553-230">Сервер отправляет ответ 200, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-230">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="36553-231">***Приложения IPv4:* клиент отправляет сообщение PASV.**</span><span class="sxs-lookup"><span data-stu-id="36553-231">***IPv4 applications:* Client sends “PASV” message.**</span></span><br /><span data-ttu-id="36553-232">**_Приложения IPv6:_ клиент отправляет сообщение EPSV.**</span><span class="sxs-lookup"><span data-stu-id="36553-232">**_IPv6 applications:_ Client sends “EPSV” message.**</span></span>
1. <span data-ttu-id="36553-233">***Приложения IPv4:* сервер отправляет ответ 227 с IP-адресом и портом для подключения клиента, информирующий об успешном выполнении.**</span><span class="sxs-lookup"><span data-stu-id="36553-233">***IPv4 applications:* Server sends “227” response, and IP address and port for the Client to connect to, to signal success.**</span></span><br /><span data-ttu-id="36553-234">**_Приложения IPv6:_ сервер отправляет ответ 229 с IP-адресом и портом для подключения клиента, информирующий об успешном выполнении.**</span><span class="sxs-lookup"><span data-stu-id="36553-234">**_IPv6 applications:_ Server sends “229” response, and IP address and port for the Client to connect to, to signal success.**</span></span>
1. <span data-ttu-id="36553-235">Клиент отправляет сообщение RETR с именем файла для чтения.</span><span class="sxs-lookup"><span data-stu-id="36553-235">Client sends “RETR” message with file name to read.</span></span>
1. <span data-ttu-id="36553-236">**Сервер создает сокет сервера данных и прослушивает на нем запрос на подключение клиента, используя порт, указанный в ответе в шаге 10.**</span><span class="sxs-lookup"><span data-stu-id="36553-236">**Server creates data server socket and listens for the Client connect request on this socket using the port specified in the response in step 10.**</span></span>
1. <span data-ttu-id="36553-237">**Сервер отправляет ответ 150 на контрольный сокет, информирующий о начале чтения файла.**</span><span class="sxs-lookup"><span data-stu-id="36553-237">**Server sends “150” response on the control socket to signal file read has started.**</span></span>
1. <span data-ttu-id="36553-238">Сервер отправляет содержимое файла через подключение к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-238">Server sends contents of file through the data connection.</span></span> <span data-ttu-id="36553-239">Этот процесс продолжается до полной передачи файла.</span><span class="sxs-lookup"><span data-stu-id="36553-239">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="36553-240">По завершении сервер разрывает подключение к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-240">When finished, Server disconnects data connection.</span></span>
1. <span data-ttu-id="36553-241">**Сервер отправляет ответ 226 на контрольный сокет, информирующий об успешном чтении файла.**</span><span class="sxs-lookup"><span data-stu-id="36553-241">**Server sends “226” response on the control socket to signal file read is successful.**</span></span>
1. <span data-ttu-id="36553-242">Клиент отправляет сообщение QUIT для завершения FTP-подключения.</span><span class="sxs-lookup"><span data-stu-id="36553-242">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="36553-243">Сервер отправляет ответ 221, информирующий об успешном отключении.</span><span class="sxs-lookup"><span data-stu-id="36553-243">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="36553-244">Сервер разрывает FTP-подключение.</span><span class="sxs-lookup"><span data-stu-id="36553-244">Server disconnects FTP connection.</span></span>

<span data-ttu-id="36553-245">**Запросы FTP на запись**</span><span class="sxs-lookup"><span data-stu-id="36553-245">**FTP Write Requests**:</span></span>

1. <span data-ttu-id="36553-246">Клиент отправляет запрос на подключение к TCP-порту 21 сервера.</span><span class="sxs-lookup"><span data-stu-id="36553-246">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="36553-247">Сервер отправляет ответ 220, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-247">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="36553-248">Клиент отправляет сообщение USER с username.</span><span class="sxs-lookup"><span data-stu-id="36553-248">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="36553-249">Сервер отправляет ответ 331, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-249">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="36553-250">Клиент отправляет сообщение PASS с password.</span><span class="sxs-lookup"><span data-stu-id="36553-250">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="36553-251">Сервер отправляет ответ 230, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-251">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="36553-252">Клиент отправляет сообщение TYPE I для передачи двоичных данных.</span><span class="sxs-lookup"><span data-stu-id="36553-252">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="36553-253">Сервер отправляет ответ 200, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-253">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="36553-254">*Приложения IPv4*: клиент отправляет сообщение PORT с IP-адресом и портом.</span><span class="sxs-lookup"><span data-stu-id="36553-254">*IPv4 applications*: Client sends “PORT” message with IP address and port.</span></span><br /><span data-ttu-id="36553-255">*Приложения IPv6*: клиент отправляет сообщение EPRT с IP-адресом и портом.</span><span class="sxs-lookup"><span data-stu-id="36553-255">*IPv6 applications*: Client sends “EPRT” message with IP address and port.</span></span>
1. <span data-ttu-id="36553-256">Сервер отправляет ответ 200, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-256">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="36553-257">Клиент отправляет сообщение STOR с именем файла для записи.</span><span class="sxs-lookup"><span data-stu-id="36553-257">Client sends “STOR” message with file name to write.</span></span>
1. <span data-ttu-id="36553-258">Сервер создает сокет данных и подключается к порту данных клиента, указанному в предыдущей команде EPRT или PORT.</span><span class="sxs-lookup"><span data-stu-id="36553-258">Server creates data socket and connects with client data port specified in the previous “EPRT” or “PORT” command.</span></span>
1. <span data-ttu-id="36553-259">Сервер отправляет ответ 125, информирующий о начале записи файла.</span><span class="sxs-lookup"><span data-stu-id="36553-259">Server sends “125” response to signal file write has started.</span></span>
1. <span data-ttu-id="36553-260">Клиент отправляет содержимое файла через подключение к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-260">Client sends contents of file through the data connection.</span></span> <span data-ttu-id="36553-261">Этот процесс продолжается до полной передачи файла.</span><span class="sxs-lookup"><span data-stu-id="36553-261">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="36553-262">По завершении клиент разрывает подключение к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-262">When finished, Client disconnects data connection.</span></span>
1. <span data-ttu-id="36553-263">Сервер отправляет ответ 250, информирующий об успешном выполнении записи файла.</span><span class="sxs-lookup"><span data-stu-id="36553-263">Server sends “250” response to signal file write is successful.</span></span>
1. <span data-ttu-id="36553-264">Клиент отправляет сообщение QUIT для завершения FTP-подключения.</span><span class="sxs-lookup"><span data-stu-id="36553-264">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="36553-265">Сервер отправляет ответ 221, информирующий об успешном отключении.</span><span class="sxs-lookup"><span data-stu-id="36553-265">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="36553-266">Сервер разрывает FTP-подключение.</span><span class="sxs-lookup"><span data-stu-id="36553-266">Server disconnects FTP connection.</span></span>

<span data-ttu-id="36553-267">Если клиент FTP отправляет запрос на запись в пассивном режиме передачи, последовательность команд выглядит указанным ниже образом (строки, выделенные **полужирным шрифтом**, означают действие, отличное от действия в активном режиме передачи).</span><span class="sxs-lookup"><span data-stu-id="36553-267">If the FTP Client makes a write request in the passive transfer mode, the command sequence is as follows (**bolded** lines indicates a different step from active transfer mode):</span></span>

1. <span data-ttu-id="36553-268">Клиент отправляет запрос на подключение к TCP-порту 21 сервера.</span><span class="sxs-lookup"><span data-stu-id="36553-268">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="36553-269">Сервер отправляет ответ 220, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-269">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="36553-270">Клиент отправляет сообщение USER с username.</span><span class="sxs-lookup"><span data-stu-id="36553-270">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="36553-271">Сервер отправляет ответ 331, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-271">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="36553-272">Клиент отправляет сообщение PASS с password.</span><span class="sxs-lookup"><span data-stu-id="36553-272">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="36553-273">Сервер отправляет ответ 230, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-273">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="36553-274">Клиент отправляет сообщение TYPE I для передачи двоичных данных.</span><span class="sxs-lookup"><span data-stu-id="36553-274">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="36553-275">Сервер отправляет ответ 200, информирующий об успешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="36553-275">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="36553-276">***Приложения IPv4:* клиент отправляет сообщение PASV.**</span><span class="sxs-lookup"><span data-stu-id="36553-276">***IPv4 applications:* Client sends “PASV” message.**</span></span><br /><span data-ttu-id="36553-277">**_Приложения IPv6:_ клиент отправляет сообщение EPSV.**</span><span class="sxs-lookup"><span data-stu-id="36553-277">**_IPv6 applications:_ Client sends “EPSV” message.**</span></span>
1. <span data-ttu-id="36553-278">***Приложения IPv4:* сервер отправляет ответ 227 с IP-адресом и портом для подключения клиента, информирующий об успешном выполнении.**</span><span class="sxs-lookup"><span data-stu-id="36553-278">***IPv4 applications:* Server sends “227” response, and IP address and port for the Client to connect to, to signal success.**</span></span><br /><span data-ttu-id="36553-279">**_Приложения IPv6:_ сервер отправляет ответ 229 с IP-адресом и портом для подключения клиента, информирующий об успешном выполнении.**</span><span class="sxs-lookup"><span data-stu-id="36553-279">**_IPv6 applications:_ Server sends “229” response, and IP address and port for the Client to connect to, to signal success.**</span></span>
1. <span data-ttu-id="36553-280">Клиент отправляет сообщение STOR с именем файла для записи.</span><span class="sxs-lookup"><span data-stu-id="36553-280">Client sends “STOR” message with file name to write.</span></span>
1. <span data-ttu-id="36553-281">**Сервер создает сокет сервера данных и прослушивает на нем запрос на подключение клиента, используя порт, указанный в ответе в шаге 10.**</span><span class="sxs-lookup"><span data-stu-id="36553-281">**Server creates data server socket and listens for the Client connect request on this socket using the port specified in the response in step 10.**</span></span>
1. <span data-ttu-id="36553-282">**Сервер отправляет ответ 150 на контрольный сокет, информирующий о начале записи файла.**</span><span class="sxs-lookup"><span data-stu-id="36553-282">**Server sends “150” response on the control socket to signal file write has started.**</span></span>
1. <span data-ttu-id="36553-283">Клиент отправляет содержимое файла через подключение к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-283">Client sends contents of file through the data connection.</span></span> <span data-ttu-id="36553-284">Этот процесс продолжается до полной передачи файла.</span><span class="sxs-lookup"><span data-stu-id="36553-284">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="36553-285">По завершении клиент разрывает подключение к данным.</span><span class="sxs-lookup"><span data-stu-id="36553-285">When finished, Client disconnects data connection.</span></span>
1. <span data-ttu-id="36553-286">**Сервер отправляет ответ 226 на контрольный сокет, информирующий об успешной записи файла.**</span><span class="sxs-lookup"><span data-stu-id="36553-286">**Server sends “226” response on the control socket to signal file write is successful.**</span></span>
1. <span data-ttu-id="36553-287">Клиент отправляет сообщение QUIT для завершения FTP-подключения.</span><span class="sxs-lookup"><span data-stu-id="36553-287">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="36553-288">Сервер отправляет ответ 221, информирующий об успешном отключении.</span><span class="sxs-lookup"><span data-stu-id="36553-288">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="36553-289">Сервер разрывает FTP-подключение.</span><span class="sxs-lookup"><span data-stu-id="36553-289">Server disconnects FTP connection.</span></span>

## <a name="ftp-authentication"></a><span data-ttu-id="36553-290">FTP Authentication</span><span class="sxs-lookup"><span data-stu-id="36553-290">FTP Authentication</span></span>

<span data-ttu-id="36553-291">При каждом FTP-подключении клиент должен предоставить серверу *имя пользователя* и *пароль*.</span><span class="sxs-lookup"><span data-stu-id="36553-291">Whenever an FTP connection takes place, the Client must provide the Server with a *username* and *password*.</span></span> <span data-ttu-id="36553-292">Некоторые FTP-сайты поддерживают так называемый *анонимный доступ к FTP*, который разрешает доступ к FTP без определенного имени пользователя и пароля.</span><span class="sxs-lookup"><span data-stu-id="36553-292">Some FTP sites allow what is called *Anonymous FTP*, which allows FTP access without a specific username and password.</span></span> <span data-ttu-id="36553-293">Для этого типа подключения в качестве имени пользователя должно быть указано anonymous, а пароль должен быть полным адресом электронной почты.</span><span class="sxs-lookup"><span data-stu-id="36553-293">For this type of connection, “anonymous” should be supplied for username and the password should be a complete e-mail address.</span></span>

<span data-ttu-id="36553-294">Пользователь несет ответственность за предоставление FTP NetX подпрограмм проверки подлинности входа и выхода.</span><span class="sxs-lookup"><span data-stu-id="36553-294">The user is responsible for supplying NetX FTP with login and logout authentication routines.</span></span> <span data-ttu-id="36553-295">Они предоставляются во время вызова служб ***nxd_ftp_server_create** _ и _*_nx_ftp_server_create_\*_ и вызываются при обработке паролей.</span><span class="sxs-lookup"><span data-stu-id="36553-295">These are supplied during the ***nxd_ftp_server_create** _ and _*_nx_ftp_server_create_\*_ services and called from the password processing.</span></span> <span data-ttu-id="36553-296">Различие между ними заключается в том, что входные указатели функции _*_nxd_ftp_server_create_*_ на функции входа и выхода из системы принимают тип адреса NetX Duo _*_NXD_ADDRESS_*_.</span><span class="sxs-lookup"><span data-stu-id="36553-296">The difference between the two is the _*_nxd_ftp_server_create_*_ input function pointers to login and logout authenticate functions expect the NetX Duo address type _*_NXD_ADDRESS_*_.</span></span> <span data-ttu-id="36553-297">Этот тип данных может содержать адрес в формате IPv4 или IPv6, что делает данную функцию универсальной, поддерживающей как сети IPv4, так и сети IPv6.</span><span class="sxs-lookup"><span data-stu-id="36553-297">This data type holds both IPv4 or IPv6 address formats, making this function the “duo” service supporting both IPv4 and IPv6 networks.</span></span> <span data-ttu-id="36553-298">Входные указатели функции _ *_nx_ftp_server_create_*\* на функции входа и выхода из системы принимают тип IP-адреса ULONG.</span><span class="sxs-lookup"><span data-stu-id="36553-298">The _ *_nx_ftp_server_create_*\* input function pointers to login and logout authenticate functions expect ULONG IP address type.</span></span> <span data-ttu-id="36553-299">Эта функция ограничена сетями IPv4.</span><span class="sxs-lookup"><span data-stu-id="36553-299">This function is limited to IPv4 networks.</span></span> <span data-ttu-id="36553-300">Разработчикам рекомендуется использовать универсальную службу везде, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="36553-300">The developer is encouraged to use the “duo” service whenever possible.</span></span>

<span data-ttu-id="36553-301">Если функция *входа в систему* возвращает NX_SUCCESS, значит, подключение прошло проверку подлинности и операции FTP разрешены.</span><span class="sxs-lookup"><span data-stu-id="36553-301">If the *login* function returns NX_SUCCESS, the connection is authenticated and FTP operations are allowed.</span></span> <span data-ttu-id="36553-302">В противном случае, если функция *входа в систему* возвращает нечто, отличное от NX_SUCCESS, попытка подключения отклоняется.</span><span class="sxs-lookup"><span data-stu-id="36553-302">Otherwise, if the *login* function returns something other than NX_SUCCESS, the connection attempt is rejected.</span></span>

## <a name="ftp-multi-thread-support"></a><span data-ttu-id="36553-303">Поддержка нескольких потоков FTP</span><span class="sxs-lookup"><span data-stu-id="36553-303">FTP Multi-Thread Support</span></span>

<span data-ttu-id="36553-304">Службы клиента FTP NetX можно вызывать из нескольких потоков одновременно.</span><span class="sxs-lookup"><span data-stu-id="36553-304">The NetX FTP Client services can be called from multiple threads simultaneously.</span></span> <span data-ttu-id="36553-305">Однако запросы на чтение или запись для конкретного экземпляра клиента FTP должны выполняться последовательно из одного потока.</span><span class="sxs-lookup"><span data-stu-id="36553-305">However, read or write requests for a particular FTP Client instance should be done in sequence from the same thread.</span></span>

## <a name="ftp-rfcs"></a><span data-ttu-id="36553-306">Стандарты RFC для протокола FTP</span><span class="sxs-lookup"><span data-stu-id="36553-306">FTP RFCs</span></span>

<span data-ttu-id="36553-307">Протокол FTP в NetX Duo совместим с RFC 959, RFC 2428 и связанными стандартами RFC.</span><span class="sxs-lookup"><span data-stu-id="36553-307">NetX Duo FTP is compliant with RFC 959, RFC 2428 and related RFCs.</span></span>
