---
title: Глава 1. Введение в SMTP клиент NetX Duo для ОСРВ Azure
description: Протокол SMTP — это протокол передачи почтовых сообщений по сетям и Интернету.
author: philmea
ms.author: philmea
ms.date: 07/09/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: f58a0c235f5c2cd108ba97afe676ffa9b66e715c
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104814583"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-duo-smtp-client"></a><span data-ttu-id="4e205-103">Глава 1. Введение в SMTP клиент NetX Duo для ОСРВ Azure</span><span class="sxs-lookup"><span data-stu-id="4e205-103">Chapter 1 - Introduction to Azure RTOS NetX Duo SMTP client</span></span>

<span data-ttu-id="4e205-104">Протокол SMTP — это протокол передачи почтовых сообщений по сетям и Интернету.</span><span class="sxs-lookup"><span data-stu-id="4e205-104">The Simple Mail Transfer Protocol (SMTP) is a protocol for transferring mail across networks and the Internet.</span></span> <span data-ttu-id="4e205-105">Для выполнения функции передачи содержимого используется надежные службы протокола TCP.</span><span class="sxs-lookup"><span data-stu-id="4e205-105">It utilizes the reliable Transmission Control Protocol (TCP) services to perform its content transfer function.</span></span>

## <a name="netx-duo-smtp-client-requirements"></a><span data-ttu-id="4e205-106">Требования для клиента SMTP NetX Duo</span><span class="sxs-lookup"><span data-stu-id="4e205-106">NetX Duo SMTP Client Requirements</span></span>

<span data-ttu-id="4e205-107">Для клиента SMTP NetX Duo необходимо создать экземпляр IP NetX Duo и пул пакетов NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="4e205-107">The NetX Duo SMTP Client requires creation of a NetX Duo IP instance and NetX Duo packet pool.</span></span> <span data-ttu-id="4e205-108">Клиент SMTP использует TCP-сокет для подключения к серверу SMTP на *хорошо известном порте 25.* Поэтому сначала необходимо включить протокол TCP, вызвав службу *nx_tcp_enable* на ранее созданном экземпляре IP.</span><span class="sxs-lookup"><span data-stu-id="4e205-108">The SMTP Client uses a TCP socket to connect to an SMTP Server on the *well-known port 25. Therefore*, TCP must first be enabled by calling the *nx_tcp_enable* service on a previously created IP instance.</span></span>

<span data-ttu-id="4e205-109">Вызов создания клиента SMTP (nxd_smtp_client_create) требует ранее созданного пула пакетов для передачи команд SMTP на сервер, а также для отправки самого почтового сообщения.</span><span class="sxs-lookup"><span data-stu-id="4e205-109">The SMTP Client create call (nxd_smtp_client_create) requires a previously created packet pool for transmitting SMTP commands to the Server as well as for sending the actual mail message.</span></span> <span data-ttu-id="4e205-110">Полезные данные пакета зависят от ожидаемого размера содержимого почты и должны разрешать TCP, заголовок IP и заголовок MAC.</span><span class="sxs-lookup"><span data-stu-id="4e205-110">Packet payload depends on the anticipated size of the mail contents and must allow for TCP, IP header, and MAC header.</span></span> <span data-ttu-id="4e205-111">(Обратите внимание, что заголовок IPv6 составляет 40 байт, а заголовок IPv4 — 20 байт.)</span><span class="sxs-lookup"><span data-stu-id="4e205-111">(Note that the IPv6 header is 40 bytes while the IPv4 header is 20 bytes.)</span></span>

<span data-ttu-id="4e205-112">Если все почтовое сообщение не помещается в одном пакете, то клиент SMTP выделяет дополнительные пакеты, чтобы вместить остальную часть сообщения.</span><span class="sxs-lookup"><span data-stu-id="4e205-112">If the entire mail message cannot fit in one packet, the SMTP Client allocates additional packets to contain the rest of the message.</span></span>

## <a name="netx-duo-smtp-client-constraints"></a><span data-ttu-id="4e205-113">Ограничения клиента SMTP NetX Duo</span><span class="sxs-lookup"><span data-stu-id="4e205-113">NetX Duo SMTP Client Constraints</span></span>

<span data-ttu-id="4e205-114">Хотя протокол SMTP NetX Duo реализует стандарты RFC 2821 и 2554, существуют некоторые ограничения.</span><span class="sxs-lookup"><span data-stu-id="4e205-114">While the NetX Duo SMTP protocol implements the RFC 2821 and 2554 standards, there are some constraints:</span></span>

1. <span data-ttu-id="4e205-115">Клиент SMTP NetX Duo поддерживает только проверку подлинности LOGIN и PLAIN, но не дайджест-аутентификацию CRAM-MD5.</span><span class="sxs-lookup"><span data-stu-id="4e205-115">The NetX Duo SMTP Client supports only LOGIN and PLAIN authentication, but not CRAM-MD5 digest authentication.</span></span>
2. <span data-ttu-id="4e205-116">Сообщения клиента SMTP NetX Duo ограничены одним получателем на один почтовый элемент и только одним почтовым сообщением на одно TCP-соединение к TCP-серверу.</span><span class="sxs-lookup"><span data-stu-id="4e205-116">The NetX Duo SMTP Client messages are limited to one recipient per mail item, and only one mail message per TCP connection with the SMTP server.</span></span>
3. <span data-ttu-id="4e205-117">Параметры SMTP VRFY, SEND, SOML, EXPN, SAML, ETRN, TURN и SIZE не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="4e205-117">VRFY, SEND, SOML, EXPN, SAML, ETRN, TURN and SIZE SMTP options are not supported.</span></span>
4. <span data-ttu-id="4e205-118">Клиент SMTP не является браузером почты ("пользовательским почтовым агентом"), который обычно используется для создания почтового сообщения.</span><span class="sxs-lookup"><span data-stu-id="4e205-118">The SMTP Client is not mail browser (“mail user agent”) which is typically used for creating the mail message.</span></span> <span data-ttu-id="4e205-119">Он является только "агентом перемещения почты".</span><span class="sxs-lookup"><span data-stu-id="4e205-119">It is a “mail transfer agent” only.</span></span> <span data-ttu-id="4e205-120">Он предоставляет необходимую обработку текста почтового сообщения для передачи по протоколу SMTP в соответствие с RFC 2821.</span><span class="sxs-lookup"><span data-stu-id="4e205-120">It will provide the necessary processing of the mail message body for SMTP transport as specified in RFC 2821.</span></span> <span data-ttu-id="4e205-121">Он не проверяет содержимое на предмет правильного синтаксиса, например получателя и обратного пути.</span><span class="sxs-lookup"><span data-stu-id="4e205-121">It does not check the contents for correct syntax e.g. the recipient and reverse pathway.</span></span> <span data-ttu-id="4e205-122">Нет ограничений на то, что находится в почтовом буфере, например данные MIME или незашифрованные текстовые сообщения.</span><span class="sxs-lookup"><span data-stu-id="4e205-122">There is no restriction what is in the mail buffer e.g. MIME data or clear text messages.</span></span> <span data-ttu-id="4e205-123">Формат почтового сообщения, указанный в RFC 2822, в отношении включения заголовков и текста сообщения находится за рамками API клиента SMTP.</span><span class="sxs-lookup"><span data-stu-id="4e205-123">Mail message format, specified in RFC 2822 for including headers and message body is beyond the scope of the SMTP Client API.</span></span>

## <a name="commands-supported-by-netx-duo-smtp-client"></a><span data-ttu-id="4e205-124">Команды, поддерживаемые клиентом SMTP DuoNetX Duo</span><span class="sxs-lookup"><span data-stu-id="4e205-124">Commands Supported by NetX Duo SMTP Client</span></span>

<span data-ttu-id="4e205-125">Клиент SMTP NetX Duo использует следующие команды во время почтового сеанса с сервером SMTP.</span><span class="sxs-lookup"><span data-stu-id="4e205-125">The NetX Duo SMTP Client uses the following commands during a mail session with an SMTP Server.</span></span>

- <span data-ttu-id="4e205-126">**EHLO** — клиент хочет инициировать сеанс, включающий некоторые или все SMTP-службы расширения протокола, доступные на сервере SMTP.</span><span class="sxs-lookup"><span data-stu-id="4e205-126">**EHLO** The Client would like to initiate a session that includes some or all extension protocol SMTP services available from the SMTP Server.</span></span> <span data-ttu-id="4e205-127">Это значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4e205-127">This is the default.</span></span>
- <span data-ttu-id="4e205-128">**HELO** — клиент хочет инициировать сеанс, ограниченный базовыми службами SMTP.</span><span class="sxs-lookup"><span data-stu-id="4e205-128">**HELO** The Client would like to initiate a session limited to basic SMTP services.</span></span>
- <span data-ttu-id="4e205-129">**MAIL** — клиент хочет, чтобы сервер получил почту клиента.</span><span class="sxs-lookup"><span data-stu-id="4e205-129">**MAIL** The Client would like the Server to receive Client mail.</span></span>
- <span data-ttu-id="4e205-130">**AUTH** — клиент хочет инициировать проверку подлинности на сервере.</span><span class="sxs-lookup"><span data-stu-id="4e205-130">**AUTH** The Client would like to initiate authentication by the Server.</span></span>
- <span data-ttu-id="4e205-131">**RCPT** — клиент хочет отправить адрес почтового ящика другого узла, которому будет доставлено сообщение.</span><span class="sxs-lookup"><span data-stu-id="4e205-131">**RCPT** The Client would like to submit a mailbox of another host it would like the mail to be delivered to.</span></span>
- <span data-ttu-id="4e205-132">**DATA** — клиент хочет инициировать отправку данных почтового сообщения на сервер.</span><span class="sxs-lookup"><span data-stu-id="4e205-132">**DATA** The Client would like to initiate sending mail message data to the Server.</span></span>
- <span data-ttu-id="4e205-133">**QUIT** — клиент хочет завершить сеанс.</span><span class="sxs-lookup"><span data-stu-id="4e205-133">**QUIT** The Client would like to terminate the session.</span></span>

## <a name="getting-started"></a><span data-ttu-id="4e205-134">Приступая к работе</span><span class="sxs-lookup"><span data-stu-id="4e205-134">Getting Started</span></span>

<span data-ttu-id="4e205-135">Клиентское приложение SMTP создает экземпляр IP и включает для него TCP.</span><span class="sxs-lookup"><span data-stu-id="4e205-135">The SMTP Client application creates an IP instance and an enables TCP on that IP instance.</span></span> <span data-ttu-id="4e205-136">Затем оно создает клиента SMTP, используя следующую службу:</span><span class="sxs-lookup"><span data-stu-id="4e205-136">It then creates the SMTP Client using the following service:</span></span>

```C
UINT nxd_smtp_client_create(NX_SMTP_CLIENT *client_ptr,
    NX_IP *ip_ptr, NX_PACKET_POOL
    *client_packet_pool_ptr,
    CHAR *username, CHAR *password,
    CHAR *from_address,
    CHAR *client_domain,
    UINT authentication_type,
    NXD_ADDRESS *server_address, UINT port);
```

<span data-ttu-id="4e205-137">Параметр *client_packet_pool_ptr* является указателем на ранее созданный пул пакетов, который клиент SMTP будет использовать для отправки сообщений на сервер SMTP.</span><span class="sxs-lookup"><span data-stu-id="4e205-137">The *client_packet_pool_ptr* is a pointer to a previously created packet pool the SMTP Client will use to send messages to the SMTP Server.</span></span>

<span data-ttu-id="4e205-138">Обратите внимание, что приложение должно предоставлять параметр *from_address* для локального устройства и IP-адрес сервера.</span><span class="sxs-lookup"><span data-stu-id="4e205-138">Note that an application must provide a *from_address* for the local device and a server IP address.</span></span> <span data-ttu-id="4e205-139">Все адреса должны представлять собой полное доменное имя.</span><span class="sxs-lookup"><span data-stu-id="4e205-139">All addresses must be fully qualified domain names.</span></span> <span data-ttu-id="4e205-140">Полное доменное имя содержит локальную часть и доменное имя, разделенные символом "@".</span><span class="sxs-lookup"><span data-stu-id="4e205-140">A fully qualified domain name contains a local-part and a domain name, separated by an ‘@’ character.</span></span> <span data-ttu-id="4e205-141">Обратите внимание, что клиент SMTP не проверяет синтаксис адресов *from_address* и *recipient_address* в службе nx_smtp_mail_send ниже.</span><span class="sxs-lookup"><span data-stu-id="4e205-141">Note that the SMTP Client does not check the syntax of the *from_address* or the *recipient_address* in the nx_smtp_mail_send service below.</span></span>

<span data-ttu-id="4e205-142">После создания клиента SMTP клиентское приложение SMTP создает почтовый элемент с правильно отформатированным почтовым сообщением SMTP и отправляет запрос почтового элемента клиенту SMTP, используя следующий API:</span><span class="sxs-lookup"><span data-stu-id="4e205-142">After the SMTP Client is created, the SMTP Client application creates a mail item with a properly formatted SMTP mail message, and makes the mail item send request to the SMTP Client using the following API:</span></span>

```C
UINT nx_smtp_mail_send(NX_SMTP_CLIENT *client_ptr,
    CHAR *recipient_address, UINT priority,
    CHAR *subject, CHAR *mail_body,
    UINT mail_body_length);
```

<span data-ttu-id="4e205-143">С точки зрения пользователя нет никакой разницы в работе клиента SMTP по протоколу IPv4 или IPv6.</span><span class="sxs-lookup"><span data-stu-id="4e205-143">There is essentially no difference in running SMTP Client over IPv4 or IPv6 from user perspective.</span></span> <span data-ttu-id="4e205-144">Различия между двумя IP-протоколами обрабатываются на базовом уровне NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="4e205-144">Differences between the two IP protocols are handled in the underlying NetX Duo layer.</span></span>

<span data-ttu-id="4e205-145">Обратите внимание, что приложение, желающее отправить почту, должно предоставить адрес получателя в вызове *nx_smtp_client_mail*.</span><span class="sxs-lookup"><span data-stu-id="4e205-145">Note that an application wishing to send mail must provide a recipient address in the *nx_smtp_client_mail* call.</span></span>

<span data-ttu-id="4e205-146">Для проверки подлинности имена пользователей могут быть либо полными доменными именами, либо отображаемыми именами пользователей.</span><span class="sxs-lookup"><span data-stu-id="4e205-146">For authentication, usernames can either be fully qualified domain names, or display user names.</span></span> <span data-ttu-id="4e205-147">Это зависит от того, как сервер выполняет проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="4e205-147">This depends on how the Server performs authentication.</span></span>

<span data-ttu-id="4e205-148">В разделе "Небольшой пример" ниже в этом руководство пользователя показано, как следует отформатировать сообщение.</span><span class="sxs-lookup"><span data-stu-id="4e205-148">The demo in the Small Example section later in this User Guide shows how the message should be formatted.</span></span> <span data-ttu-id="4e205-149">При успешной отправке почтового элемента состояние будет NX_SUCCESS.</span><span class="sxs-lookup"><span data-stu-id="4e205-149">The status if the mail item was successfully sent will be NX_SUCCESS.</span></span> <span data-ttu-id="4e205-150">Если возникает ошибка, будь это внутренней ошибкой, разорванным TCP-соединением или получением кода ошибки ответа сервера, *nx_smtp_mail_send* возвращает состояние ошибки, отличное от нуля.</span><span class="sxs-lookup"><span data-stu-id="4e205-150">If an error occurs, whether it is an internal error, a broken TCP connection or receiving a Server reply error code, *nx_smtp_mail_send* will return a non-zero error status.</span></span>

<span data-ttu-id="4e205-151">При отправке почтового элемента клиент SMTP NetX Duo создает новое TCP-соединение с сервером SMTP и начинает сеанс SMTP.</span><span class="sxs-lookup"><span data-stu-id="4e205-151">When sending a mail item, NetX Duo SMTP Client creates a new TCP connection with the SMTP server and begins an SMTP session.</span></span> <span data-ttu-id="4e205-152">В этом сеансе клиент отправляет ряд команд на сервер SMTP как часть протокола SMTP, заканчивая отправкой самого почтового сообщения.</span><span class="sxs-lookup"><span data-stu-id="4e205-152">In this session, the Client sends a series of commands to the SMTP Server as part of the SMTP protocol, culminating in sending out the actual mail message.</span></span> <span data-ttu-id="4e205-153">Подключение TCP завершается, независимо от результата сеанса SMTP.</span><span class="sxs-lookup"><span data-stu-id="4e205-153">The TCP connection is then terminated, regardless of the outcome of the SMTP session.</span></span>

<span data-ttu-id="4e205-154">После передачи почты, успешного или завершившегося сбоем, клиент SMTP возвращается в "начальное" состояние и может использоваться для другого сеанса передачи почты.</span><span class="sxs-lookup"><span data-stu-id="4e205-154">After mail transmission, regardless of success or failure, the SMTP Client is returned to the ‘initial’ state, and can be used for another mail transfer session.</span></span>

## <a name="netx-duo-smtp-authentication"></a><span data-ttu-id="4e205-155">Проверка подлинности SMTP NetX Duo</span><span class="sxs-lookup"><span data-stu-id="4e205-155">NetX Duo SMTP Authentication</span></span>

<span data-ttu-id="4e205-156">Проверка подлинности — это способ, которым клиенты SMTP могут подтвердить свою личность на сервере SMTP и отправить почту в качестве доверенного пользователя.</span><span class="sxs-lookup"><span data-stu-id="4e205-156">Authentication is a way for SMTP Clients to prove their identity to the SMTP Server and have their mail delivered as trusted users.</span></span> <span data-ttu-id="4e205-157">Для большинства коммерческих SMTP-серверов требуется проверка подлинности клиентов.</span><span class="sxs-lookup"><span data-stu-id="4e205-157">Most commercial SMTP Servers require that Clients be authenticated.</span></span>

<span data-ttu-id="4e205-158">Как правило, данные проверки подлинности состоят из имени пользователя и пароля отправителя.</span><span class="sxs-lookup"><span data-stu-id="4e205-158">Typically, authentication data consists of the sender's username and password.</span></span> <span data-ttu-id="4e205-159">Во время запроса проверки подлинности сервер запрашивает эти сведения, а клиент отвечает, отправляя запрошенные данные в закодированном формате.</span><span class="sxs-lookup"><span data-stu-id="4e205-159">During an authentication challenge, the Server prompts for this information and the Client responds by sending the requested data in encoded format.</span></span> <span data-ttu-id="4e205-160">Сервер декодирует данные и пытается найти совпадение в пользовательской базе данных.</span><span class="sxs-lookup"><span data-stu-id="4e205-160">The Server decodes the data and attempts to find a match in its user database.</span></span> <span data-ttu-id="4e205-161">Если совпадение найдено, сервер указывает, что проверка подлинности прошла успешно.</span><span class="sxs-lookup"><span data-stu-id="4e205-161">If found, the Server indicates the authentication is successful.</span></span> <span data-ttu-id="4e205-162">Проверка подлинности SMTP определена в документе [RFC 2554](http://www.ietf.org/rfc/rfc2554.txt).</span><span class="sxs-lookup"><span data-stu-id="4e205-162">SMTP authentication is defined in [RFC 2554](http://www.ietf.org/rfc/rfc2554.txt).</span></span>

<span data-ttu-id="4e205-163">Различают две разновидности проверки подлинности: *обычную* и *с использованием дайджеста*.</span><span class="sxs-lookup"><span data-stu-id="4e205-163">There are two flavors of authentication, namely *basic* and *digest*.</span></span> <span data-ttu-id="4e205-164">Дайджест не поддерживается в текущем клиенте SMTP NetX Duo и не рассматривается в этой статье.</span><span class="sxs-lookup"><span data-stu-id="4e205-164">Digest is not supported in the current NetX Duo SMTP Client, and will not be discussed here.</span></span> <span data-ttu-id="4e205-165">Обычная проверка подлинности эквивалентна проверке подлинности *имени* и *пароля*, описанной выше.</span><span class="sxs-lookup"><span data-stu-id="4e205-165">Basic authentication is equivalent to the *name* and *password* authentication described above.</span></span> <span data-ttu-id="4e205-166">При обычной проверке подлинности SMTP имя и пароль кодируются в кодировке base64.</span><span class="sxs-lookup"><span data-stu-id="4e205-166">In SMTP basic authentication, the name and passwords are base64 encoded.</span></span> <span data-ttu-id="4e205-167">Преимущество обычной проверки подлинности заключается в простоте реализации и широком использовании.</span><span class="sxs-lookup"><span data-stu-id="4e205-167">The advantage of basic authentication is its ease of implementation and widespread use.</span></span> <span data-ttu-id="4e205-168">Основным недостатком обычной проверки подлинности является то, что имя и пароль передаются в запросе в незашифрованном виде.</span><span class="sxs-lookup"><span data-stu-id="4e205-168">The main disadvantage of basic authentication is name and password data is transmitted openly in the request.</span></span>

### <a name="plain-authentication"></a><span data-ttu-id="4e205-169">Проверка подлинности PLAIN</span><span class="sxs-lookup"><span data-stu-id="4e205-169">Plain Authentication</span></span>

<span data-ttu-id="4e205-170">Клиент SMTP NetX Duo отправляет команду AUTH с параметром PLAIN.</span><span class="sxs-lookup"><span data-stu-id="4e205-170">The NetX Duo SMTP Client sends an AUTH command with the PLAIN parameter.</span></span> <span data-ttu-id="4e205-171">Если SMTP-сервер NetX Duo поддерживает такой тип проверки подлинности, он отправит код ответа 334.</span><span class="sxs-lookup"><span data-stu-id="4e205-171">If the NetX Duo SMTP Server supports this type of authentication, it will reply with a 334 reply code.</span></span> <span data-ttu-id="4e205-172">Клиент отвечает серверу одним сообщением с именем пользователя и паролем в кодировке base64.</span><span class="sxs-lookup"><span data-stu-id="4e205-172">The Client replies with a single base64 encoded username and password message to the Server.</span></span> <span data-ttu-id="4e205-173">Если сервер определяет проверку подлинности клиента как успешную, он отвечает кодом успешного выполнения 235.</span><span class="sxs-lookup"><span data-stu-id="4e205-173">If the Server determines the Client authentication is successful, it responds with the 235 success code.</span></span>

### <a name="login-authentication"></a><span data-ttu-id="4e205-174">Проверка подлинности LOGIN</span><span class="sxs-lookup"><span data-stu-id="4e205-174">Login Authentication</span></span>

<span data-ttu-id="4e205-175">Клиент SMTP NetX Duo отправляет команду AUTH с параметром LOGIN.</span><span class="sxs-lookup"><span data-stu-id="4e205-175">The NetX Duo SMTP Client sends an AUTH command with the LOGIN parameter.</span></span> <span data-ttu-id="4e205-176">Если SMTP-сервер NetX Duo поддерживает такой тип проверки подлинности, он отправляет код ответа 334 в качестве начала "запроса" проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="4e205-176">If the NetX Duo SMTP Server supports this type of authentication, it will reply with a 334 reply code as the start of the authentication ‘challenge’.</span></span> <span data-ttu-id="4e205-177">Он отправляет клиенту запрос в кодировке base64, которым обычно является "имя пользователя".</span><span class="sxs-lookup"><span data-stu-id="4e205-177">It sends a base64 encoded prompt back to the Client which is typically “Username”.</span></span> <span data-ttu-id="4e205-178">Клиент декодирует запрос и отправляет ответ с именем пользователя в кодировке base64.</span><span class="sxs-lookup"><span data-stu-id="4e205-178">The Client decodes the prompt, and replies with a base64 encoded username.</span></span> <span data-ttu-id="4e205-179">Если сервер принимает имя пользователя клиента, он отправляет запрос на ввод пароля клиента в кодировке base64.</span><span class="sxs-lookup"><span data-stu-id="4e205-179">If the Server accepts the Client username, it sends out a base64 encoded prompt for the Client password.</span></span> <span data-ttu-id="4e205-180">Клиент отправляет в ответ пароль в кодировке base64.</span><span class="sxs-lookup"><span data-stu-id="4e205-180">The Client responds with a base64 encoded password.</span></span> <span data-ttu-id="4e205-181">Если сервер определяет проверку подлинности клиента как успешную, он отвечает кодом успешного выполнения 235.</span><span class="sxs-lookup"><span data-stu-id="4e205-181">If the Server determines the Client authentication is successful, it responds with the 235 success code.</span></span>

### <a name="no-authentication"></a><span data-ttu-id="4e205-182">Без аутентификации</span><span class="sxs-lookup"><span data-stu-id="4e205-182">No Authentication</span></span>

<span data-ttu-id="4e205-183">Некоторые серверы SMTP настроены без проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="4e205-183">Some SMTP Servers are configured without authentication.</span></span> <span data-ttu-id="4e205-184">Если это так, то их ответ 250 на сообщение EHLO клиента не будет содержать типы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="4e205-184">If so, their 250 response to the Client EHLO message will not list any authentication types.</span></span> <span data-ttu-id="4e205-185">Однако отсутствие перечисленных типов проверки подлинности не обязательно означает, что сервер не требует и не поддерживает проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="4e205-185">However, no authentication types listed does not necessarily mean the Server does not require or support authentication.</span></span> <span data-ttu-id="4e205-186">Если в этой ситуации клиент настроен для аутентификации PLAIN или LOGIN, то задача потока клиента NetX Duo по умолчанию будет использовать PLAIN.</span><span class="sxs-lookup"><span data-stu-id="4e205-186">If the Client is configured for PLAIN or LOGIN authentication in this situation, the NetX Duo Client thread task will default to PLAIN.</span></span> <span data-ttu-id="4e205-187">Если клиент настроен для NONE, шаг проверки подлинности пропускается, а состояние SMTP переходит в состояние MAIL.</span><span class="sxs-lookup"><span data-stu-id="4e205-187">If the Client is configured for NONE, the authentication step is skipped and the SMTP state advances to the MAIL state.</span></span>

<span data-ttu-id="4e205-188">Обратите внимание, что если клиент настроен без проверки подлинности, а сервер SMTP поддерживает проверку подлинности, то тип проверки подлинности клиента переключается на PLAIN.</span><span class="sxs-lookup"><span data-stu-id="4e205-188">Note that if the Client is configured for no authentication and the SMTP Server does support authentication, the Client authentication type is switched to PLAIN.</span></span>

## <a name="rfcs-supported-by-netx-duo-smtp-client"></a><span data-ttu-id="4e205-189">Документы RFC, поддерживаемые клиентом SMTP NetX Duo</span><span class="sxs-lookup"><span data-stu-id="4e205-189">RFCs Supported by NetX Duo SMTP Client</span></span>

<span data-ttu-id="4e205-190">API клиента SMTP NetX Duo соответствует стандарту RFC2821 "Протокол SMTP" и RFC 2554 "Расширение службы SMTP для проверки подлинности".</span><span class="sxs-lookup"><span data-stu-id="4e205-190">NetX Duo SMTP Client API is compliant with RFC2821 “Simple Mail Transfer Protocol” and RFC 2554 “SMTP Service Extension for Authentication.</span></span> <span data-ttu-id="4e205-191">“</span><span class="sxs-lookup"><span data-stu-id="4e205-191">“</span></span>
