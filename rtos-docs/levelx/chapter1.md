---
title: Глава 1. Общие сведения о LevelX для ОСРВ Azure
description: LevelX для ОСРВ Azure предоставляет встраиваемым приложениям возможности выравнивания износа флэш-памяти NAND и NOR.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 73c06d48b98081291d83635e049e6cf8641714c87efe815f9399f3fbab3a6211
ms.sourcegitcommit: 93d716cf7e3d735b18246d659ec9ec7f82c336de
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2021
ms.locfileid: "116790604"
---
# <a name="chapter-1---overview-of-azure-rtos-levelx"></a>Глава 1. Общие сведения о LevelX для ОСРВ Azure

LevelX для ОСРВ Azure предоставляет встраиваемым приложениям возможности выравнивания износа флэш-памяти NAND и NOR. Поскольку флэш-память NAND и NOR допускает ограниченное количество удалений информации, крайне важно равномерно распределять ее использование. Достижение этой равномерности часто называют "выравнивание износа", и именно для этого предназначается LevelX.

Алгоритм выбора блока флэш-памяти для повторного использования основывается на счетчике удалений, но учитывает и другие параметры. Блок с минимальным числом удалений не будет выбран для записи, если существует другой блок с допустимой разницей в числе удалений, у которого выше число устаревших сопоставлений. В таких случаях будет удален и повторно использован блок с большим числом устаревших удалений, что позволяет избежать лишних затрат на перемещение записей сопоставления.

LevelX поддерживает несколько экземпляров частей NAND и (или) NOR, то есть в одном приложении можно использовать несколько экземпляров LevelX. Каждому экземпляру требуется собственный блок управления, предоставленный приложением, а также собственный драйвер флэш-памяти.

LevelX предоставляет пользователю массив логических секторов, которые внутренними средствами LevelX сопоставляются с участками физической памяти. Чтобы повысить производительность, LevelX предоставляет также кэш недавно использованных сопоставлений логических секторов. Размер этого кэша определяется программистом. Приложения могут использовать LevelX в сочетании с FileX или выполнять чтение и запись напрямую в логических секторах. LevelX не зависит от FileX и имеет очень низкий уровень зависимости от ThreadX (используются только простые типы данных ThreadX).

Библиотека LevelX разрабатывалась с упором на отказоустойчивость. Обновления флэш-памяти выполняются в несколько этапов, на каждом из которых допустимо прерывание процесса. LevelX автоматически восстановит оптимальное состояние памяти при выполнении следующей операции.

Для LevelX требуется, чтобы драйвер флэш-памяти имел физический доступ к базовой памяти. Мы предоставляем примеры имитированных драйверов NAND и NOR, которые станут хорошей основой для реализации собственных драйверов для LevelX. Дополнительные требования к драйверам подробно описаны далее в этой документации.

Следующие главы посвящены описанию работы LevelX с NAND и NOR.
